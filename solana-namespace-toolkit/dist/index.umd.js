(function(Gr,j){typeof exports=="object"&&typeof module<"u"?j(exports,require("react"),require("react-dom")):typeof define=="function"&&define.amd?define(["exports","react","react-dom"],j):(Gr=typeof globalThis<"u"?globalThis:Gr||self,j(Gr["solana-namespace-toolkit"]={},Gr.React,Gr.ReactDOM))})(this,function(Gr,j,s1){"use strict";function a1(r){const t=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(r){for(const e in r)if(e!=="default"){const n=Object.getOwnPropertyDescriptor(r,e);Object.defineProperty(t,e,n.get?n:{enumerable:!0,get:()=>r[e]})}}return t.default=r,Object.freeze(t)}const nr=a1(j);var qe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function on(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function yi(r){if(r.__esModule)return r;var t=r.default;if(typeof t=="function"){var e=function n(){if(this instanceof n){var o=[null];o.push.apply(o,arguments);var i=Function.bind.apply(t,o);return new i}return t.apply(this,arguments)};e.prototype=t.prototype}else e={};return Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(r).forEach(function(n){var o=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(e,n,o.get?o:{enumerable:!0,get:function(){return r[n]}})}),e}var ic={exports:{}},Zo={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sl;function c1(){if(sl)return Zo;sl=1;var r=j,t=Symbol.for("react.element"),e=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function c(u,p,b){var _,B={},C=null,k=null;b!==void 0&&(C=""+b),p.key!==void 0&&(C=""+p.key),p.ref!==void 0&&(k=p.ref);for(_ in p)n.call(p,_)&&!i.hasOwnProperty(_)&&(B[_]=p[_]);if(u&&u.defaultProps)for(_ in p=u.defaultProps,p)B[_]===void 0&&(B[_]=p[_]);return{$$typeof:t,type:u,key:C,ref:k,props:B,_owner:o.current}}return Zo.Fragment=e,Zo.jsx=c,Zo.jsxs=c,Zo}var Yo={};/**
 * @license React
 * react-jsx-runtime.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var al;function u1(){return al||(al=1,process.env.NODE_ENV!=="production"&&function(){var r=j,t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),u=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),k=Symbol.for("react.offscreen"),O=Symbol.iterator,U="@@iterator";function R(D){if(D===null||typeof D!="object")return null;var at=O&&D[O]||D[U];return typeof at=="function"?at:null}var P=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function F(D){{for(var at=arguments.length,nt=new Array(at>1?at-1:0),dt=1;dt<at;dt++)nt[dt-1]=arguments[dt];L("error",D,nt)}}function L(D,at,nt){{var dt=P.ReactDebugCurrentFrame,pe=dt.getStackAddendum();pe!==""&&(at+="%s",nt=nt.concat([pe]));var St=nt.map(function(bt){return String(bt)});St.unshift("Warning: "+at),Function.prototype.apply.call(console[D],console,St)}}var z=!1,$=!1,N=!1,q=!1,W=!1,et;et=Symbol.for("react.module.reference");function ht(D){return!!(typeof D=="string"||typeof D=="function"||D===n||D===i||W||D===o||D===b||D===_||q||D===k||z||$||N||typeof D=="object"&&D!==null&&(D.$$typeof===C||D.$$typeof===B||D.$$typeof===c||D.$$typeof===u||D.$$typeof===p||D.$$typeof===et||D.getModuleId!==void 0))}function Q(D,at,nt){var dt=D.displayName;if(dt)return dt;var pe=at.displayName||at.name||"";return pe!==""?nt+"("+pe+")":nt}function mt(D){return D.displayName||"Context"}function I(D){if(D==null)return null;if(typeof D.tag=="number"&&F("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof D=="function")return D.displayName||D.name||null;if(typeof D=="string")return D;switch(D){case n:return"Fragment";case e:return"Portal";case i:return"Profiler";case o:return"StrictMode";case b:return"Suspense";case _:return"SuspenseList"}if(typeof D=="object")switch(D.$$typeof){case u:var at=D;return mt(at)+".Consumer";case c:var nt=D;return mt(nt._context)+".Provider";case p:return Q(D,D.render,"ForwardRef");case B:var dt=D.displayName||null;return dt!==null?dt:I(D.type)||"Memo";case C:{var pe=D,St=pe._payload,bt=pe._init;try{return I(bt(St))}catch{return null}}}return null}var f=Object.assign,d=0,y,w,v,x,A,m,l;function E(){}E.__reactDisabledLog=!0;function H(){{if(d===0){y=console.log,w=console.info,v=console.warn,x=console.error,A=console.group,m=console.groupCollapsed,l=console.groupEnd;var D={configurable:!0,enumerable:!0,value:E,writable:!0};Object.defineProperties(console,{info:D,log:D,warn:D,error:D,group:D,groupCollapsed:D,groupEnd:D})}d++}}function K(){{if(d--,d===0){var D={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:f({},D,{value:y}),info:f({},D,{value:w}),warn:f({},D,{value:v}),error:f({},D,{value:x}),group:f({},D,{value:A}),groupCollapsed:f({},D,{value:m}),groupEnd:f({},D,{value:l})})}d<0&&F("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var G=P.ReactCurrentDispatcher,lt;function ot(D,at,nt){{if(lt===void 0)try{throw Error()}catch(pe){var dt=pe.stack.trim().match(/\n( *(at )?)/);lt=dt&&dt[1]||""}return`
`+lt+D}}var ft=!1,Zt;{var Bt=typeof WeakMap=="function"?WeakMap:Map;Zt=new Bt}function _t(D,at){if(!D||ft)return"";{var nt=Zt.get(D);if(nt!==void 0)return nt}var dt;ft=!0;var pe=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var St;St=G.current,G.current=null,H();try{if(at){var bt=function(){throw Error()};if(Object.defineProperty(bt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(bt,[])}catch(yr){dt=yr}Reflect.construct(D,[],bt)}else{try{bt.call()}catch(yr){dt=yr}D.call(bt.prototype)}}else{try{throw Error()}catch(yr){dt=yr}D()}}catch(yr){if(yr&&dt&&typeof yr.stack=="string"){for(var ee=yr.stack.split(`
`),ze=dt.stack.split(`
`),Ie=ee.length-1,ke=ze.length-1;Ie>=1&&ke>=0&&ee[Ie]!==ze[ke];)ke--;for(;Ie>=1&&ke>=0;Ie--,ke--)if(ee[Ie]!==ze[ke]){if(Ie!==1||ke!==1)do if(Ie--,ke--,ke<0||ee[Ie]!==ze[ke]){var Je=`
`+ee[Ie].replace(" at new "," at ");return D.displayName&&Je.includes("<anonymous>")&&(Je=Je.replace("<anonymous>",D.displayName)),typeof D=="function"&&Zt.set(D,Je),Je}while(Ie>=1&&ke>=0);break}}}finally{ft=!1,G.current=St,K(),Error.prepareStackTrace=pe}var Or=D?D.displayName||D.name:"",Tn=Or?ot(Or):"";return typeof D=="function"&&Zt.set(D,Tn),Tn}function Wt(D,at,nt){return _t(D,!1)}function xt(D){var at=D.prototype;return!!(at&&at.isReactComponent)}function Rt(D,at,nt){if(D==null)return"";if(typeof D=="function")return _t(D,xt(D));if(typeof D=="string")return ot(D);switch(D){case b:return ot("Suspense");case _:return ot("SuspenseList")}if(typeof D=="object")switch(D.$$typeof){case p:return Wt(D.render);case B:return Rt(D.type,at,nt);case C:{var dt=D,pe=dt._payload,St=dt._init;try{return Rt(St(pe),at,nt)}catch{}}}return""}var je=Object.prototype.hasOwnProperty,Ut={},qt=P.ReactDebugCurrentFrame;function sr(D){if(D){var at=D._owner,nt=Rt(D.type,D._source,at?at.type:null);qt.setExtraStackFrame(nt)}else qt.setExtraStackFrame(null)}function Ft(D,at,nt,dt,pe){{var St=Function.call.bind(je);for(var bt in D)if(St(D,bt)){var ee=void 0;try{if(typeof D[bt]!="function"){var ze=Error((dt||"React class")+": "+nt+" type `"+bt+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof D[bt]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw ze.name="Invariant Violation",ze}ee=D[bt](at,bt,dt,nt,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(Ie){ee=Ie}ee&&!(ee instanceof Error)&&(sr(pe),F("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",dt||"React class",nt,bt,typeof ee),sr(null)),ee instanceof Error&&!(ee.message in Ut)&&(Ut[ee.message]=!0,sr(pe),F("Failed %s type: %s",nt,ee.message),sr(null))}}}var Ct=Array.isArray;function Yt(D){return Ct(D)}function Ot(D){{var at=typeof Symbol=="function"&&Symbol.toStringTag,nt=at&&D[Symbol.toStringTag]||D.constructor.name||"Object";return nt}}function $t(D){try{return he(D),!1}catch{return!0}}function he(D){return""+D}function Nt(D){if($t(D))return F("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",Ot(D)),he(D)}var h=P.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0},a,g,S;S={};function M(D){if(je.call(D,"ref")){var at=Object.getOwnPropertyDescriptor(D,"ref").get;if(at&&at.isReactWarning)return!1}return D.ref!==void 0}function T(D){if(je.call(D,"key")){var at=Object.getOwnPropertyDescriptor(D,"key").get;if(at&&at.isReactWarning)return!1}return D.key!==void 0}function tt(D,at){if(typeof D.ref=="string"&&h.current&&at&&h.current.stateNode!==at){var nt=I(h.current.type);S[nt]||(F('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',I(h.current.type),D.ref),S[nt]=!0)}}function it(D,at){{var nt=function(){a||(a=!0,F("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",at))};nt.isReactWarning=!0,Object.defineProperty(D,"key",{get:nt,configurable:!0})}}function rt(D,at){{var nt=function(){g||(g=!0,F("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",at))};nt.isReactWarning=!0,Object.defineProperty(D,"ref",{get:nt,configurable:!0})}}var wt=function(D,at,nt,dt,pe,St,bt){var ee={$$typeof:t,type:D,key:at,ref:nt,props:bt,_owner:St};return ee._store={},Object.defineProperty(ee._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(ee,"_self",{configurable:!1,enumerable:!1,writable:!1,value:dt}),Object.defineProperty(ee,"_source",{configurable:!1,enumerable:!1,writable:!1,value:pe}),Object.freeze&&(Object.freeze(ee.props),Object.freeze(ee)),ee};function J(D,at,nt,dt,pe){{var St,bt={},ee=null,ze=null;nt!==void 0&&(Nt(nt),ee=""+nt),T(at)&&(Nt(at.key),ee=""+at.key),M(at)&&(ze=at.ref,tt(at,pe));for(St in at)je.call(at,St)&&!s.hasOwnProperty(St)&&(bt[St]=at[St]);if(D&&D.defaultProps){var Ie=D.defaultProps;for(St in Ie)bt[St]===void 0&&(bt[St]=Ie[St])}if(ee||ze){var ke=typeof D=="function"?D.displayName||D.name||"Unknown":D;ee&&it(bt,ke),ze&&rt(bt,ke)}return wt(D,ee,ze,pe,dt,h.current,bt)}}var Xt=P.ReactCurrentOwner,hi=P.ReactDebugCurrentFrame;function Kt(D){if(D){var at=D._owner,nt=Rt(D.type,D._source,at?at.type:null);hi.setExtraStackFrame(nt)}else hi.setExtraStackFrame(null)}var Jt;Jt=!1;function qn(D){return typeof D=="object"&&D!==null&&D.$$typeof===t}function Qt(){{if(Xt.current){var D=I(Xt.current.type);if(D)return`

Check the render method of \``+D+"`."}return""}}function re(D){{if(D!==void 0){var at=D.fileName.replace(/^.*[\\\/]/,""),nt=D.lineNumber;return`

Check your code at `+at+":"+nt+"."}return""}}var di={};function ne(D){{var at=Qt();if(!at){var nt=typeof D=="string"?D:D.displayName||D.name;nt&&(at=`

Check the top-level render call using <`+nt+">.")}return at}}function te(D,at){{if(!D._store||D._store.validated||D.key!=null)return;D._store.validated=!0;var nt=ne(at);if(di[nt])return;di[nt]=!0;var dt="";D&&D._owner&&D._owner!==Xt.current&&(dt=" It was passed a child from "+I(D._owner.type)+"."),Kt(D),F('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',nt,dt),Kt(null)}}function pi(D,at){{if(typeof D!="object")return;if(Yt(D))for(var nt=0;nt<D.length;nt++){var dt=D[nt];qn(dt)&&te(dt,at)}else if(qn(D))D._store&&(D._store.validated=!0);else if(D){var pe=R(D);if(typeof pe=="function"&&pe!==D.entries)for(var St=pe.call(D),bt;!(bt=St.next()).done;)qn(bt.value)&&te(bt.value,at)}}}function ie(D){{var at=D.type;if(at==null||typeof at=="string")return;var nt;if(typeof at=="function")nt=at.propTypes;else if(typeof at=="object"&&(at.$$typeof===p||at.$$typeof===B))nt=at.propTypes;else return;if(nt){var dt=I(at);Ft(nt,D.props,"prop",dt,D)}else if(at.PropTypes!==void 0&&!Jt){Jt=!0;var pe=I(at);F("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",pe||"Unknown")}typeof at.getDefaultProps=="function"&&!at.getDefaultProps.isReactClassApproved&&F("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function oe(D){{for(var at=Object.keys(D.props),nt=0;nt<at.length;nt++){var dt=at[nt];if(dt!=="children"&&dt!=="key"){Kt(D),F("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",dt),Kt(null);break}}D.ref!==null&&(Kt(D),F("Invalid attribute `ref` supplied to `React.Fragment`."),Kt(null))}}function gi(D,at,nt,dt,pe,St){{var bt=ht(D);if(!bt){var ee="";(D===void 0||typeof D=="object"&&D!==null&&Object.keys(D).length===0)&&(ee+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var ze=re(pe);ze?ee+=ze:ee+=Qt();var Ie;D===null?Ie="null":Yt(D)?Ie="array":D!==void 0&&D.$$typeof===t?(Ie="<"+(I(D.type)||"Unknown")+" />",ee=" Did you accidentally export a JSX literal instead of a component?"):Ie=typeof D,F("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",Ie,ee)}var ke=J(D,at,nt,pe,St);if(ke==null)return ke;if(bt){var Je=at.children;if(Je!==void 0)if(dt)if(Yt(Je)){for(var Or=0;Or<Je.length;Or++)pi(Je[Or],D);Object.freeze&&Object.freeze(Je)}else F("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else pi(Je,D)}return D===n?oe(ke):ie(ke),ke}}function se(D,at,nt){return gi(D,at,nt,!0)}function ae(D,at,nt){return gi(D,at,nt,!1)}var Xi=ae,ce=se;Yo.Fragment=n,Yo.jsx=Xi,Yo.jsxs=ce}()),Yo}process.env.NODE_ENV==="production"?ic.exports=c1():ic.exports=u1();var Le=ic.exports,cl={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(r){(function(){var t={}.hasOwnProperty;function e(){for(var i="",c=0;c<arguments.length;c++){var u=arguments[c];u&&(i=o(i,n(u)))}return i}function n(i){if(typeof i=="string"||typeof i=="number")return i;if(typeof i!="object")return"";if(Array.isArray(i))return e.apply(null,i);if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]"))return i.toString();var c="";for(var u in i)t.call(i,u)&&i[u]&&(c=o(c,u));return c}function o(i,c){return c?i?i+" "+c:i+c:i}r.exports?(e.default=e,r.exports=e):window.classNames=e})()})(cl);var f1=cl.exports;const l1=on(f1);var ue={},Os={};Os.byteLength=p1,Os.toByteArray=y1,Os.fromByteArray=b1;for(var pn=[],Vr=[],h1=typeof Uint8Array<"u"?Uint8Array:Array,oc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",uo=0,d1=oc.length;uo<d1;++uo)pn[uo]=oc[uo],Vr[oc.charCodeAt(uo)]=uo;Vr["-".charCodeAt(0)]=62,Vr["_".charCodeAt(0)]=63;function ul(r){var t=r.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var e=r.indexOf("=");e===-1&&(e=t);var n=e===t?0:4-e%4;return[e,n]}function p1(r){var t=ul(r),e=t[0],n=t[1];return(e+n)*3/4-n}function g1(r,t,e){return(t+e)*3/4-e}function y1(r){var t,e=ul(r),n=e[0],o=e[1],i=new h1(g1(r,n,o)),c=0,u=o>0?n-4:n,p;for(p=0;p<u;p+=4)t=Vr[r.charCodeAt(p)]<<18|Vr[r.charCodeAt(p+1)]<<12|Vr[r.charCodeAt(p+2)]<<6|Vr[r.charCodeAt(p+3)],i[c++]=t>>16&255,i[c++]=t>>8&255,i[c++]=t&255;return o===2&&(t=Vr[r.charCodeAt(p)]<<2|Vr[r.charCodeAt(p+1)]>>4,i[c++]=t&255),o===1&&(t=Vr[r.charCodeAt(p)]<<10|Vr[r.charCodeAt(p+1)]<<4|Vr[r.charCodeAt(p+2)]>>2,i[c++]=t>>8&255,i[c++]=t&255),i}function m1(r){return pn[r>>18&63]+pn[r>>12&63]+pn[r>>6&63]+pn[r&63]}function w1(r,t,e){for(var n,o=[],i=t;i<e;i+=3)n=(r[i]<<16&16711680)+(r[i+1]<<8&65280)+(r[i+2]&255),o.push(m1(n));return o.join("")}function b1(r){for(var t,e=r.length,n=e%3,o=[],i=16383,c=0,u=e-n;c<u;c+=i)o.push(w1(r,c,c+i>u?u:c+i));return n===1?(t=r[e-1],o.push(pn[t>>2]+pn[t<<4&63]+"==")):n===2&&(t=(r[e-2]<<8)+r[e-1],o.push(pn[t>>10]+pn[t>>4&63]+pn[t<<2&63]+"=")),o.join("")}var sc={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */sc.read=function(r,t,e,n,o){var i,c,u=o*8-n-1,p=(1<<u)-1,b=p>>1,_=-7,B=e?o-1:0,C=e?-1:1,k=r[t+B];for(B+=C,i=k&(1<<-_)-1,k>>=-_,_+=u;_>0;i=i*256+r[t+B],B+=C,_-=8);for(c=i&(1<<-_)-1,i>>=-_,_+=n;_>0;c=c*256+r[t+B],B+=C,_-=8);if(i===0)i=1-b;else{if(i===p)return c?NaN:(k?-1:1)*(1/0);c=c+Math.pow(2,n),i=i-b}return(k?-1:1)*c*Math.pow(2,i-n)},sc.write=function(r,t,e,n,o,i){var c,u,p,b=i*8-o-1,_=(1<<b)-1,B=_>>1,C=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,k=n?0:i-1,O=n?1:-1,U=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(u=isNaN(t)?1:0,c=_):(c=Math.floor(Math.log(t)/Math.LN2),t*(p=Math.pow(2,-c))<1&&(c--,p*=2),c+B>=1?t+=C/p:t+=C*Math.pow(2,1-B),t*p>=2&&(c++,p/=2),c+B>=_?(u=0,c=_):c+B>=1?(u=(t*p-1)*Math.pow(2,o),c=c+B):(u=t*Math.pow(2,B-1)*Math.pow(2,o),c=0));o>=8;r[e+k]=u&255,k+=O,u/=256,o-=8);for(c=c<<o|u,b+=o;b>0;r[e+k]=c&255,k+=O,c/=256,b-=8);r[e+k-O]|=U*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(r){const t=Os,e=sc,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;r.Buffer=u,r.SlowBuffer=F,r.INSPECT_MAX_BYTES=50;const o=2147483647;r.kMaxLength=o,u.TYPED_ARRAY_SUPPORT=i(),!u.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{const h=new Uint8Array(1),s={foo:function(){return 42}};return Object.setPrototypeOf(s,Uint8Array.prototype),Object.setPrototypeOf(h,s),h.foo()===42}catch{return!1}}Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}});function c(h){if(h>o)throw new RangeError('The value "'+h+'" is invalid for option "size"');const s=new Uint8Array(h);return Object.setPrototypeOf(s,u.prototype),s}function u(h,s,a){if(typeof h=="number"){if(typeof s=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return B(h)}return p(h,s,a)}u.poolSize=8192;function p(h,s,a){if(typeof h=="string")return C(h,s);if(ArrayBuffer.isView(h))return O(h);if(h==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof h);if(Yt(h,ArrayBuffer)||h&&Yt(h.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Yt(h,SharedArrayBuffer)||h&&Yt(h.buffer,SharedArrayBuffer)))return U(h,s,a);if(typeof h=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const g=h.valueOf&&h.valueOf();if(g!=null&&g!==h)return u.from(g,s,a);const S=R(h);if(S)return S;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof h[Symbol.toPrimitive]=="function")return u.from(h[Symbol.toPrimitive]("string"),s,a);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof h)}u.from=function(h,s,a){return p(h,s,a)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array);function b(h){if(typeof h!="number")throw new TypeError('"size" argument must be of type number');if(h<0)throw new RangeError('The value "'+h+'" is invalid for option "size"')}function _(h,s,a){return b(h),h<=0?c(h):s!==void 0?typeof a=="string"?c(h).fill(s,a):c(h).fill(s):c(h)}u.alloc=function(h,s,a){return _(h,s,a)};function B(h){return b(h),c(h<0?0:P(h)|0)}u.allocUnsafe=function(h){return B(h)},u.allocUnsafeSlow=function(h){return B(h)};function C(h,s){if((typeof s!="string"||s==="")&&(s="utf8"),!u.isEncoding(s))throw new TypeError("Unknown encoding: "+s);const a=L(h,s)|0;let g=c(a);const S=g.write(h,s);return S!==a&&(g=g.slice(0,S)),g}function k(h){const s=h.length<0?0:P(h.length)|0,a=c(s);for(let g=0;g<s;g+=1)a[g]=h[g]&255;return a}function O(h){if(Yt(h,Uint8Array)){const s=new Uint8Array(h);return U(s.buffer,s.byteOffset,s.byteLength)}return k(h)}function U(h,s,a){if(s<0||h.byteLength<s)throw new RangeError('"offset" is outside of buffer bounds');if(h.byteLength<s+(a||0))throw new RangeError('"length" is outside of buffer bounds');let g;return s===void 0&&a===void 0?g=new Uint8Array(h):a===void 0?g=new Uint8Array(h,s):g=new Uint8Array(h,s,a),Object.setPrototypeOf(g,u.prototype),g}function R(h){if(u.isBuffer(h)){const s=P(h.length)|0,a=c(s);return a.length===0||h.copy(a,0,0,s),a}if(h.length!==void 0)return typeof h.length!="number"||Ot(h.length)?c(0):k(h);if(h.type==="Buffer"&&Array.isArray(h.data))return k(h.data)}function P(h){if(h>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return h|0}function F(h){return+h!=h&&(h=0),u.alloc(+h)}u.isBuffer=function(s){return s!=null&&s._isBuffer===!0&&s!==u.prototype},u.compare=function(s,a){if(Yt(s,Uint8Array)&&(s=u.from(s,s.offset,s.byteLength)),Yt(a,Uint8Array)&&(a=u.from(a,a.offset,a.byteLength)),!u.isBuffer(s)||!u.isBuffer(a))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(s===a)return 0;let g=s.length,S=a.length;for(let M=0,T=Math.min(g,S);M<T;++M)if(s[M]!==a[M]){g=s[M],S=a[M];break}return g<S?-1:S<g?1:0},u.isEncoding=function(s){switch(String(s).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(s,a){if(!Array.isArray(s))throw new TypeError('"list" argument must be an Array of Buffers');if(s.length===0)return u.alloc(0);let g;if(a===void 0)for(a=0,g=0;g<s.length;++g)a+=s[g].length;const S=u.allocUnsafe(a);let M=0;for(g=0;g<s.length;++g){let T=s[g];if(Yt(T,Uint8Array))M+T.length>S.length?(u.isBuffer(T)||(T=u.from(T)),T.copy(S,M)):Uint8Array.prototype.set.call(S,T,M);else if(u.isBuffer(T))T.copy(S,M);else throw new TypeError('"list" argument must be an Array of Buffers');M+=T.length}return S};function L(h,s){if(u.isBuffer(h))return h.length;if(ArrayBuffer.isView(h)||Yt(h,ArrayBuffer))return h.byteLength;if(typeof h!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof h);const a=h.length,g=arguments.length>2&&arguments[2]===!0;if(!g&&a===0)return 0;let S=!1;for(;;)switch(s){case"ascii":case"latin1":case"binary":return a;case"utf8":case"utf-8":return Ut(h).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return a*2;case"hex":return a>>>1;case"base64":return Ft(h).length;default:if(S)return g?-1:Ut(h).length;s=(""+s).toLowerCase(),S=!0}}u.byteLength=L;function z(h,s,a){let g=!1;if((s===void 0||s<0)&&(s=0),s>this.length||((a===void 0||a>this.length)&&(a=this.length),a<=0)||(a>>>=0,s>>>=0,a<=s))return"";for(h||(h="utf8");;)switch(h){case"hex":return x(this,s,a);case"utf8":case"utf-8":return f(this,s,a);case"ascii":return w(this,s,a);case"latin1":case"binary":return v(this,s,a);case"base64":return I(this,s,a);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,s,a);default:if(g)throw new TypeError("Unknown encoding: "+h);h=(h+"").toLowerCase(),g=!0}}u.prototype._isBuffer=!0;function $(h,s,a){const g=h[s];h[s]=h[a],h[a]=g}u.prototype.swap16=function(){const s=this.length;if(s%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let a=0;a<s;a+=2)$(this,a,a+1);return this},u.prototype.swap32=function(){const s=this.length;if(s%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let a=0;a<s;a+=4)$(this,a,a+3),$(this,a+1,a+2);return this},u.prototype.swap64=function(){const s=this.length;if(s%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let a=0;a<s;a+=8)$(this,a,a+7),$(this,a+1,a+6),$(this,a+2,a+5),$(this,a+3,a+4);return this},u.prototype.toString=function(){const s=this.length;return s===0?"":arguments.length===0?f(this,0,s):z.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(s){if(!u.isBuffer(s))throw new TypeError("Argument must be a Buffer");return this===s?!0:u.compare(this,s)===0},u.prototype.inspect=function(){let s="";const a=r.INSPECT_MAX_BYTES;return s=this.toString("hex",0,a).replace(/(.{2})/g,"$1 ").trim(),this.length>a&&(s+=" ... "),"<Buffer "+s+">"},n&&(u.prototype[n]=u.prototype.inspect),u.prototype.compare=function(s,a,g,S,M){if(Yt(s,Uint8Array)&&(s=u.from(s,s.offset,s.byteLength)),!u.isBuffer(s))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof s);if(a===void 0&&(a=0),g===void 0&&(g=s?s.length:0),S===void 0&&(S=0),M===void 0&&(M=this.length),a<0||g>s.length||S<0||M>this.length)throw new RangeError("out of range index");if(S>=M&&a>=g)return 0;if(S>=M)return-1;if(a>=g)return 1;if(a>>>=0,g>>>=0,S>>>=0,M>>>=0,this===s)return 0;let T=M-S,tt=g-a;const it=Math.min(T,tt),rt=this.slice(S,M),wt=s.slice(a,g);for(let J=0;J<it;++J)if(rt[J]!==wt[J]){T=rt[J],tt=wt[J];break}return T<tt?-1:tt<T?1:0};function N(h,s,a,g,S){if(h.length===0)return-1;if(typeof a=="string"?(g=a,a=0):a>2147483647?a=2147483647:a<-2147483648&&(a=-2147483648),a=+a,Ot(a)&&(a=S?0:h.length-1),a<0&&(a=h.length+a),a>=h.length){if(S)return-1;a=h.length-1}else if(a<0)if(S)a=0;else return-1;if(typeof s=="string"&&(s=u.from(s,g)),u.isBuffer(s))return s.length===0?-1:q(h,s,a,g,S);if(typeof s=="number")return s=s&255,typeof Uint8Array.prototype.indexOf=="function"?S?Uint8Array.prototype.indexOf.call(h,s,a):Uint8Array.prototype.lastIndexOf.call(h,s,a):q(h,[s],a,g,S);throw new TypeError("val must be string, number or Buffer")}function q(h,s,a,g,S){let M=1,T=h.length,tt=s.length;if(g!==void 0&&(g=String(g).toLowerCase(),g==="ucs2"||g==="ucs-2"||g==="utf16le"||g==="utf-16le")){if(h.length<2||s.length<2)return-1;M=2,T/=2,tt/=2,a/=2}function it(wt,J){return M===1?wt[J]:wt.readUInt16BE(J*M)}let rt;if(S){let wt=-1;for(rt=a;rt<T;rt++)if(it(h,rt)===it(s,wt===-1?0:rt-wt)){if(wt===-1&&(wt=rt),rt-wt+1===tt)return wt*M}else wt!==-1&&(rt-=rt-wt),wt=-1}else for(a+tt>T&&(a=T-tt),rt=a;rt>=0;rt--){let wt=!0;for(let J=0;J<tt;J++)if(it(h,rt+J)!==it(s,J)){wt=!1;break}if(wt)return rt}return-1}u.prototype.includes=function(s,a,g){return this.indexOf(s,a,g)!==-1},u.prototype.indexOf=function(s,a,g){return N(this,s,a,g,!0)},u.prototype.lastIndexOf=function(s,a,g){return N(this,s,a,g,!1)};function W(h,s,a,g){a=Number(a)||0;const S=h.length-a;g?(g=Number(g),g>S&&(g=S)):g=S;const M=s.length;g>M/2&&(g=M/2);let T;for(T=0;T<g;++T){const tt=parseInt(s.substr(T*2,2),16);if(Ot(tt))return T;h[a+T]=tt}return T}function et(h,s,a,g){return Ct(Ut(s,h.length-a),h,a,g)}function ht(h,s,a,g){return Ct(qt(s),h,a,g)}function Q(h,s,a,g){return Ct(Ft(s),h,a,g)}function mt(h,s,a,g){return Ct(sr(s,h.length-a),h,a,g)}u.prototype.write=function(s,a,g,S){if(a===void 0)S="utf8",g=this.length,a=0;else if(g===void 0&&typeof a=="string")S=a,g=this.length,a=0;else if(isFinite(a))a=a>>>0,isFinite(g)?(g=g>>>0,S===void 0&&(S="utf8")):(S=g,g=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const M=this.length-a;if((g===void 0||g>M)&&(g=M),s.length>0&&(g<0||a<0)||a>this.length)throw new RangeError("Attempt to write outside buffer bounds");S||(S="utf8");let T=!1;for(;;)switch(S){case"hex":return W(this,s,a,g);case"utf8":case"utf-8":return et(this,s,a,g);case"ascii":case"latin1":case"binary":return ht(this,s,a,g);case"base64":return Q(this,s,a,g);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return mt(this,s,a,g);default:if(T)throw new TypeError("Unknown encoding: "+S);S=(""+S).toLowerCase(),T=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function I(h,s,a){return s===0&&a===h.length?t.fromByteArray(h):t.fromByteArray(h.slice(s,a))}function f(h,s,a){a=Math.min(h.length,a);const g=[];let S=s;for(;S<a;){const M=h[S];let T=null,tt=M>239?4:M>223?3:M>191?2:1;if(S+tt<=a){let it,rt,wt,J;switch(tt){case 1:M<128&&(T=M);break;case 2:it=h[S+1],(it&192)===128&&(J=(M&31)<<6|it&63,J>127&&(T=J));break;case 3:it=h[S+1],rt=h[S+2],(it&192)===128&&(rt&192)===128&&(J=(M&15)<<12|(it&63)<<6|rt&63,J>2047&&(J<55296||J>57343)&&(T=J));break;case 4:it=h[S+1],rt=h[S+2],wt=h[S+3],(it&192)===128&&(rt&192)===128&&(wt&192)===128&&(J=(M&15)<<18|(it&63)<<12|(rt&63)<<6|wt&63,J>65535&&J<1114112&&(T=J))}}T===null?(T=65533,tt=1):T>65535&&(T-=65536,g.push(T>>>10&1023|55296),T=56320|T&1023),g.push(T),S+=tt}return y(g)}const d=4096;function y(h){const s=h.length;if(s<=d)return String.fromCharCode.apply(String,h);let a="",g=0;for(;g<s;)a+=String.fromCharCode.apply(String,h.slice(g,g+=d));return a}function w(h,s,a){let g="";a=Math.min(h.length,a);for(let S=s;S<a;++S)g+=String.fromCharCode(h[S]&127);return g}function v(h,s,a){let g="";a=Math.min(h.length,a);for(let S=s;S<a;++S)g+=String.fromCharCode(h[S]);return g}function x(h,s,a){const g=h.length;(!s||s<0)&&(s=0),(!a||a<0||a>g)&&(a=g);let S="";for(let M=s;M<a;++M)S+=$t[h[M]];return S}function A(h,s,a){const g=h.slice(s,a);let S="";for(let M=0;M<g.length-1;M+=2)S+=String.fromCharCode(g[M]+g[M+1]*256);return S}u.prototype.slice=function(s,a){const g=this.length;s=~~s,a=a===void 0?g:~~a,s<0?(s+=g,s<0&&(s=0)):s>g&&(s=g),a<0?(a+=g,a<0&&(a=0)):a>g&&(a=g),a<s&&(a=s);const S=this.subarray(s,a);return Object.setPrototypeOf(S,u.prototype),S};function m(h,s,a){if(h%1!==0||h<0)throw new RangeError("offset is not uint");if(h+s>a)throw new RangeError("Trying to access beyond buffer length")}u.prototype.readUintLE=u.prototype.readUIntLE=function(s,a,g){s=s>>>0,a=a>>>0,g||m(s,a,this.length);let S=this[s],M=1,T=0;for(;++T<a&&(M*=256);)S+=this[s+T]*M;return S},u.prototype.readUintBE=u.prototype.readUIntBE=function(s,a,g){s=s>>>0,a=a>>>0,g||m(s,a,this.length);let S=this[s+--a],M=1;for(;a>0&&(M*=256);)S+=this[s+--a]*M;return S},u.prototype.readUint8=u.prototype.readUInt8=function(s,a){return s=s>>>0,a||m(s,1,this.length),this[s]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(s,a){return s=s>>>0,a||m(s,2,this.length),this[s]|this[s+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(s,a){return s=s>>>0,a||m(s,2,this.length),this[s]<<8|this[s+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(s,a){return s=s>>>0,a||m(s,4,this.length),(this[s]|this[s+1]<<8|this[s+2]<<16)+this[s+3]*16777216},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(s,a){return s=s>>>0,a||m(s,4,this.length),this[s]*16777216+(this[s+1]<<16|this[s+2]<<8|this[s+3])},u.prototype.readBigUInt64LE=he(function(s){s=s>>>0,Wt(s,"offset");const a=this[s],g=this[s+7];(a===void 0||g===void 0)&&xt(s,this.length-8);const S=a+this[++s]*2**8+this[++s]*2**16+this[++s]*2**24,M=this[++s]+this[++s]*2**8+this[++s]*2**16+g*2**24;return BigInt(S)+(BigInt(M)<<BigInt(32))}),u.prototype.readBigUInt64BE=he(function(s){s=s>>>0,Wt(s,"offset");const a=this[s],g=this[s+7];(a===void 0||g===void 0)&&xt(s,this.length-8);const S=a*2**24+this[++s]*2**16+this[++s]*2**8+this[++s],M=this[++s]*2**24+this[++s]*2**16+this[++s]*2**8+g;return(BigInt(S)<<BigInt(32))+BigInt(M)}),u.prototype.readIntLE=function(s,a,g){s=s>>>0,a=a>>>0,g||m(s,a,this.length);let S=this[s],M=1,T=0;for(;++T<a&&(M*=256);)S+=this[s+T]*M;return M*=128,S>=M&&(S-=Math.pow(2,8*a)),S},u.prototype.readIntBE=function(s,a,g){s=s>>>0,a=a>>>0,g||m(s,a,this.length);let S=a,M=1,T=this[s+--S];for(;S>0&&(M*=256);)T+=this[s+--S]*M;return M*=128,T>=M&&(T-=Math.pow(2,8*a)),T},u.prototype.readInt8=function(s,a){return s=s>>>0,a||m(s,1,this.length),this[s]&128?(255-this[s]+1)*-1:this[s]},u.prototype.readInt16LE=function(s,a){s=s>>>0,a||m(s,2,this.length);const g=this[s]|this[s+1]<<8;return g&32768?g|4294901760:g},u.prototype.readInt16BE=function(s,a){s=s>>>0,a||m(s,2,this.length);const g=this[s+1]|this[s]<<8;return g&32768?g|4294901760:g},u.prototype.readInt32LE=function(s,a){return s=s>>>0,a||m(s,4,this.length),this[s]|this[s+1]<<8|this[s+2]<<16|this[s+3]<<24},u.prototype.readInt32BE=function(s,a){return s=s>>>0,a||m(s,4,this.length),this[s]<<24|this[s+1]<<16|this[s+2]<<8|this[s+3]},u.prototype.readBigInt64LE=he(function(s){s=s>>>0,Wt(s,"offset");const a=this[s],g=this[s+7];(a===void 0||g===void 0)&&xt(s,this.length-8);const S=this[s+4]+this[s+5]*2**8+this[s+6]*2**16+(g<<24);return(BigInt(S)<<BigInt(32))+BigInt(a+this[++s]*2**8+this[++s]*2**16+this[++s]*2**24)}),u.prototype.readBigInt64BE=he(function(s){s=s>>>0,Wt(s,"offset");const a=this[s],g=this[s+7];(a===void 0||g===void 0)&&xt(s,this.length-8);const S=(a<<24)+this[++s]*2**16+this[++s]*2**8+this[++s];return(BigInt(S)<<BigInt(32))+BigInt(this[++s]*2**24+this[++s]*2**16+this[++s]*2**8+g)}),u.prototype.readFloatLE=function(s,a){return s=s>>>0,a||m(s,4,this.length),e.read(this,s,!0,23,4)},u.prototype.readFloatBE=function(s,a){return s=s>>>0,a||m(s,4,this.length),e.read(this,s,!1,23,4)},u.prototype.readDoubleLE=function(s,a){return s=s>>>0,a||m(s,8,this.length),e.read(this,s,!0,52,8)},u.prototype.readDoubleBE=function(s,a){return s=s>>>0,a||m(s,8,this.length),e.read(this,s,!1,52,8)};function l(h,s,a,g,S,M){if(!u.isBuffer(h))throw new TypeError('"buffer" argument must be a Buffer instance');if(s>S||s<M)throw new RangeError('"value" argument is out of bounds');if(a+g>h.length)throw new RangeError("Index out of range")}u.prototype.writeUintLE=u.prototype.writeUIntLE=function(s,a,g,S){if(s=+s,a=a>>>0,g=g>>>0,!S){const tt=Math.pow(2,8*g)-1;l(this,s,a,g,tt,0)}let M=1,T=0;for(this[a]=s&255;++T<g&&(M*=256);)this[a+T]=s/M&255;return a+g},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(s,a,g,S){if(s=+s,a=a>>>0,g=g>>>0,!S){const tt=Math.pow(2,8*g)-1;l(this,s,a,g,tt,0)}let M=g-1,T=1;for(this[a+M]=s&255;--M>=0&&(T*=256);)this[a+M]=s/T&255;return a+g},u.prototype.writeUint8=u.prototype.writeUInt8=function(s,a,g){return s=+s,a=a>>>0,g||l(this,s,a,1,255,0),this[a]=s&255,a+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(s,a,g){return s=+s,a=a>>>0,g||l(this,s,a,2,65535,0),this[a]=s&255,this[a+1]=s>>>8,a+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(s,a,g){return s=+s,a=a>>>0,g||l(this,s,a,2,65535,0),this[a]=s>>>8,this[a+1]=s&255,a+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(s,a,g){return s=+s,a=a>>>0,g||l(this,s,a,4,4294967295,0),this[a+3]=s>>>24,this[a+2]=s>>>16,this[a+1]=s>>>8,this[a]=s&255,a+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(s,a,g){return s=+s,a=a>>>0,g||l(this,s,a,4,4294967295,0),this[a]=s>>>24,this[a+1]=s>>>16,this[a+2]=s>>>8,this[a+3]=s&255,a+4};function E(h,s,a,g,S){_t(s,g,S,h,a,7);let M=Number(s&BigInt(4294967295));h[a++]=M,M=M>>8,h[a++]=M,M=M>>8,h[a++]=M,M=M>>8,h[a++]=M;let T=Number(s>>BigInt(32)&BigInt(4294967295));return h[a++]=T,T=T>>8,h[a++]=T,T=T>>8,h[a++]=T,T=T>>8,h[a++]=T,a}function H(h,s,a,g,S){_t(s,g,S,h,a,7);let M=Number(s&BigInt(4294967295));h[a+7]=M,M=M>>8,h[a+6]=M,M=M>>8,h[a+5]=M,M=M>>8,h[a+4]=M;let T=Number(s>>BigInt(32)&BigInt(4294967295));return h[a+3]=T,T=T>>8,h[a+2]=T,T=T>>8,h[a+1]=T,T=T>>8,h[a]=T,a+8}u.prototype.writeBigUInt64LE=he(function(s,a=0){return E(this,s,a,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeBigUInt64BE=he(function(s,a=0){return H(this,s,a,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeIntLE=function(s,a,g,S){if(s=+s,a=a>>>0,!S){const it=Math.pow(2,8*g-1);l(this,s,a,g,it-1,-it)}let M=0,T=1,tt=0;for(this[a]=s&255;++M<g&&(T*=256);)s<0&&tt===0&&this[a+M-1]!==0&&(tt=1),this[a+M]=(s/T>>0)-tt&255;return a+g},u.prototype.writeIntBE=function(s,a,g,S){if(s=+s,a=a>>>0,!S){const it=Math.pow(2,8*g-1);l(this,s,a,g,it-1,-it)}let M=g-1,T=1,tt=0;for(this[a+M]=s&255;--M>=0&&(T*=256);)s<0&&tt===0&&this[a+M+1]!==0&&(tt=1),this[a+M]=(s/T>>0)-tt&255;return a+g},u.prototype.writeInt8=function(s,a,g){return s=+s,a=a>>>0,g||l(this,s,a,1,127,-128),s<0&&(s=255+s+1),this[a]=s&255,a+1},u.prototype.writeInt16LE=function(s,a,g){return s=+s,a=a>>>0,g||l(this,s,a,2,32767,-32768),this[a]=s&255,this[a+1]=s>>>8,a+2},u.prototype.writeInt16BE=function(s,a,g){return s=+s,a=a>>>0,g||l(this,s,a,2,32767,-32768),this[a]=s>>>8,this[a+1]=s&255,a+2},u.prototype.writeInt32LE=function(s,a,g){return s=+s,a=a>>>0,g||l(this,s,a,4,2147483647,-2147483648),this[a]=s&255,this[a+1]=s>>>8,this[a+2]=s>>>16,this[a+3]=s>>>24,a+4},u.prototype.writeInt32BE=function(s,a,g){return s=+s,a=a>>>0,g||l(this,s,a,4,2147483647,-2147483648),s<0&&(s=4294967295+s+1),this[a]=s>>>24,this[a+1]=s>>>16,this[a+2]=s>>>8,this[a+3]=s&255,a+4},u.prototype.writeBigInt64LE=he(function(s,a=0){return E(this,s,a,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),u.prototype.writeBigInt64BE=he(function(s,a=0){return H(this,s,a,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function K(h,s,a,g,S,M){if(a+g>h.length)throw new RangeError("Index out of range");if(a<0)throw new RangeError("Index out of range")}function G(h,s,a,g,S){return s=+s,a=a>>>0,S||K(h,s,a,4),e.write(h,s,a,g,23,4),a+4}u.prototype.writeFloatLE=function(s,a,g){return G(this,s,a,!0,g)},u.prototype.writeFloatBE=function(s,a,g){return G(this,s,a,!1,g)};function lt(h,s,a,g,S){return s=+s,a=a>>>0,S||K(h,s,a,8),e.write(h,s,a,g,52,8),a+8}u.prototype.writeDoubleLE=function(s,a,g){return lt(this,s,a,!0,g)},u.prototype.writeDoubleBE=function(s,a,g){return lt(this,s,a,!1,g)},u.prototype.copy=function(s,a,g,S){if(!u.isBuffer(s))throw new TypeError("argument should be a Buffer");if(g||(g=0),!S&&S!==0&&(S=this.length),a>=s.length&&(a=s.length),a||(a=0),S>0&&S<g&&(S=g),S===g||s.length===0||this.length===0)return 0;if(a<0)throw new RangeError("targetStart out of bounds");if(g<0||g>=this.length)throw new RangeError("Index out of range");if(S<0)throw new RangeError("sourceEnd out of bounds");S>this.length&&(S=this.length),s.length-a<S-g&&(S=s.length-a+g);const M=S-g;return this===s&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(a,g,S):Uint8Array.prototype.set.call(s,this.subarray(g,S),a),M},u.prototype.fill=function(s,a,g,S){if(typeof s=="string"){if(typeof a=="string"?(S=a,a=0,g=this.length):typeof g=="string"&&(S=g,g=this.length),S!==void 0&&typeof S!="string")throw new TypeError("encoding must be a string");if(typeof S=="string"&&!u.isEncoding(S))throw new TypeError("Unknown encoding: "+S);if(s.length===1){const T=s.charCodeAt(0);(S==="utf8"&&T<128||S==="latin1")&&(s=T)}}else typeof s=="number"?s=s&255:typeof s=="boolean"&&(s=Number(s));if(a<0||this.length<a||this.length<g)throw new RangeError("Out of range index");if(g<=a)return this;a=a>>>0,g=g===void 0?this.length:g>>>0,s||(s=0);let M;if(typeof s=="number")for(M=a;M<g;++M)this[M]=s;else{const T=u.isBuffer(s)?s:u.from(s,S),tt=T.length;if(tt===0)throw new TypeError('The value "'+s+'" is invalid for argument "value"');for(M=0;M<g-a;++M)this[M+a]=T[M%tt]}return this};const ot={};function ft(h,s,a){ot[h]=class extends a{constructor(){super(),Object.defineProperty(this,"message",{value:s.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${h}]`,this.stack,delete this.name}get code(){return h}set code(S){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:S,writable:!0})}toString(){return`${this.name} [${h}]: ${this.message}`}}}ft("ERR_BUFFER_OUT_OF_BOUNDS",function(h){return h?`${h} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ft("ERR_INVALID_ARG_TYPE",function(h,s){return`The "${h}" argument must be of type number. Received type ${typeof s}`},TypeError),ft("ERR_OUT_OF_RANGE",function(h,s,a){let g=`The value of "${h}" is out of range.`,S=a;return Number.isInteger(a)&&Math.abs(a)>2**32?S=Zt(String(a)):typeof a=="bigint"&&(S=String(a),(a>BigInt(2)**BigInt(32)||a<-(BigInt(2)**BigInt(32)))&&(S=Zt(S)),S+="n"),g+=` It must be ${s}. Received ${S}`,g},RangeError);function Zt(h){let s="",a=h.length;const g=h[0]==="-"?1:0;for(;a>=g+4;a-=3)s=`_${h.slice(a-3,a)}${s}`;return`${h.slice(0,a)}${s}`}function Bt(h,s,a){Wt(s,"offset"),(h[s]===void 0||h[s+a]===void 0)&&xt(s,h.length-(a+1))}function _t(h,s,a,g,S,M){if(h>a||h<s){const T=typeof s=="bigint"?"n":"";let tt;throw M>3?s===0||s===BigInt(0)?tt=`>= 0${T} and < 2${T} ** ${(M+1)*8}${T}`:tt=`>= -(2${T} ** ${(M+1)*8-1}${T}) and < 2 ** ${(M+1)*8-1}${T}`:tt=`>= ${s}${T} and <= ${a}${T}`,new ot.ERR_OUT_OF_RANGE("value",tt,h)}Bt(g,S,M)}function Wt(h,s){if(typeof h!="number")throw new ot.ERR_INVALID_ARG_TYPE(s,"number",h)}function xt(h,s,a){throw Math.floor(h)!==h?(Wt(h,a),new ot.ERR_OUT_OF_RANGE(a||"offset","an integer",h)):s<0?new ot.ERR_BUFFER_OUT_OF_BOUNDS:new ot.ERR_OUT_OF_RANGE(a||"offset",`>= ${a?1:0} and <= ${s}`,h)}const Rt=/[^+/0-9A-Za-z-_]/g;function je(h){if(h=h.split("=")[0],h=h.trim().replace(Rt,""),h.length<2)return"";for(;h.length%4!==0;)h=h+"=";return h}function Ut(h,s){s=s||1/0;let a;const g=h.length;let S=null;const M=[];for(let T=0;T<g;++T){if(a=h.charCodeAt(T),a>55295&&a<57344){if(!S){if(a>56319){(s-=3)>-1&&M.push(239,191,189);continue}else if(T+1===g){(s-=3)>-1&&M.push(239,191,189);continue}S=a;continue}if(a<56320){(s-=3)>-1&&M.push(239,191,189),S=a;continue}a=(S-55296<<10|a-56320)+65536}else S&&(s-=3)>-1&&M.push(239,191,189);if(S=null,a<128){if((s-=1)<0)break;M.push(a)}else if(a<2048){if((s-=2)<0)break;M.push(a>>6|192,a&63|128)}else if(a<65536){if((s-=3)<0)break;M.push(a>>12|224,a>>6&63|128,a&63|128)}else if(a<1114112){if((s-=4)<0)break;M.push(a>>18|240,a>>12&63|128,a>>6&63|128,a&63|128)}else throw new Error("Invalid code point")}return M}function qt(h){const s=[];for(let a=0;a<h.length;++a)s.push(h.charCodeAt(a)&255);return s}function sr(h,s){let a,g,S;const M=[];for(let T=0;T<h.length&&!((s-=2)<0);++T)a=h.charCodeAt(T),g=a>>8,S=a%256,M.push(S),M.push(g);return M}function Ft(h){return t.toByteArray(je(h))}function Ct(h,s,a,g){let S;for(S=0;S<g&&!(S+a>=s.length||S>=h.length);++S)s[S+a]=h[S];return S}function Yt(h,s){return h instanceof s||h!=null&&h.constructor!=null&&h.constructor.name!=null&&h.constructor.name===s.name}function Ot(h){return h!==h}const $t=function(){const h="0123456789abcdef",s=new Array(256);for(let a=0;a<16;++a){const g=a*16;for(let S=0;S<16;++S)s[g+S]=h[a]+h[S]}return s}();function he(h){return typeof BigInt>"u"?Nt:h}function Nt(){throw new Error("BigInt not supported")}})(ue);function fl(r){if(!Number.isSafeInteger(r)||r<0)throw new Error(`Wrong positive integer: ${r}`)}function v1(r){return r instanceof Uint8Array||r!=null&&typeof r=="object"&&r.constructor.name==="Uint8Array"}function ll(r,...t){if(!v1(r))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(r.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${r.length}`)}function x1(r){if(typeof r!="function"||typeof r.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");fl(r.outputLen),fl(r.blockLen)}function Fs(r,t=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(t&&r.finished)throw new Error("Hash#digest() has already been called")}function E1(r,t){ll(r);const e=t.outputLen;if(r.length<e)throw new Error(`digestInto() expects output buffer of length at least ${e}`)}const ac=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function hl(r){return r instanceof Uint8Array||r!=null&&typeof r=="object"&&r.constructor.name==="Uint8Array"}const cc=r=>new DataView(r.buffer,r.byteOffset,r.byteLength),gn=(r,t)=>r<<32-t|r>>>t;if(!(new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68))throw new Error("Non little-endian hardware is not supported");function _1(r){if(typeof r!="string")throw new Error(`utf8ToBytes expected string, got ${typeof r}`);return new Uint8Array(new TextEncoder().encode(r))}function uc(r){if(typeof r=="string"&&(r=_1(r)),!hl(r))throw new Error(`expected Uint8Array, got ${typeof r}`);return r}function S1(...r){let t=0;for(let n=0;n<r.length;n++){const o=r[n];if(!hl(o))throw new Error("Uint8Array expected");t+=o.length}const e=new Uint8Array(t);for(let n=0,o=0;n<r.length;n++){const i=r[n];e.set(i,o),o+=i.length}return e}let dl=class{clone(){return this._cloneInto()}};function pl(r){const t=n=>r().update(uc(n)).digest(),e=r();return t.outputLen=e.outputLen,t.blockLen=e.blockLen,t.create=()=>r(),t}function gl(r=32){if(ac&&typeof ac.getRandomValues=="function")return ac.getRandomValues(new Uint8Array(r));throw new Error("crypto.getRandomValues must be defined")}function B1(r,t,e,n){if(typeof r.setBigUint64=="function")return r.setBigUint64(t,e,n);const o=BigInt(32),i=BigInt(4294967295),c=Number(e>>o&i),u=Number(e&i),p=n?4:0,b=n?0:4;r.setUint32(t+p,c,n),r.setUint32(t+b,u,n)}let yl=class extends dl{constructor(t,e,n,o){super(),this.blockLen=t,this.outputLen=e,this.padOffset=n,this.isLE=o,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=cc(this.buffer)}update(t){Fs(this);const{view:e,buffer:n,blockLen:o}=this;t=uc(t);const i=t.length;for(let c=0;c<i;){const u=Math.min(o-this.pos,i-c);if(u===o){const p=cc(t);for(;o<=i-c;c+=o)this.process(p,c);continue}n.set(t.subarray(c,c+u),this.pos),this.pos+=u,c+=u,this.pos===o&&(this.process(e,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Fs(this),E1(t,this),this.finished=!0;const{buffer:e,view:n,blockLen:o,isLE:i}=this;let{pos:c}=this;e[c++]=128,this.buffer.subarray(c).fill(0),this.padOffset>o-c&&(this.process(n,0),c=0);for(let B=c;B<o;B++)e[B]=0;B1(n,o-8,BigInt(this.length*8),i),this.process(n,0);const u=cc(t),p=this.outputLen;if(p%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const b=p/4,_=this.get();if(b>_.length)throw new Error("_sha2: outputLen bigger than state");for(let B=0;B<b;B++)u.setUint32(4*B,_[B],i)}digest(){const{buffer:t,outputLen:e}=this;this.digestInto(t);const n=t.slice(0,e);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:e,buffer:n,length:o,finished:i,destroyed:c,pos:u}=this;return t.length=o,t.pos=u,t.finished=i,t.destroyed=c,o%e&&t.buffer.set(n),t}};const $s=BigInt(2**32-1),fc=BigInt(32);function ml(r,t=!1){return t?{h:Number(r&$s),l:Number(r>>fc&$s)}:{h:Number(r>>fc&$s)|0,l:Number(r&$s)|0}}function A1(r,t=!1){let e=new Uint32Array(r.length),n=new Uint32Array(r.length);for(let o=0;o<r.length;o++){const{h:i,l:c}=ml(r[o],t);[e[o],n[o]]=[i,c]}return[e,n]}const I1=(r,t)=>BigInt(r>>>0)<<fc|BigInt(t>>>0),M1=(r,t,e)=>r>>>e,k1=(r,t,e)=>r<<32-e|t>>>e,T1=(r,t,e)=>r>>>e|t<<32-e,R1=(r,t,e)=>r<<32-e|t>>>e,C1=(r,t,e)=>r<<64-e|t>>>e-32,L1=(r,t,e)=>r>>>e-32|t<<64-e,U1=(r,t)=>t,O1=(r,t)=>r,F1=(r,t,e)=>r<<e|t>>>32-e,$1=(r,t,e)=>t<<e|r>>>32-e,N1=(r,t,e)=>t<<e-32|r>>>64-e,P1=(r,t,e)=>r<<e-32|t>>>64-e;function D1(r,t,e,n){const o=(t>>>0)+(n>>>0);return{h:r+e+(o/2**32|0)|0,l:o|0}}const fe={fromBig:ml,split:A1,toBig:I1,shrSH:M1,shrSL:k1,rotrSH:T1,rotrSL:R1,rotrBH:C1,rotrBL:L1,rotr32H:U1,rotr32L:O1,rotlSH:F1,rotlSL:$1,rotlBH:N1,rotlBL:P1,add:D1,add3L:(r,t,e)=>(r>>>0)+(t>>>0)+(e>>>0),add3H:(r,t,e,n)=>t+e+n+(r/2**32|0)|0,add4L:(r,t,e,n)=>(r>>>0)+(t>>>0)+(e>>>0)+(n>>>0),add4H:(r,t,e,n,o)=>t+e+n+o+(r/2**32|0)|0,add5H:(r,t,e,n,o,i)=>t+e+n+o+i+(r/2**32|0)|0,add5L:(r,t,e,n,o)=>(r>>>0)+(t>>>0)+(e>>>0)+(n>>>0)+(o>>>0)},[z1,q1]=(()=>fe.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(r=>BigInt(r))))(),Wn=new Uint32Array(80),Hn=new Uint32Array(80);let W1=class extends yl{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:t,Al:e,Bh:n,Bl:o,Ch:i,Cl:c,Dh:u,Dl:p,Eh:b,El:_,Fh:B,Fl:C,Gh:k,Gl:O,Hh:U,Hl:R}=this;return[t,e,n,o,i,c,u,p,b,_,B,C,k,O,U,R]}set(t,e,n,o,i,c,u,p,b,_,B,C,k,O,U,R){this.Ah=t|0,this.Al=e|0,this.Bh=n|0,this.Bl=o|0,this.Ch=i|0,this.Cl=c|0,this.Dh=u|0,this.Dl=p|0,this.Eh=b|0,this.El=_|0,this.Fh=B|0,this.Fl=C|0,this.Gh=k|0,this.Gl=O|0,this.Hh=U|0,this.Hl=R|0}process(t,e){for(let L=0;L<16;L++,e+=4)Wn[L]=t.getUint32(e),Hn[L]=t.getUint32(e+=4);for(let L=16;L<80;L++){const z=Wn[L-15]|0,$=Hn[L-15]|0,N=fe.rotrSH(z,$,1)^fe.rotrSH(z,$,8)^fe.shrSH(z,$,7),q=fe.rotrSL(z,$,1)^fe.rotrSL(z,$,8)^fe.shrSL(z,$,7),W=Wn[L-2]|0,et=Hn[L-2]|0,ht=fe.rotrSH(W,et,19)^fe.rotrBH(W,et,61)^fe.shrSH(W,et,6),Q=fe.rotrSL(W,et,19)^fe.rotrBL(W,et,61)^fe.shrSL(W,et,6),mt=fe.add4L(q,Q,Hn[L-7],Hn[L-16]),I=fe.add4H(mt,N,ht,Wn[L-7],Wn[L-16]);Wn[L]=I|0,Hn[L]=mt|0}let{Ah:n,Al:o,Bh:i,Bl:c,Ch:u,Cl:p,Dh:b,Dl:_,Eh:B,El:C,Fh:k,Fl:O,Gh:U,Gl:R,Hh:P,Hl:F}=this;for(let L=0;L<80;L++){const z=fe.rotrSH(B,C,14)^fe.rotrSH(B,C,18)^fe.rotrBH(B,C,41),$=fe.rotrSL(B,C,14)^fe.rotrSL(B,C,18)^fe.rotrBL(B,C,41),N=B&k^~B&U,q=C&O^~C&R,W=fe.add5L(F,$,q,q1[L],Hn[L]),et=fe.add5H(W,P,z,N,z1[L],Wn[L]),ht=W|0,Q=fe.rotrSH(n,o,28)^fe.rotrBH(n,o,34)^fe.rotrBH(n,o,39),mt=fe.rotrSL(n,o,28)^fe.rotrBL(n,o,34)^fe.rotrBL(n,o,39),I=n&i^n&u^i&u,f=o&c^o&p^c&p;P=U|0,F=R|0,U=k|0,R=O|0,k=B|0,O=C|0,{h:B,l:C}=fe.add(b|0,_|0,et|0,ht|0),b=u|0,_=p|0,u=i|0,p=c|0,i=n|0,c=o|0;const d=fe.add3L(ht,mt,f);n=fe.add3H(d,et,Q,I),o=d|0}({h:n,l:o}=fe.add(this.Ah|0,this.Al|0,n|0,o|0)),{h:i,l:c}=fe.add(this.Bh|0,this.Bl|0,i|0,c|0),{h:u,l:p}=fe.add(this.Ch|0,this.Cl|0,u|0,p|0),{h:b,l:_}=fe.add(this.Dh|0,this.Dl|0,b|0,_|0),{h:B,l:C}=fe.add(this.Eh|0,this.El|0,B|0,C|0),{h:k,l:O}=fe.add(this.Fh|0,this.Fl|0,k|0,O|0),{h:U,l:R}=fe.add(this.Gh|0,this.Gl|0,U|0,R|0),{h:P,l:F}=fe.add(this.Hh|0,this.Hl|0,P|0,F|0),this.set(n,o,i,c,u,p,b,_,B,C,k,O,U,R,P,F)}roundClean(){Wn.fill(0),Hn.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const H1=pl(()=>new W1);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const wl=BigInt(0),Ns=BigInt(1),j1=BigInt(2);function yn(r){return r instanceof Uint8Array||r!=null&&typeof r=="object"&&r.constructor.name==="Uint8Array"}const K1=Array.from({length:256},(r,t)=>t.toString(16).padStart(2,"0"));function mi(r){if(!yn(r))throw new Error("Uint8Array expected");let t="";for(let e=0;e<r.length;e++)t+=K1[r[e]];return t}function bl(r){const t=r.toString(16);return t.length&1?`0${t}`:t}function lc(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);return BigInt(r===""?"0":`0x${r}`)}const Rn={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function vl(r){if(r>=Rn._0&&r<=Rn._9)return r-Rn._0;if(r>=Rn._A&&r<=Rn._F)return r-(Rn._A-10);if(r>=Rn._a&&r<=Rn._f)return r-(Rn._a-10)}function fo(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);const t=r.length,e=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(e);for(let o=0,i=0;o<e;o++,i+=2){const c=vl(r.charCodeAt(i)),u=vl(r.charCodeAt(i+1));if(c===void 0||u===void 0){const p=r[i]+r[i+1];throw new Error('hex string expected, got non-hex character "'+p+'" at index '+i)}n[o]=c*16+u}return n}function wi(r){return lc(mi(r))}function lo(r){if(!yn(r))throw new Error("Uint8Array expected");return lc(mi(Uint8Array.from(r).reverse()))}function ho(r,t){return fo(r.toString(16).padStart(t*2,"0"))}function Xo(r,t){return ho(r,t).reverse()}function G1(r){return fo(bl(r))}function Qe(r,t,e){let n;if(typeof t=="string")try{n=fo(t)}catch(i){throw new Error(`${r} must be valid hex string, got "${t}". Cause: ${i}`)}else if(yn(t))n=Uint8Array.from(t);else throw new Error(`${r} must be hex string or Uint8Array`);const o=n.length;if(typeof e=="number"&&o!==e)throw new Error(`${r} expected ${e} bytes, got ${o}`);return n}function bi(...r){let t=0;for(let o=0;o<r.length;o++){const i=r[o];if(!yn(i))throw new Error("Uint8Array expected");t+=i.length}let e=new Uint8Array(t),n=0;for(let o=0;o<r.length;o++){const i=r[o];e.set(i,n),n+=i.length}return e}function V1(r,t){if(r.length!==t.length)return!1;let e=0;for(let n=0;n<r.length;n++)e|=r[n]^t[n];return e===0}function Z1(r){if(typeof r!="string")throw new Error(`utf8ToBytes expected string, got ${typeof r}`);return new Uint8Array(new TextEncoder().encode(r))}function Y1(r){let t;for(t=0;r>wl;r>>=Ns,t+=1);return t}function X1(r,t){return r>>BigInt(t)&Ns}const J1=(r,t,e)=>r|(e?Ns:wl)<<BigInt(t),hc=r=>(j1<<BigInt(r-1))-Ns,dc=r=>new Uint8Array(r),xl=r=>Uint8Array.from(r);function El(r,t,e){if(typeof r!="number"||r<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof e!="function")throw new Error("hmacFn must be a function");let n=dc(r),o=dc(r),i=0;const c=()=>{n.fill(1),o.fill(0),i=0},u=(...B)=>e(o,n,...B),p=(B=dc())=>{o=u(xl([0]),B),n=u(),B.length!==0&&(o=u(xl([1]),B),n=u())},b=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let B=0;const C=[];for(;B<t;){n=u();const k=n.slice();C.push(k),B+=n.length}return bi(...C)};return(B,C)=>{c(),p(B);let k;for(;!(k=C(b()));)p();return c(),k}}const Q1={bigint:r=>typeof r=="bigint",function:r=>typeof r=="function",boolean:r=>typeof r=="boolean",string:r=>typeof r=="string",stringOrUint8Array:r=>typeof r=="string"||yn(r),isSafeInteger:r=>Number.isSafeInteger(r),array:r=>Array.isArray(r),field:(r,t)=>t.Fp.isValid(r),hash:r=>typeof r=="function"&&Number.isSafeInteger(r.outputLen)};function po(r,t,e={}){const n=(o,i,c)=>{const u=Q1[i];if(typeof u!="function")throw new Error(`Invalid validator "${i}", expected function`);const p=r[o];if(!(c&&p===void 0)&&!u(p,r))throw new Error(`Invalid param ${String(o)}=${p} (${typeof p}), expected ${i}`)};for(const[o,i]of Object.entries(t))n(o,i,!1);for(const[o,i]of Object.entries(e))n(o,i,!0);return r}const tg=Object.freeze(Object.defineProperty({__proto__:null,bitGet:X1,bitLen:Y1,bitMask:hc,bitSet:J1,bytesToHex:mi,bytesToNumberBE:wi,bytesToNumberLE:lo,concatBytes:bi,createHmacDrbg:El,ensureBytes:Qe,equalBytes:V1,hexToBytes:fo,hexToNumber:lc,isBytes:yn,numberToBytesBE:ho,numberToBytesLE:Xo,numberToHexUnpadded:bl,numberToVarBytesBE:G1,utf8ToBytes:Z1,validateObject:po},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ir=BigInt(0),$e=BigInt(1),vi=BigInt(2),eg=BigInt(3),pc=BigInt(4),_l=BigInt(5),Sl=BigInt(8);BigInt(9),BigInt(16);function Ue(r,t){const e=r%t;return e>=ir?e:t+e}function rg(r,t,e){if(e<=ir||t<ir)throw new Error("Expected power/modulo > 0");if(e===$e)return ir;let n=$e;for(;t>ir;)t&$e&&(n=n*r%e),r=r*r%e,t>>=$e;return n}function We(r,t,e){let n=r;for(;t-- >ir;)n*=n,n%=e;return n}function gc(r,t){if(r===ir||t<=ir)throw new Error(`invert: expected positive integers, got n=${r} mod=${t}`);let e=Ue(r,t),n=t,o=ir,i=$e;for(;e!==ir;){const u=n/e,p=n%e,b=o-i*u;n=e,e=p,o=i,i=b}if(n!==$e)throw new Error("invert: does not exist");return Ue(o,t)}function ng(r){const t=(r-$e)/vi;let e,n,o;for(e=r-$e,n=0;e%vi===ir;e/=vi,n++);for(o=vi;o<r&&rg(o,t,r)!==r-$e;o++);if(n===1){const c=(r+$e)/pc;return function(p,b){const _=p.pow(b,c);if(!p.eql(p.sqr(_),b))throw new Error("Cannot find square root");return _}}const i=(e+$e)/vi;return function(u,p){if(u.pow(p,t)===u.neg(u.ONE))throw new Error("Cannot find square root");let b=n,_=u.pow(u.mul(u.ONE,o),e),B=u.pow(p,i),C=u.pow(p,e);for(;!u.eql(C,u.ONE);){if(u.eql(C,u.ZERO))return u.ZERO;let k=1;for(let U=u.sqr(C);k<b&&!u.eql(U,u.ONE);k++)U=u.sqr(U);const O=u.pow(_,$e<<BigInt(b-k-1));_=u.sqr(O),B=u.mul(B,O),C=u.mul(C,_),b=k}return B}}function ig(r){if(r%pc===eg){const t=(r+$e)/pc;return function(n,o){const i=n.pow(o,t);if(!n.eql(n.sqr(i),o))throw new Error("Cannot find square root");return i}}if(r%Sl===_l){const t=(r-_l)/Sl;return function(n,o){const i=n.mul(o,vi),c=n.pow(i,t),u=n.mul(o,c),p=n.mul(n.mul(u,vi),c),b=n.mul(u,n.sub(p,n.ONE));if(!n.eql(n.sqr(b),o))throw new Error("Cannot find square root");return b}}return ng(r)}const og=(r,t)=>(Ue(r,t)&$e)===$e,sg=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function ag(r){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},e=sg.reduce((n,o)=>(n[o]="function",n),t);return po(r,e)}function cg(r,t,e){if(e<ir)throw new Error("Expected power > 0");if(e===ir)return r.ONE;if(e===$e)return t;let n=r.ONE,o=t;for(;e>ir;)e&$e&&(n=r.mul(n,o)),o=r.sqr(o),e>>=$e;return n}function ug(r,t){const e=new Array(t.length),n=t.reduce((i,c,u)=>r.is0(c)?i:(e[u]=i,r.mul(i,c)),r.ONE),o=r.inv(n);return t.reduceRight((i,c,u)=>r.is0(c)?i:(e[u]=r.mul(i,e[u]),r.mul(i,c)),o),e}function Bl(r,t){const e=t!==void 0?t:r.toString(2).length,n=Math.ceil(e/8);return{nBitLength:e,nByteLength:n}}function Al(r,t,e=!1,n={}){if(r<=ir)throw new Error(`Expected Field ORDER > 0, got ${r}`);const{nBitLength:o,nByteLength:i}=Bl(r,t);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");const c=ig(r),u=Object.freeze({ORDER:r,BITS:o,BYTES:i,MASK:hc(o),ZERO:ir,ONE:$e,create:p=>Ue(p,r),isValid:p=>{if(typeof p!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof p}`);return ir<=p&&p<r},is0:p=>p===ir,isOdd:p=>(p&$e)===$e,neg:p=>Ue(-p,r),eql:(p,b)=>p===b,sqr:p=>Ue(p*p,r),add:(p,b)=>Ue(p+b,r),sub:(p,b)=>Ue(p-b,r),mul:(p,b)=>Ue(p*b,r),pow:(p,b)=>cg(u,p,b),div:(p,b)=>Ue(p*gc(b,r),r),sqrN:p=>p*p,addN:(p,b)=>p+b,subN:(p,b)=>p-b,mulN:(p,b)=>p*b,inv:p=>gc(p,r),sqrt:n.sqrt||(p=>c(u,p)),invertBatch:p=>ug(u,p),cmov:(p,b,_)=>_?b:p,toBytes:p=>e?Xo(p,i):ho(p,i),fromBytes:p=>{if(p.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${p.length}`);return e?lo(p):wi(p)}});return Object.freeze(u)}function fg(r,t){if(!r.isOdd)throw new Error("Field doesn't have isOdd");const e=r.sqrt(t);return r.isOdd(e)?r.neg(e):e}function Il(r){if(typeof r!="bigint")throw new Error("field order must be bigint");const t=r.toString(2).length;return Math.ceil(t/8)}function Ml(r){const t=Il(r);return t+Math.ceil(t/2)}function lg(r,t,e=!1){const n=r.length,o=Il(t),i=Ml(t);if(n<16||n<i||n>1024)throw new Error(`expected ${i}-1024 bytes of input, got ${n}`);const c=e?wi(r):lo(r),u=Ue(c,t-$e)+$e;return e?Xo(u,o):ho(u,o)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const hg=BigInt(0),yc=BigInt(1);function kl(r,t){const e=(o,i)=>{const c=i.negate();return o?c:i},n=o=>{const i=Math.ceil(t/o)+1,c=2**(o-1);return{windows:i,windowSize:c}};return{constTimeNegate:e,unsafeLadder(o,i){let c=r.ZERO,u=o;for(;i>hg;)i&yc&&(c=c.add(u)),u=u.double(),i>>=yc;return c},precomputeWindow(o,i){const{windows:c,windowSize:u}=n(i),p=[];let b=o,_=b;for(let B=0;B<c;B++){_=b,p.push(_);for(let C=1;C<u;C++)_=_.add(b),p.push(_);b=_.double()}return p},wNAF(o,i,c){const{windows:u,windowSize:p}=n(o);let b=r.ZERO,_=r.BASE;const B=BigInt(2**o-1),C=2**o,k=BigInt(o);for(let O=0;O<u;O++){const U=O*p;let R=Number(c&B);c>>=k,R>p&&(R-=C,c+=yc);const P=U,F=U+Math.abs(R)-1,L=O%2!==0,z=R<0;R===0?_=_.add(e(L,i[P])):b=b.add(e(z,i[F]))}return{p:b,f:_}},wNAFCached(o,i,c,u){const p=o._WINDOW_SIZE||1;let b=i.get(o);return b||(b=this.precomputeWindow(o,p),p!==1&&i.set(o,u(b))),this.wNAF(p,b,c)}}}function mc(r){return ag(r.Fp),po(r,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Bl(r.n,r.nBitLength),...r,p:r.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const sn=BigInt(0),Fr=BigInt(1),Ps=BigInt(2),dg=BigInt(8),pg={zip215:!0};function gg(r){const t=mc(r);return po(r,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...t})}function yg(r){const t=gg(r),{Fp:e,n,prehash:o,hash:i,randomBytes:c,nByteLength:u,h:p}=t,b=Ps<<BigInt(u*8)-Fr,_=e.create,B=t.uvRatio||((v,x)=>{try{return{isValid:!0,value:e.sqrt(v*e.inv(x))}}catch{return{isValid:!1,value:sn}}}),C=t.adjustScalarBytes||(v=>v),k=t.domain||((v,x,A)=>{if(x.length||A)throw new Error("Contexts/pre-hash are not supported");return v}),O=v=>typeof v=="bigint"&&sn<v,U=(v,x)=>O(v)&&O(x)&&v<x,R=v=>v===sn||U(v,b);function P(v,x){if(U(v,x))return v;throw new Error(`Expected valid scalar < ${x}, got ${typeof v} ${v}`)}function F(v){return v===sn?v:P(v,n)}const L=new Map;function z(v){if(!(v instanceof $))throw new Error("ExtendedPoint expected")}class ${constructor(x,A,m,l){if(this.ex=x,this.ey=A,this.ez=m,this.et=l,!R(x))throw new Error("x required");if(!R(A))throw new Error("y required");if(!R(m))throw new Error("z required");if(!R(l))throw new Error("t required")}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(x){if(x instanceof $)throw new Error("extended point not allowed");const{x:A,y:m}=x||{};if(!R(A)||!R(m))throw new Error("invalid affine point");return new $(A,m,Fr,_(A*m))}static normalizeZ(x){const A=e.invertBatch(x.map(m=>m.ez));return x.map((m,l)=>m.toAffine(A[l])).map($.fromAffine)}_setWindowSize(x){this._WINDOW_SIZE=x,L.delete(this)}assertValidity(){const{a:x,d:A}=t;if(this.is0())throw new Error("bad point: ZERO");const{ex:m,ey:l,ez:E,et:H}=this,K=_(m*m),G=_(l*l),lt=_(E*E),ot=_(lt*lt),ft=_(K*x),Zt=_(lt*_(ft+G)),Bt=_(ot+_(A*_(K*G)));if(Zt!==Bt)throw new Error("bad point: equation left != right (1)");const _t=_(m*l),Wt=_(E*H);if(_t!==Wt)throw new Error("bad point: equation left != right (2)")}equals(x){z(x);const{ex:A,ey:m,ez:l}=this,{ex:E,ey:H,ez:K}=x,G=_(A*K),lt=_(E*l),ot=_(m*K),ft=_(H*l);return G===lt&&ot===ft}is0(){return this.equals($.ZERO)}negate(){return new $(_(-this.ex),this.ey,this.ez,_(-this.et))}double(){const{a:x}=t,{ex:A,ey:m,ez:l}=this,E=_(A*A),H=_(m*m),K=_(Ps*_(l*l)),G=_(x*E),lt=A+m,ot=_(_(lt*lt)-E-H),ft=G+H,Zt=ft-K,Bt=G-H,_t=_(ot*Zt),Wt=_(ft*Bt),xt=_(ot*Bt),Rt=_(Zt*ft);return new $(_t,Wt,Rt,xt)}add(x){z(x);const{a:A,d:m}=t,{ex:l,ey:E,ez:H,et:K}=this,{ex:G,ey:lt,ez:ot,et:ft}=x;if(A===BigInt(-1)){const Yt=_((E-l)*(lt+G)),Ot=_((E+l)*(lt-G)),$t=_(Ot-Yt);if($t===sn)return this.double();const he=_(H*Ps*ft),Nt=_(K*Ps*ot),h=Nt+he,s=Ot+Yt,a=Nt-he,g=_(h*$t),S=_(s*a),M=_(h*a),T=_($t*s);return new $(g,S,T,M)}const Zt=_(l*G),Bt=_(E*lt),_t=_(K*m*ft),Wt=_(H*ot),xt=_((l+E)*(G+lt)-Zt-Bt),Rt=Wt-_t,je=Wt+_t,Ut=_(Bt-A*Zt),qt=_(xt*Rt),sr=_(je*Ut),Ft=_(xt*Ut),Ct=_(Rt*je);return new $(qt,sr,Ct,Ft)}subtract(x){return this.add(x.negate())}wNAF(x){return W.wNAFCached(this,L,x,$.normalizeZ)}multiply(x){const{p:A,f:m}=this.wNAF(P(x,n));return $.normalizeZ([A,m])[0]}multiplyUnsafe(x){let A=F(x);return A===sn?q:this.equals(q)||A===Fr?this:this.equals(N)?this.wNAF(A).p:W.unsafeLadder(this,A)}isSmallOrder(){return this.multiplyUnsafe(p).is0()}isTorsionFree(){return W.unsafeLadder(this,n).is0()}toAffine(x){const{ex:A,ey:m,ez:l}=this,E=this.is0();x==null&&(x=E?dg:e.inv(l));const H=_(A*x),K=_(m*x),G=_(l*x);if(E)return{x:sn,y:Fr};if(G!==Fr)throw new Error("invZ was invalid");return{x:H,y:K}}clearCofactor(){const{h:x}=t;return x===Fr?this:this.multiplyUnsafe(x)}static fromHex(x,A=!1){const{d:m,a:l}=t,E=e.BYTES;x=Qe("pointHex",x,E);const H=x.slice(),K=x[E-1];H[E-1]=K&-129;const G=lo(H);G===sn||(A?P(G,b):P(G,e.ORDER));const lt=_(G*G),ot=_(lt-Fr),ft=_(m*lt-l);let{isValid:Zt,value:Bt}=B(ot,ft);if(!Zt)throw new Error("Point.fromHex: invalid y coordinate");const _t=(Bt&Fr)===Fr,Wt=(K&128)!==0;if(!A&&Bt===sn&&Wt)throw new Error("Point.fromHex: x=0 and x_0=1");return Wt!==_t&&(Bt=_(-Bt)),$.fromAffine({x:Bt,y:G})}static fromPrivateKey(x){return Q(x).point}toRawBytes(){const{x,y:A}=this.toAffine(),m=Xo(A,e.BYTES);return m[m.length-1]|=x&Fr?128:0,m}toHex(){return mi(this.toRawBytes())}}$.BASE=new $(t.Gx,t.Gy,Fr,_(t.Gx*t.Gy)),$.ZERO=new $(sn,Fr,Fr,sn);const{BASE:N,ZERO:q}=$,W=kl($,u*8);function et(v){return Ue(v,n)}function ht(v){return et(lo(v))}function Q(v){const x=u;v=Qe("private key",v,x);const A=Qe("hashed private key",i(v),2*x),m=C(A.slice(0,x)),l=A.slice(x,2*x),E=ht(m),H=N.multiply(E),K=H.toRawBytes();return{head:m,prefix:l,scalar:E,point:H,pointBytes:K}}function mt(v){return Q(v).pointBytes}function I(v=new Uint8Array,...x){const A=bi(...x);return ht(i(k(A,Qe("context",v),!!o)))}function f(v,x,A={}){v=Qe("message",v),o&&(v=o(v));const{prefix:m,scalar:l,pointBytes:E}=Q(x),H=I(A.context,m,v),K=N.multiply(H).toRawBytes(),G=I(A.context,K,E,v),lt=et(H+G*l);F(lt);const ot=bi(K,Xo(lt,e.BYTES));return Qe("result",ot,u*2)}const d=pg;function y(v,x,A,m=d){const{context:l,zip215:E}=m,H=e.BYTES;v=Qe("signature",v,2*H),x=Qe("message",x),o&&(x=o(x));const K=lo(v.slice(H,2*H));let G,lt,ot;try{G=$.fromHex(A,E),lt=$.fromHex(v.slice(0,H),E),ot=N.multiplyUnsafe(K)}catch{return!1}if(!E&&G.isSmallOrder())return!1;const ft=I(l,lt.toRawBytes(),G.toRawBytes(),x);return lt.add(G.multiplyUnsafe(ft)).subtract(ot).clearCofactor().equals($.ZERO)}return N._setWindowSize(8),{CURVE:t,getPublicKey:mt,sign:f,verify:y,ExtendedPoint:$,utils:{getExtendedPublicKey:Q,randomPrivateKey:()=>c(e.BYTES),precompute(v=8,x=$.BASE){return x._setWindowSize(v),x.multiply(BigInt(3)),x}}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const wc=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),Tl=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const mg=BigInt(1),bc=BigInt(2),wg=BigInt(5),Rl=BigInt(10),bg=BigInt(20),vg=BigInt(40),Cl=BigInt(80);function xg(r){const t=wc,n=r*r%t*r%t,o=We(n,bc,t)*n%t,i=We(o,mg,t)*r%t,c=We(i,wg,t)*i%t,u=We(c,Rl,t)*c%t,p=We(u,bg,t)*u%t,b=We(p,vg,t)*p%t,_=We(b,Cl,t)*b%t,B=We(_,Cl,t)*b%t,C=We(B,Rl,t)*c%t;return{pow_p_5_8:We(C,bc,t)*r%t,b2:n}}function Eg(r){return r[0]&=248,r[31]&=127,r[31]|=64,r}function _g(r,t){const e=wc,n=Ue(t*t*t,e),o=Ue(n*n*t,e),i=xg(r*o).pow_p_5_8;let c=Ue(r*n*i,e);const u=Ue(t*c*c,e),p=c,b=Ue(c*Tl,e),_=u===r,B=u===Ue(-r,e),C=u===Ue(-r*Tl,e);return _&&(c=p),(B||C)&&(c=b),og(c,e)&&(c=Ue(-c,e)),{isValid:_||B,value:c}}const Cn=Al(wc,void 0,!0),Sg={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:Cn,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:H1,randomBytes:gl,adjustScalarBytes:Eg,uvRatio:_g},Ds=yg(Sg),Bg=(Cn.ORDER+BigInt(3))/BigInt(8);Cn.pow(bc,Bg),Cn.sqrt(Cn.neg(Cn.ONE)),(Cn.ORDER-BigInt(5))/BigInt(8),BigInt(486662),fg(Cn,Cn.neg(BigInt(486664))),BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952"),BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");var vc={exports:{}};const xc=Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"})),Ll=yi(xc);vc.exports,function(r){(function(t,e){function n(I,f){if(!I)throw new Error(f||"Assertion failed")}function o(I,f){I.super_=f;var d=function(){};d.prototype=f.prototype,I.prototype=new d,I.prototype.constructor=I}function i(I,f,d){if(i.isBN(I))return I;this.negative=0,this.words=null,this.length=0,this.red=null,I!==null&&((f==="le"||f==="be")&&(d=f,f=10),this._init(I||0,f||10,d||"be"))}typeof t=="object"?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var c;try{typeof window<"u"&&typeof window.Buffer<"u"?c=window.Buffer:c=Ll.Buffer}catch{}i.isBN=function(f){return f instanceof i?!0:f!==null&&typeof f=="object"&&f.constructor.wordSize===i.wordSize&&Array.isArray(f.words)},i.max=function(f,d){return f.cmp(d)>0?f:d},i.min=function(f,d){return f.cmp(d)<0?f:d},i.prototype._init=function(f,d,y){if(typeof f=="number")return this._initNumber(f,d,y);if(typeof f=="object")return this._initArray(f,d,y);d==="hex"&&(d=16),n(d===(d|0)&&d>=2&&d<=36),f=f.toString().replace(/\s+/g,"");var w=0;f[0]==="-"&&(w++,this.negative=1),w<f.length&&(d===16?this._parseHex(f,w,y):(this._parseBase(f,d,w),y==="le"&&this._initArray(this.toArray(),d,y)))},i.prototype._initNumber=function(f,d,y){f<0&&(this.negative=1,f=-f),f<67108864?(this.words=[f&67108863],this.length=1):f<4503599627370496?(this.words=[f&67108863,f/67108864&67108863],this.length=2):(n(f<9007199254740992),this.words=[f&67108863,f/67108864&67108863,1],this.length=3),y==="le"&&this._initArray(this.toArray(),d,y)},i.prototype._initArray=function(f,d,y){if(n(typeof f.length=="number"),f.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(f.length/3),this.words=new Array(this.length);for(var w=0;w<this.length;w++)this.words[w]=0;var v,x,A=0;if(y==="be")for(w=f.length-1,v=0;w>=0;w-=3)x=f[w]|f[w-1]<<8|f[w-2]<<16,this.words[v]|=x<<A&67108863,this.words[v+1]=x>>>26-A&67108863,A+=24,A>=26&&(A-=26,v++);else if(y==="le")for(w=0,v=0;w<f.length;w+=3)x=f[w]|f[w+1]<<8|f[w+2]<<16,this.words[v]|=x<<A&67108863,this.words[v+1]=x>>>26-A&67108863,A+=24,A>=26&&(A-=26,v++);return this._strip()};function u(I,f){var d=I.charCodeAt(f);if(d>=48&&d<=57)return d-48;if(d>=65&&d<=70)return d-55;if(d>=97&&d<=102)return d-87;n(!1,"Invalid character in "+I)}function p(I,f,d){var y=u(I,d);return d-1>=f&&(y|=u(I,d-1)<<4),y}i.prototype._parseHex=function(f,d,y){this.length=Math.ceil((f.length-d)/6),this.words=new Array(this.length);for(var w=0;w<this.length;w++)this.words[w]=0;var v=0,x=0,A;if(y==="be")for(w=f.length-1;w>=d;w-=2)A=p(f,d,w)<<v,this.words[x]|=A&67108863,v>=18?(v-=18,x+=1,this.words[x]|=A>>>26):v+=8;else{var m=f.length-d;for(w=m%2===0?d+1:d;w<f.length;w+=2)A=p(f,d,w)<<v,this.words[x]|=A&67108863,v>=18?(v-=18,x+=1,this.words[x]|=A>>>26):v+=8}this._strip()};function b(I,f,d,y){for(var w=0,v=0,x=Math.min(I.length,d),A=f;A<x;A++){var m=I.charCodeAt(A)-48;w*=y,m>=49?v=m-49+10:m>=17?v=m-17+10:v=m,n(m>=0&&v<y,"Invalid character"),w+=v}return w}i.prototype._parseBase=function(f,d,y){this.words=[0],this.length=1;for(var w=0,v=1;v<=67108863;v*=d)w++;w--,v=v/d|0;for(var x=f.length-y,A=x%w,m=Math.min(x,x-A)+y,l=0,E=y;E<m;E+=w)l=b(f,E,E+w,d),this.imuln(v),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l);if(A!==0){var H=1;for(l=b(f,E,f.length,d),E=0;E<A;E++)H*=d;this.imuln(H),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l)}this._strip()},i.prototype.copy=function(f){f.words=new Array(this.length);for(var d=0;d<this.length;d++)f.words[d]=this.words[d];f.length=this.length,f.negative=this.negative,f.red=this.red};function _(I,f){I.words=f.words,I.length=f.length,I.negative=f.negative,I.red=f.red}if(i.prototype._move=function(f){_(f,this)},i.prototype.clone=function(){var f=new i(null);return this.copy(f),f},i.prototype._expand=function(f){for(;this.length<f;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=B}catch{i.prototype.inspect=B}else i.prototype.inspect=B;function B(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var C=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],k=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],O=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(f,d){f=f||10,d=d|0||1;var y;if(f===16||f==="hex"){y="";for(var w=0,v=0,x=0;x<this.length;x++){var A=this.words[x],m=((A<<w|v)&16777215).toString(16);v=A>>>24-w&16777215,w+=2,w>=26&&(w-=26,x--),v!==0||x!==this.length-1?y=C[6-m.length]+m+y:y=m+y}for(v!==0&&(y=v.toString(16)+y);y.length%d!==0;)y="0"+y;return this.negative!==0&&(y="-"+y),y}if(f===(f|0)&&f>=2&&f<=36){var l=k[f],E=O[f];y="";var H=this.clone();for(H.negative=0;!H.isZero();){var K=H.modrn(E).toString(f);H=H.idivn(E),H.isZero()?y=K+y:y=C[l-K.length]+K+y}for(this.isZero()&&(y="0"+y);y.length%d!==0;)y="0"+y;return this.negative!==0&&(y="-"+y),y}n(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var f=this.words[0];return this.length===2?f+=this.words[1]*67108864:this.length===3&&this.words[2]===1?f+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-f:f},i.prototype.toJSON=function(){return this.toString(16,2)},c&&(i.prototype.toBuffer=function(f,d){return this.toArrayLike(c,f,d)}),i.prototype.toArray=function(f,d){return this.toArrayLike(Array,f,d)};var U=function(f,d){return f.allocUnsafe?f.allocUnsafe(d):new f(d)};i.prototype.toArrayLike=function(f,d,y){this._strip();var w=this.byteLength(),v=y||Math.max(1,w);n(w<=v,"byte array longer than desired length"),n(v>0,"Requested array length <= 0");var x=U(f,v),A=d==="le"?"LE":"BE";return this["_toArrayLike"+A](x,w),x},i.prototype._toArrayLikeLE=function(f,d){for(var y=0,w=0,v=0,x=0;v<this.length;v++){var A=this.words[v]<<x|w;f[y++]=A&255,y<f.length&&(f[y++]=A>>8&255),y<f.length&&(f[y++]=A>>16&255),x===6?(y<f.length&&(f[y++]=A>>24&255),w=0,x=0):(w=A>>>24,x+=2)}if(y<f.length)for(f[y++]=w;y<f.length;)f[y++]=0},i.prototype._toArrayLikeBE=function(f,d){for(var y=f.length-1,w=0,v=0,x=0;v<this.length;v++){var A=this.words[v]<<x|w;f[y--]=A&255,y>=0&&(f[y--]=A>>8&255),y>=0&&(f[y--]=A>>16&255),x===6?(y>=0&&(f[y--]=A>>24&255),w=0,x=0):(w=A>>>24,x+=2)}if(y>=0)for(f[y--]=w;y>=0;)f[y--]=0},Math.clz32?i.prototype._countBits=function(f){return 32-Math.clz32(f)}:i.prototype._countBits=function(f){var d=f,y=0;return d>=4096&&(y+=13,d>>>=13),d>=64&&(y+=7,d>>>=7),d>=8&&(y+=4,d>>>=4),d>=2&&(y+=2,d>>>=2),y+d},i.prototype._zeroBits=function(f){if(f===0)return 26;var d=f,y=0;return d&8191||(y+=13,d>>>=13),d&127||(y+=7,d>>>=7),d&15||(y+=4,d>>>=4),d&3||(y+=2,d>>>=2),d&1||y++,y},i.prototype.bitLength=function(){var f=this.words[this.length-1],d=this._countBits(f);return(this.length-1)*26+d};function R(I){for(var f=new Array(I.bitLength()),d=0;d<f.length;d++){var y=d/26|0,w=d%26;f[d]=I.words[y]>>>w&1}return f}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var f=0,d=0;d<this.length;d++){var y=this._zeroBits(this.words[d]);if(f+=y,y!==26)break}return f},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(f){return this.negative!==0?this.abs().inotn(f).iaddn(1):this.clone()},i.prototype.fromTwos=function(f){return this.testn(f-1)?this.notn(f).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(f){for(;this.length<f.length;)this.words[this.length++]=0;for(var d=0;d<f.length;d++)this.words[d]=this.words[d]|f.words[d];return this._strip()},i.prototype.ior=function(f){return n((this.negative|f.negative)===0),this.iuor(f)},i.prototype.or=function(f){return this.length>f.length?this.clone().ior(f):f.clone().ior(this)},i.prototype.uor=function(f){return this.length>f.length?this.clone().iuor(f):f.clone().iuor(this)},i.prototype.iuand=function(f){var d;this.length>f.length?d=f:d=this;for(var y=0;y<d.length;y++)this.words[y]=this.words[y]&f.words[y];return this.length=d.length,this._strip()},i.prototype.iand=function(f){return n((this.negative|f.negative)===0),this.iuand(f)},i.prototype.and=function(f){return this.length>f.length?this.clone().iand(f):f.clone().iand(this)},i.prototype.uand=function(f){return this.length>f.length?this.clone().iuand(f):f.clone().iuand(this)},i.prototype.iuxor=function(f){var d,y;this.length>f.length?(d=this,y=f):(d=f,y=this);for(var w=0;w<y.length;w++)this.words[w]=d.words[w]^y.words[w];if(this!==d)for(;w<d.length;w++)this.words[w]=d.words[w];return this.length=d.length,this._strip()},i.prototype.ixor=function(f){return n((this.negative|f.negative)===0),this.iuxor(f)},i.prototype.xor=function(f){return this.length>f.length?this.clone().ixor(f):f.clone().ixor(this)},i.prototype.uxor=function(f){return this.length>f.length?this.clone().iuxor(f):f.clone().iuxor(this)},i.prototype.inotn=function(f){n(typeof f=="number"&&f>=0);var d=Math.ceil(f/26)|0,y=f%26;this._expand(d),y>0&&d--;for(var w=0;w<d;w++)this.words[w]=~this.words[w]&67108863;return y>0&&(this.words[w]=~this.words[w]&67108863>>26-y),this._strip()},i.prototype.notn=function(f){return this.clone().inotn(f)},i.prototype.setn=function(f,d){n(typeof f=="number"&&f>=0);var y=f/26|0,w=f%26;return this._expand(y+1),d?this.words[y]=this.words[y]|1<<w:this.words[y]=this.words[y]&~(1<<w),this._strip()},i.prototype.iadd=function(f){var d;if(this.negative!==0&&f.negative===0)return this.negative=0,d=this.isub(f),this.negative^=1,this._normSign();if(this.negative===0&&f.negative!==0)return f.negative=0,d=this.isub(f),f.negative=1,d._normSign();var y,w;this.length>f.length?(y=this,w=f):(y=f,w=this);for(var v=0,x=0;x<w.length;x++)d=(y.words[x]|0)+(w.words[x]|0)+v,this.words[x]=d&67108863,v=d>>>26;for(;v!==0&&x<y.length;x++)d=(y.words[x]|0)+v,this.words[x]=d&67108863,v=d>>>26;if(this.length=y.length,v!==0)this.words[this.length]=v,this.length++;else if(y!==this)for(;x<y.length;x++)this.words[x]=y.words[x];return this},i.prototype.add=function(f){var d;return f.negative!==0&&this.negative===0?(f.negative=0,d=this.sub(f),f.negative^=1,d):f.negative===0&&this.negative!==0?(this.negative=0,d=f.sub(this),this.negative=1,d):this.length>f.length?this.clone().iadd(f):f.clone().iadd(this)},i.prototype.isub=function(f){if(f.negative!==0){f.negative=0;var d=this.iadd(f);return f.negative=1,d._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(f),this.negative=1,this._normSign();var y=this.cmp(f);if(y===0)return this.negative=0,this.length=1,this.words[0]=0,this;var w,v;y>0?(w=this,v=f):(w=f,v=this);for(var x=0,A=0;A<v.length;A++)d=(w.words[A]|0)-(v.words[A]|0)+x,x=d>>26,this.words[A]=d&67108863;for(;x!==0&&A<w.length;A++)d=(w.words[A]|0)+x,x=d>>26,this.words[A]=d&67108863;if(x===0&&A<w.length&&w!==this)for(;A<w.length;A++)this.words[A]=w.words[A];return this.length=Math.max(this.length,A),w!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(f){return this.clone().isub(f)};function P(I,f,d){d.negative=f.negative^I.negative;var y=I.length+f.length|0;d.length=y,y=y-1|0;var w=I.words[0]|0,v=f.words[0]|0,x=w*v,A=x&67108863,m=x/67108864|0;d.words[0]=A;for(var l=1;l<y;l++){for(var E=m>>>26,H=m&67108863,K=Math.min(l,f.length-1),G=Math.max(0,l-I.length+1);G<=K;G++){var lt=l-G|0;w=I.words[lt]|0,v=f.words[G]|0,x=w*v+H,E+=x/67108864|0,H=x&67108863}d.words[l]=H|0,m=E|0}return m!==0?d.words[l]=m|0:d.length--,d._strip()}var F=function(f,d,y){var w=f.words,v=d.words,x=y.words,A=0,m,l,E,H=w[0]|0,K=H&8191,G=H>>>13,lt=w[1]|0,ot=lt&8191,ft=lt>>>13,Zt=w[2]|0,Bt=Zt&8191,_t=Zt>>>13,Wt=w[3]|0,xt=Wt&8191,Rt=Wt>>>13,je=w[4]|0,Ut=je&8191,qt=je>>>13,sr=w[5]|0,Ft=sr&8191,Ct=sr>>>13,Yt=w[6]|0,Ot=Yt&8191,$t=Yt>>>13,he=w[7]|0,Nt=he&8191,h=he>>>13,s=w[8]|0,a=s&8191,g=s>>>13,S=w[9]|0,M=S&8191,T=S>>>13,tt=v[0]|0,it=tt&8191,rt=tt>>>13,wt=v[1]|0,J=wt&8191,Xt=wt>>>13,hi=v[2]|0,Kt=hi&8191,Jt=hi>>>13,qn=v[3]|0,Qt=qn&8191,re=qn>>>13,di=v[4]|0,ne=di&8191,te=di>>>13,pi=v[5]|0,ie=pi&8191,oe=pi>>>13,gi=v[6]|0,se=gi&8191,ae=gi>>>13,Xi=v[7]|0,ce=Xi&8191,D=Xi>>>13,at=v[8]|0,nt=at&8191,dt=at>>>13,pe=v[9]|0,St=pe&8191,bt=pe>>>13;y.negative=f.negative^d.negative,y.length=19,m=Math.imul(K,it),l=Math.imul(K,rt),l=l+Math.imul(G,it)|0,E=Math.imul(G,rt);var ee=(A+m|0)+((l&8191)<<13)|0;A=(E+(l>>>13)|0)+(ee>>>26)|0,ee&=67108863,m=Math.imul(ot,it),l=Math.imul(ot,rt),l=l+Math.imul(ft,it)|0,E=Math.imul(ft,rt),m=m+Math.imul(K,J)|0,l=l+Math.imul(K,Xt)|0,l=l+Math.imul(G,J)|0,E=E+Math.imul(G,Xt)|0;var ze=(A+m|0)+((l&8191)<<13)|0;A=(E+(l>>>13)|0)+(ze>>>26)|0,ze&=67108863,m=Math.imul(Bt,it),l=Math.imul(Bt,rt),l=l+Math.imul(_t,it)|0,E=Math.imul(_t,rt),m=m+Math.imul(ot,J)|0,l=l+Math.imul(ot,Xt)|0,l=l+Math.imul(ft,J)|0,E=E+Math.imul(ft,Xt)|0,m=m+Math.imul(K,Kt)|0,l=l+Math.imul(K,Jt)|0,l=l+Math.imul(G,Kt)|0,E=E+Math.imul(G,Jt)|0;var Ie=(A+m|0)+((l&8191)<<13)|0;A=(E+(l>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,m=Math.imul(xt,it),l=Math.imul(xt,rt),l=l+Math.imul(Rt,it)|0,E=Math.imul(Rt,rt),m=m+Math.imul(Bt,J)|0,l=l+Math.imul(Bt,Xt)|0,l=l+Math.imul(_t,J)|0,E=E+Math.imul(_t,Xt)|0,m=m+Math.imul(ot,Kt)|0,l=l+Math.imul(ot,Jt)|0,l=l+Math.imul(ft,Kt)|0,E=E+Math.imul(ft,Jt)|0,m=m+Math.imul(K,Qt)|0,l=l+Math.imul(K,re)|0,l=l+Math.imul(G,Qt)|0,E=E+Math.imul(G,re)|0;var ke=(A+m|0)+((l&8191)<<13)|0;A=(E+(l>>>13)|0)+(ke>>>26)|0,ke&=67108863,m=Math.imul(Ut,it),l=Math.imul(Ut,rt),l=l+Math.imul(qt,it)|0,E=Math.imul(qt,rt),m=m+Math.imul(xt,J)|0,l=l+Math.imul(xt,Xt)|0,l=l+Math.imul(Rt,J)|0,E=E+Math.imul(Rt,Xt)|0,m=m+Math.imul(Bt,Kt)|0,l=l+Math.imul(Bt,Jt)|0,l=l+Math.imul(_t,Kt)|0,E=E+Math.imul(_t,Jt)|0,m=m+Math.imul(ot,Qt)|0,l=l+Math.imul(ot,re)|0,l=l+Math.imul(ft,Qt)|0,E=E+Math.imul(ft,re)|0,m=m+Math.imul(K,ne)|0,l=l+Math.imul(K,te)|0,l=l+Math.imul(G,ne)|0,E=E+Math.imul(G,te)|0;var Je=(A+m|0)+((l&8191)<<13)|0;A=(E+(l>>>13)|0)+(Je>>>26)|0,Je&=67108863,m=Math.imul(Ft,it),l=Math.imul(Ft,rt),l=l+Math.imul(Ct,it)|0,E=Math.imul(Ct,rt),m=m+Math.imul(Ut,J)|0,l=l+Math.imul(Ut,Xt)|0,l=l+Math.imul(qt,J)|0,E=E+Math.imul(qt,Xt)|0,m=m+Math.imul(xt,Kt)|0,l=l+Math.imul(xt,Jt)|0,l=l+Math.imul(Rt,Kt)|0,E=E+Math.imul(Rt,Jt)|0,m=m+Math.imul(Bt,Qt)|0,l=l+Math.imul(Bt,re)|0,l=l+Math.imul(_t,Qt)|0,E=E+Math.imul(_t,re)|0,m=m+Math.imul(ot,ne)|0,l=l+Math.imul(ot,te)|0,l=l+Math.imul(ft,ne)|0,E=E+Math.imul(ft,te)|0,m=m+Math.imul(K,ie)|0,l=l+Math.imul(K,oe)|0,l=l+Math.imul(G,ie)|0,E=E+Math.imul(G,oe)|0;var Or=(A+m|0)+((l&8191)<<13)|0;A=(E+(l>>>13)|0)+(Or>>>26)|0,Or&=67108863,m=Math.imul(Ot,it),l=Math.imul(Ot,rt),l=l+Math.imul($t,it)|0,E=Math.imul($t,rt),m=m+Math.imul(Ft,J)|0,l=l+Math.imul(Ft,Xt)|0,l=l+Math.imul(Ct,J)|0,E=E+Math.imul(Ct,Xt)|0,m=m+Math.imul(Ut,Kt)|0,l=l+Math.imul(Ut,Jt)|0,l=l+Math.imul(qt,Kt)|0,E=E+Math.imul(qt,Jt)|0,m=m+Math.imul(xt,Qt)|0,l=l+Math.imul(xt,re)|0,l=l+Math.imul(Rt,Qt)|0,E=E+Math.imul(Rt,re)|0,m=m+Math.imul(Bt,ne)|0,l=l+Math.imul(Bt,te)|0,l=l+Math.imul(_t,ne)|0,E=E+Math.imul(_t,te)|0,m=m+Math.imul(ot,ie)|0,l=l+Math.imul(ot,oe)|0,l=l+Math.imul(ft,ie)|0,E=E+Math.imul(ft,oe)|0,m=m+Math.imul(K,se)|0,l=l+Math.imul(K,ae)|0,l=l+Math.imul(G,se)|0,E=E+Math.imul(G,ae)|0;var Tn=(A+m|0)+((l&8191)<<13)|0;A=(E+(l>>>13)|0)+(Tn>>>26)|0,Tn&=67108863,m=Math.imul(Nt,it),l=Math.imul(Nt,rt),l=l+Math.imul(h,it)|0,E=Math.imul(h,rt),m=m+Math.imul(Ot,J)|0,l=l+Math.imul(Ot,Xt)|0,l=l+Math.imul($t,J)|0,E=E+Math.imul($t,Xt)|0,m=m+Math.imul(Ft,Kt)|0,l=l+Math.imul(Ft,Jt)|0,l=l+Math.imul(Ct,Kt)|0,E=E+Math.imul(Ct,Jt)|0,m=m+Math.imul(Ut,Qt)|0,l=l+Math.imul(Ut,re)|0,l=l+Math.imul(qt,Qt)|0,E=E+Math.imul(qt,re)|0,m=m+Math.imul(xt,ne)|0,l=l+Math.imul(xt,te)|0,l=l+Math.imul(Rt,ne)|0,E=E+Math.imul(Rt,te)|0,m=m+Math.imul(Bt,ie)|0,l=l+Math.imul(Bt,oe)|0,l=l+Math.imul(_t,ie)|0,E=E+Math.imul(_t,oe)|0,m=m+Math.imul(ot,se)|0,l=l+Math.imul(ot,ae)|0,l=l+Math.imul(ft,se)|0,E=E+Math.imul(ft,ae)|0,m=m+Math.imul(K,ce)|0,l=l+Math.imul(K,D)|0,l=l+Math.imul(G,ce)|0,E=E+Math.imul(G,D)|0;var yr=(A+m|0)+((l&8191)<<13)|0;A=(E+(l>>>13)|0)+(yr>>>26)|0,yr&=67108863,m=Math.imul(a,it),l=Math.imul(a,rt),l=l+Math.imul(g,it)|0,E=Math.imul(g,rt),m=m+Math.imul(Nt,J)|0,l=l+Math.imul(Nt,Xt)|0,l=l+Math.imul(h,J)|0,E=E+Math.imul(h,Xt)|0,m=m+Math.imul(Ot,Kt)|0,l=l+Math.imul(Ot,Jt)|0,l=l+Math.imul($t,Kt)|0,E=E+Math.imul($t,Jt)|0,m=m+Math.imul(Ft,Qt)|0,l=l+Math.imul(Ft,re)|0,l=l+Math.imul(Ct,Qt)|0,E=E+Math.imul(Ct,re)|0,m=m+Math.imul(Ut,ne)|0,l=l+Math.imul(Ut,te)|0,l=l+Math.imul(qt,ne)|0,E=E+Math.imul(qt,te)|0,m=m+Math.imul(xt,ie)|0,l=l+Math.imul(xt,oe)|0,l=l+Math.imul(Rt,ie)|0,E=E+Math.imul(Rt,oe)|0,m=m+Math.imul(Bt,se)|0,l=l+Math.imul(Bt,ae)|0,l=l+Math.imul(_t,se)|0,E=E+Math.imul(_t,ae)|0,m=m+Math.imul(ot,ce)|0,l=l+Math.imul(ot,D)|0,l=l+Math.imul(ft,ce)|0,E=E+Math.imul(ft,D)|0,m=m+Math.imul(K,nt)|0,l=l+Math.imul(K,dt)|0,l=l+Math.imul(G,nt)|0,E=E+Math.imul(G,dt)|0;var Ji=(A+m|0)+((l&8191)<<13)|0;A=(E+(l>>>13)|0)+(Ji>>>26)|0,Ji&=67108863,m=Math.imul(M,it),l=Math.imul(M,rt),l=l+Math.imul(T,it)|0,E=Math.imul(T,rt),m=m+Math.imul(a,J)|0,l=l+Math.imul(a,Xt)|0,l=l+Math.imul(g,J)|0,E=E+Math.imul(g,Xt)|0,m=m+Math.imul(Nt,Kt)|0,l=l+Math.imul(Nt,Jt)|0,l=l+Math.imul(h,Kt)|0,E=E+Math.imul(h,Jt)|0,m=m+Math.imul(Ot,Qt)|0,l=l+Math.imul(Ot,re)|0,l=l+Math.imul($t,Qt)|0,E=E+Math.imul($t,re)|0,m=m+Math.imul(Ft,ne)|0,l=l+Math.imul(Ft,te)|0,l=l+Math.imul(Ct,ne)|0,E=E+Math.imul(Ct,te)|0,m=m+Math.imul(Ut,ie)|0,l=l+Math.imul(Ut,oe)|0,l=l+Math.imul(qt,ie)|0,E=E+Math.imul(qt,oe)|0,m=m+Math.imul(xt,se)|0,l=l+Math.imul(xt,ae)|0,l=l+Math.imul(Rt,se)|0,E=E+Math.imul(Rt,ae)|0,m=m+Math.imul(Bt,ce)|0,l=l+Math.imul(Bt,D)|0,l=l+Math.imul(_t,ce)|0,E=E+Math.imul(_t,D)|0,m=m+Math.imul(ot,nt)|0,l=l+Math.imul(ot,dt)|0,l=l+Math.imul(ft,nt)|0,E=E+Math.imul(ft,dt)|0,m=m+Math.imul(K,St)|0,l=l+Math.imul(K,bt)|0,l=l+Math.imul(G,St)|0,E=E+Math.imul(G,bt)|0;var Qi=(A+m|0)+((l&8191)<<13)|0;A=(E+(l>>>13)|0)+(Qi>>>26)|0,Qi&=67108863,m=Math.imul(M,J),l=Math.imul(M,Xt),l=l+Math.imul(T,J)|0,E=Math.imul(T,Xt),m=m+Math.imul(a,Kt)|0,l=l+Math.imul(a,Jt)|0,l=l+Math.imul(g,Kt)|0,E=E+Math.imul(g,Jt)|0,m=m+Math.imul(Nt,Qt)|0,l=l+Math.imul(Nt,re)|0,l=l+Math.imul(h,Qt)|0,E=E+Math.imul(h,re)|0,m=m+Math.imul(Ot,ne)|0,l=l+Math.imul(Ot,te)|0,l=l+Math.imul($t,ne)|0,E=E+Math.imul($t,te)|0,m=m+Math.imul(Ft,ie)|0,l=l+Math.imul(Ft,oe)|0,l=l+Math.imul(Ct,ie)|0,E=E+Math.imul(Ct,oe)|0,m=m+Math.imul(Ut,se)|0,l=l+Math.imul(Ut,ae)|0,l=l+Math.imul(qt,se)|0,E=E+Math.imul(qt,ae)|0,m=m+Math.imul(xt,ce)|0,l=l+Math.imul(xt,D)|0,l=l+Math.imul(Rt,ce)|0,E=E+Math.imul(Rt,D)|0,m=m+Math.imul(Bt,nt)|0,l=l+Math.imul(Bt,dt)|0,l=l+Math.imul(_t,nt)|0,E=E+Math.imul(_t,dt)|0,m=m+Math.imul(ot,St)|0,l=l+Math.imul(ot,bt)|0,l=l+Math.imul(ft,St)|0,E=E+Math.imul(ft,bt)|0;var to=(A+m|0)+((l&8191)<<13)|0;A=(E+(l>>>13)|0)+(to>>>26)|0,to&=67108863,m=Math.imul(M,Kt),l=Math.imul(M,Jt),l=l+Math.imul(T,Kt)|0,E=Math.imul(T,Jt),m=m+Math.imul(a,Qt)|0,l=l+Math.imul(a,re)|0,l=l+Math.imul(g,Qt)|0,E=E+Math.imul(g,re)|0,m=m+Math.imul(Nt,ne)|0,l=l+Math.imul(Nt,te)|0,l=l+Math.imul(h,ne)|0,E=E+Math.imul(h,te)|0,m=m+Math.imul(Ot,ie)|0,l=l+Math.imul(Ot,oe)|0,l=l+Math.imul($t,ie)|0,E=E+Math.imul($t,oe)|0,m=m+Math.imul(Ft,se)|0,l=l+Math.imul(Ft,ae)|0,l=l+Math.imul(Ct,se)|0,E=E+Math.imul(Ct,ae)|0,m=m+Math.imul(Ut,ce)|0,l=l+Math.imul(Ut,D)|0,l=l+Math.imul(qt,ce)|0,E=E+Math.imul(qt,D)|0,m=m+Math.imul(xt,nt)|0,l=l+Math.imul(xt,dt)|0,l=l+Math.imul(Rt,nt)|0,E=E+Math.imul(Rt,dt)|0,m=m+Math.imul(Bt,St)|0,l=l+Math.imul(Bt,bt)|0,l=l+Math.imul(_t,St)|0,E=E+Math.imul(_t,bt)|0;var eo=(A+m|0)+((l&8191)<<13)|0;A=(E+(l>>>13)|0)+(eo>>>26)|0,eo&=67108863,m=Math.imul(M,Qt),l=Math.imul(M,re),l=l+Math.imul(T,Qt)|0,E=Math.imul(T,re),m=m+Math.imul(a,ne)|0,l=l+Math.imul(a,te)|0,l=l+Math.imul(g,ne)|0,E=E+Math.imul(g,te)|0,m=m+Math.imul(Nt,ie)|0,l=l+Math.imul(Nt,oe)|0,l=l+Math.imul(h,ie)|0,E=E+Math.imul(h,oe)|0,m=m+Math.imul(Ot,se)|0,l=l+Math.imul(Ot,ae)|0,l=l+Math.imul($t,se)|0,E=E+Math.imul($t,ae)|0,m=m+Math.imul(Ft,ce)|0,l=l+Math.imul(Ft,D)|0,l=l+Math.imul(Ct,ce)|0,E=E+Math.imul(Ct,D)|0,m=m+Math.imul(Ut,nt)|0,l=l+Math.imul(Ut,dt)|0,l=l+Math.imul(qt,nt)|0,E=E+Math.imul(qt,dt)|0,m=m+Math.imul(xt,St)|0,l=l+Math.imul(xt,bt)|0,l=l+Math.imul(Rt,St)|0,E=E+Math.imul(Rt,bt)|0;var ro=(A+m|0)+((l&8191)<<13)|0;A=(E+(l>>>13)|0)+(ro>>>26)|0,ro&=67108863,m=Math.imul(M,ne),l=Math.imul(M,te),l=l+Math.imul(T,ne)|0,E=Math.imul(T,te),m=m+Math.imul(a,ie)|0,l=l+Math.imul(a,oe)|0,l=l+Math.imul(g,ie)|0,E=E+Math.imul(g,oe)|0,m=m+Math.imul(Nt,se)|0,l=l+Math.imul(Nt,ae)|0,l=l+Math.imul(h,se)|0,E=E+Math.imul(h,ae)|0,m=m+Math.imul(Ot,ce)|0,l=l+Math.imul(Ot,D)|0,l=l+Math.imul($t,ce)|0,E=E+Math.imul($t,D)|0,m=m+Math.imul(Ft,nt)|0,l=l+Math.imul(Ft,dt)|0,l=l+Math.imul(Ct,nt)|0,E=E+Math.imul(Ct,dt)|0,m=m+Math.imul(Ut,St)|0,l=l+Math.imul(Ut,bt)|0,l=l+Math.imul(qt,St)|0,E=E+Math.imul(qt,bt)|0;var no=(A+m|0)+((l&8191)<<13)|0;A=(E+(l>>>13)|0)+(no>>>26)|0,no&=67108863,m=Math.imul(M,ie),l=Math.imul(M,oe),l=l+Math.imul(T,ie)|0,E=Math.imul(T,oe),m=m+Math.imul(a,se)|0,l=l+Math.imul(a,ae)|0,l=l+Math.imul(g,se)|0,E=E+Math.imul(g,ae)|0,m=m+Math.imul(Nt,ce)|0,l=l+Math.imul(Nt,D)|0,l=l+Math.imul(h,ce)|0,E=E+Math.imul(h,D)|0,m=m+Math.imul(Ot,nt)|0,l=l+Math.imul(Ot,dt)|0,l=l+Math.imul($t,nt)|0,E=E+Math.imul($t,dt)|0,m=m+Math.imul(Ft,St)|0,l=l+Math.imul(Ft,bt)|0,l=l+Math.imul(Ct,St)|0,E=E+Math.imul(Ct,bt)|0;var io=(A+m|0)+((l&8191)<<13)|0;A=(E+(l>>>13)|0)+(io>>>26)|0,io&=67108863,m=Math.imul(M,se),l=Math.imul(M,ae),l=l+Math.imul(T,se)|0,E=Math.imul(T,ae),m=m+Math.imul(a,ce)|0,l=l+Math.imul(a,D)|0,l=l+Math.imul(g,ce)|0,E=E+Math.imul(g,D)|0,m=m+Math.imul(Nt,nt)|0,l=l+Math.imul(Nt,dt)|0,l=l+Math.imul(h,nt)|0,E=E+Math.imul(h,dt)|0,m=m+Math.imul(Ot,St)|0,l=l+Math.imul(Ot,bt)|0,l=l+Math.imul($t,St)|0,E=E+Math.imul($t,bt)|0;var oo=(A+m|0)+((l&8191)<<13)|0;A=(E+(l>>>13)|0)+(oo>>>26)|0,oo&=67108863,m=Math.imul(M,ce),l=Math.imul(M,D),l=l+Math.imul(T,ce)|0,E=Math.imul(T,D),m=m+Math.imul(a,nt)|0,l=l+Math.imul(a,dt)|0,l=l+Math.imul(g,nt)|0,E=E+Math.imul(g,dt)|0,m=m+Math.imul(Nt,St)|0,l=l+Math.imul(Nt,bt)|0,l=l+Math.imul(h,St)|0,E=E+Math.imul(h,bt)|0;var so=(A+m|0)+((l&8191)<<13)|0;A=(E+(l>>>13)|0)+(so>>>26)|0,so&=67108863,m=Math.imul(M,nt),l=Math.imul(M,dt),l=l+Math.imul(T,nt)|0,E=Math.imul(T,dt),m=m+Math.imul(a,St)|0,l=l+Math.imul(a,bt)|0,l=l+Math.imul(g,St)|0,E=E+Math.imul(g,bt)|0;var ao=(A+m|0)+((l&8191)<<13)|0;A=(E+(l>>>13)|0)+(ao>>>26)|0,ao&=67108863,m=Math.imul(M,St),l=Math.imul(M,bt),l=l+Math.imul(T,St)|0,E=Math.imul(T,bt);var co=(A+m|0)+((l&8191)<<13)|0;return A=(E+(l>>>13)|0)+(co>>>26)|0,co&=67108863,x[0]=ee,x[1]=ze,x[2]=Ie,x[3]=ke,x[4]=Je,x[5]=Or,x[6]=Tn,x[7]=yr,x[8]=Ji,x[9]=Qi,x[10]=to,x[11]=eo,x[12]=ro,x[13]=no,x[14]=io,x[15]=oo,x[16]=so,x[17]=ao,x[18]=co,A!==0&&(x[19]=A,y.length++),y};Math.imul||(F=P);function L(I,f,d){d.negative=f.negative^I.negative,d.length=I.length+f.length;for(var y=0,w=0,v=0;v<d.length-1;v++){var x=w;w=0;for(var A=y&67108863,m=Math.min(v,f.length-1),l=Math.max(0,v-I.length+1);l<=m;l++){var E=v-l,H=I.words[E]|0,K=f.words[l]|0,G=H*K,lt=G&67108863;x=x+(G/67108864|0)|0,lt=lt+A|0,A=lt&67108863,x=x+(lt>>>26)|0,w+=x>>>26,x&=67108863}d.words[v]=A,y=x,x=w}return y!==0?d.words[v]=y:d.length--,d._strip()}function z(I,f,d){return L(I,f,d)}i.prototype.mulTo=function(f,d){var y,w=this.length+f.length;return this.length===10&&f.length===10?y=F(this,f,d):w<63?y=P(this,f,d):w<1024?y=L(this,f,d):y=z(this,f,d),y},i.prototype.mul=function(f){var d=new i(null);return d.words=new Array(this.length+f.length),this.mulTo(f,d)},i.prototype.mulf=function(f){var d=new i(null);return d.words=new Array(this.length+f.length),z(this,f,d)},i.prototype.imul=function(f){return this.clone().mulTo(f,this)},i.prototype.imuln=function(f){var d=f<0;d&&(f=-f),n(typeof f=="number"),n(f<67108864);for(var y=0,w=0;w<this.length;w++){var v=(this.words[w]|0)*f,x=(v&67108863)+(y&67108863);y>>=26,y+=v/67108864|0,y+=x>>>26,this.words[w]=x&67108863}return y!==0&&(this.words[w]=y,this.length++),d?this.ineg():this},i.prototype.muln=function(f){return this.clone().imuln(f)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(f){var d=R(f);if(d.length===0)return new i(1);for(var y=this,w=0;w<d.length&&d[w]===0;w++,y=y.sqr());if(++w<d.length)for(var v=y.sqr();w<d.length;w++,v=v.sqr())d[w]!==0&&(y=y.mul(v));return y},i.prototype.iushln=function(f){n(typeof f=="number"&&f>=0);var d=f%26,y=(f-d)/26,w=67108863>>>26-d<<26-d,v;if(d!==0){var x=0;for(v=0;v<this.length;v++){var A=this.words[v]&w,m=(this.words[v]|0)-A<<d;this.words[v]=m|x,x=A>>>26-d}x&&(this.words[v]=x,this.length++)}if(y!==0){for(v=this.length-1;v>=0;v--)this.words[v+y]=this.words[v];for(v=0;v<y;v++)this.words[v]=0;this.length+=y}return this._strip()},i.prototype.ishln=function(f){return n(this.negative===0),this.iushln(f)},i.prototype.iushrn=function(f,d,y){n(typeof f=="number"&&f>=0);var w;d?w=(d-d%26)/26:w=0;var v=f%26,x=Math.min((f-v)/26,this.length),A=67108863^67108863>>>v<<v,m=y;if(w-=x,w=Math.max(0,w),m){for(var l=0;l<x;l++)m.words[l]=this.words[l];m.length=x}if(x!==0)if(this.length>x)for(this.length-=x,l=0;l<this.length;l++)this.words[l]=this.words[l+x];else this.words[0]=0,this.length=1;var E=0;for(l=this.length-1;l>=0&&(E!==0||l>=w);l--){var H=this.words[l]|0;this.words[l]=E<<26-v|H>>>v,E=H&A}return m&&E!==0&&(m.words[m.length++]=E),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(f,d,y){return n(this.negative===0),this.iushrn(f,d,y)},i.prototype.shln=function(f){return this.clone().ishln(f)},i.prototype.ushln=function(f){return this.clone().iushln(f)},i.prototype.shrn=function(f){return this.clone().ishrn(f)},i.prototype.ushrn=function(f){return this.clone().iushrn(f)},i.prototype.testn=function(f){n(typeof f=="number"&&f>=0);var d=f%26,y=(f-d)/26,w=1<<d;if(this.length<=y)return!1;var v=this.words[y];return!!(v&w)},i.prototype.imaskn=function(f){n(typeof f=="number"&&f>=0);var d=f%26,y=(f-d)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=y)return this;if(d!==0&&y++,this.length=Math.min(y,this.length),d!==0){var w=67108863^67108863>>>d<<d;this.words[this.length-1]&=w}return this._strip()},i.prototype.maskn=function(f){return this.clone().imaskn(f)},i.prototype.iaddn=function(f){return n(typeof f=="number"),n(f<67108864),f<0?this.isubn(-f):this.negative!==0?this.length===1&&(this.words[0]|0)<=f?(this.words[0]=f-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(f),this.negative=1,this):this._iaddn(f)},i.prototype._iaddn=function(f){this.words[0]+=f;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},i.prototype.isubn=function(f){if(n(typeof f=="number"),n(f<67108864),f<0)return this.iaddn(-f);if(this.negative!==0)return this.negative=0,this.iaddn(f),this.negative=1,this;if(this.words[0]-=f,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this._strip()},i.prototype.addn=function(f){return this.clone().iaddn(f)},i.prototype.subn=function(f){return this.clone().isubn(f)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(f,d,y){var w=f.length+y,v;this._expand(w);var x,A=0;for(v=0;v<f.length;v++){x=(this.words[v+y]|0)+A;var m=(f.words[v]|0)*d;x-=m&67108863,A=(x>>26)-(m/67108864|0),this.words[v+y]=x&67108863}for(;v<this.length-y;v++)x=(this.words[v+y]|0)+A,A=x>>26,this.words[v+y]=x&67108863;if(A===0)return this._strip();for(n(A===-1),A=0,v=0;v<this.length;v++)x=-(this.words[v]|0)+A,A=x>>26,this.words[v]=x&67108863;return this.negative=1,this._strip()},i.prototype._wordDiv=function(f,d){var y=this.length-f.length,w=this.clone(),v=f,x=v.words[v.length-1]|0,A=this._countBits(x);y=26-A,y!==0&&(v=v.ushln(y),w.iushln(y),x=v.words[v.length-1]|0);var m=w.length-v.length,l;if(d!=="mod"){l=new i(null),l.length=m+1,l.words=new Array(l.length);for(var E=0;E<l.length;E++)l.words[E]=0}var H=w.clone()._ishlnsubmul(v,1,m);H.negative===0&&(w=H,l&&(l.words[m]=1));for(var K=m-1;K>=0;K--){var G=(w.words[v.length+K]|0)*67108864+(w.words[v.length+K-1]|0);for(G=Math.min(G/x|0,67108863),w._ishlnsubmul(v,G,K);w.negative!==0;)G--,w.negative=0,w._ishlnsubmul(v,1,K),w.isZero()||(w.negative^=1);l&&(l.words[K]=G)}return l&&l._strip(),w._strip(),d!=="div"&&y!==0&&w.iushrn(y),{div:l||null,mod:w}},i.prototype.divmod=function(f,d,y){if(n(!f.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var w,v,x;return this.negative!==0&&f.negative===0?(x=this.neg().divmod(f,d),d!=="mod"&&(w=x.div.neg()),d!=="div"&&(v=x.mod.neg(),y&&v.negative!==0&&v.iadd(f)),{div:w,mod:v}):this.negative===0&&f.negative!==0?(x=this.divmod(f.neg(),d),d!=="mod"&&(w=x.div.neg()),{div:w,mod:x.mod}):this.negative&f.negative?(x=this.neg().divmod(f.neg(),d),d!=="div"&&(v=x.mod.neg(),y&&v.negative!==0&&v.isub(f)),{div:x.div,mod:v}):f.length>this.length||this.cmp(f)<0?{div:new i(0),mod:this}:f.length===1?d==="div"?{div:this.divn(f.words[0]),mod:null}:d==="mod"?{div:null,mod:new i(this.modrn(f.words[0]))}:{div:this.divn(f.words[0]),mod:new i(this.modrn(f.words[0]))}:this._wordDiv(f,d)},i.prototype.div=function(f){return this.divmod(f,"div",!1).div},i.prototype.mod=function(f){return this.divmod(f,"mod",!1).mod},i.prototype.umod=function(f){return this.divmod(f,"mod",!0).mod},i.prototype.divRound=function(f){var d=this.divmod(f);if(d.mod.isZero())return d.div;var y=d.div.negative!==0?d.mod.isub(f):d.mod,w=f.ushrn(1),v=f.andln(1),x=y.cmp(w);return x<0||v===1&&x===0?d.div:d.div.negative!==0?d.div.isubn(1):d.div.iaddn(1)},i.prototype.modrn=function(f){var d=f<0;d&&(f=-f),n(f<=67108863);for(var y=(1<<26)%f,w=0,v=this.length-1;v>=0;v--)w=(y*w+(this.words[v]|0))%f;return d?-w:w},i.prototype.modn=function(f){return this.modrn(f)},i.prototype.idivn=function(f){var d=f<0;d&&(f=-f),n(f<=67108863);for(var y=0,w=this.length-1;w>=0;w--){var v=(this.words[w]|0)+y*67108864;this.words[w]=v/f|0,y=v%f}return this._strip(),d?this.ineg():this},i.prototype.divn=function(f){return this.clone().idivn(f)},i.prototype.egcd=function(f){n(f.negative===0),n(!f.isZero());var d=this,y=f.clone();d.negative!==0?d=d.umod(f):d=d.clone();for(var w=new i(1),v=new i(0),x=new i(0),A=new i(1),m=0;d.isEven()&&y.isEven();)d.iushrn(1),y.iushrn(1),++m;for(var l=y.clone(),E=d.clone();!d.isZero();){for(var H=0,K=1;!(d.words[0]&K)&&H<26;++H,K<<=1);if(H>0)for(d.iushrn(H);H-- >0;)(w.isOdd()||v.isOdd())&&(w.iadd(l),v.isub(E)),w.iushrn(1),v.iushrn(1);for(var G=0,lt=1;!(y.words[0]&lt)&&G<26;++G,lt<<=1);if(G>0)for(y.iushrn(G);G-- >0;)(x.isOdd()||A.isOdd())&&(x.iadd(l),A.isub(E)),x.iushrn(1),A.iushrn(1);d.cmp(y)>=0?(d.isub(y),w.isub(x),v.isub(A)):(y.isub(d),x.isub(w),A.isub(v))}return{a:x,b:A,gcd:y.iushln(m)}},i.prototype._invmp=function(f){n(f.negative===0),n(!f.isZero());var d=this,y=f.clone();d.negative!==0?d=d.umod(f):d=d.clone();for(var w=new i(1),v=new i(0),x=y.clone();d.cmpn(1)>0&&y.cmpn(1)>0;){for(var A=0,m=1;!(d.words[0]&m)&&A<26;++A,m<<=1);if(A>0)for(d.iushrn(A);A-- >0;)w.isOdd()&&w.iadd(x),w.iushrn(1);for(var l=0,E=1;!(y.words[0]&E)&&l<26;++l,E<<=1);if(l>0)for(y.iushrn(l);l-- >0;)v.isOdd()&&v.iadd(x),v.iushrn(1);d.cmp(y)>=0?(d.isub(y),w.isub(v)):(y.isub(d),v.isub(w))}var H;return d.cmpn(1)===0?H=w:H=v,H.cmpn(0)<0&&H.iadd(f),H},i.prototype.gcd=function(f){if(this.isZero())return f.abs();if(f.isZero())return this.abs();var d=this.clone(),y=f.clone();d.negative=0,y.negative=0;for(var w=0;d.isEven()&&y.isEven();w++)d.iushrn(1),y.iushrn(1);do{for(;d.isEven();)d.iushrn(1);for(;y.isEven();)y.iushrn(1);var v=d.cmp(y);if(v<0){var x=d;d=y,y=x}else if(v===0||y.cmpn(1)===0)break;d.isub(y)}while(!0);return y.iushln(w)},i.prototype.invm=function(f){return this.egcd(f).a.umod(f)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(f){return this.words[0]&f},i.prototype.bincn=function(f){n(typeof f=="number");var d=f%26,y=(f-d)/26,w=1<<d;if(this.length<=y)return this._expand(y+1),this.words[y]|=w,this;for(var v=w,x=y;v!==0&&x<this.length;x++){var A=this.words[x]|0;A+=v,v=A>>>26,A&=67108863,this.words[x]=A}return v!==0&&(this.words[x]=v,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(f){var d=f<0;if(this.negative!==0&&!d)return-1;if(this.negative===0&&d)return 1;this._strip();var y;if(this.length>1)y=1;else{d&&(f=-f),n(f<=67108863,"Number is too big");var w=this.words[0]|0;y=w===f?0:w<f?-1:1}return this.negative!==0?-y|0:y},i.prototype.cmp=function(f){if(this.negative!==0&&f.negative===0)return-1;if(this.negative===0&&f.negative!==0)return 1;var d=this.ucmp(f);return this.negative!==0?-d|0:d},i.prototype.ucmp=function(f){if(this.length>f.length)return 1;if(this.length<f.length)return-1;for(var d=0,y=this.length-1;y>=0;y--){var w=this.words[y]|0,v=f.words[y]|0;if(w!==v){w<v?d=-1:w>v&&(d=1);break}}return d},i.prototype.gtn=function(f){return this.cmpn(f)===1},i.prototype.gt=function(f){return this.cmp(f)===1},i.prototype.gten=function(f){return this.cmpn(f)>=0},i.prototype.gte=function(f){return this.cmp(f)>=0},i.prototype.ltn=function(f){return this.cmpn(f)===-1},i.prototype.lt=function(f){return this.cmp(f)===-1},i.prototype.lten=function(f){return this.cmpn(f)<=0},i.prototype.lte=function(f){return this.cmp(f)<=0},i.prototype.eqn=function(f){return this.cmpn(f)===0},i.prototype.eq=function(f){return this.cmp(f)===0},i.red=function(f){return new Q(f)},i.prototype.toRed=function(f){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),f.convertTo(this)._forceRed(f)},i.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(f){return this.red=f,this},i.prototype.forceRed=function(f){return n(!this.red,"Already a number in reduction context"),this._forceRed(f)},i.prototype.redAdd=function(f){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,f)},i.prototype.redIAdd=function(f){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,f)},i.prototype.redSub=function(f){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,f)},i.prototype.redISub=function(f){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,f)},i.prototype.redShl=function(f){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,f)},i.prototype.redMul=function(f){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.mul(this,f)},i.prototype.redIMul=function(f){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.imul(this,f)},i.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(f){return n(this.red&&!f.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,f)};var $={k256:null,p224:null,p192:null,p25519:null};function N(I,f){this.name=I,this.p=new i(f,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}N.prototype._tmp=function(){var f=new i(null);return f.words=new Array(Math.ceil(this.n/13)),f},N.prototype.ireduce=function(f){var d=f,y;do this.split(d,this.tmp),d=this.imulK(d),d=d.iadd(this.tmp),y=d.bitLength();while(y>this.n);var w=y<this.n?-1:d.ucmp(this.p);return w===0?(d.words[0]=0,d.length=1):w>0?d.isub(this.p):d.strip!==void 0?d.strip():d._strip(),d},N.prototype.split=function(f,d){f.iushrn(this.n,0,d)},N.prototype.imulK=function(f){return f.imul(this.k)};function q(){N.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}o(q,N),q.prototype.split=function(f,d){for(var y=4194303,w=Math.min(f.length,9),v=0;v<w;v++)d.words[v]=f.words[v];if(d.length=w,f.length<=9){f.words[0]=0,f.length=1;return}var x=f.words[9];for(d.words[d.length++]=x&y,v=10;v<f.length;v++){var A=f.words[v]|0;f.words[v-10]=(A&y)<<4|x>>>22,x=A}x>>>=22,f.words[v-10]=x,x===0&&f.length>10?f.length-=10:f.length-=9},q.prototype.imulK=function(f){f.words[f.length]=0,f.words[f.length+1]=0,f.length+=2;for(var d=0,y=0;y<f.length;y++){var w=f.words[y]|0;d+=w*977,f.words[y]=d&67108863,d=w*64+(d/67108864|0)}return f.words[f.length-1]===0&&(f.length--,f.words[f.length-1]===0&&f.length--),f};function W(){N.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}o(W,N);function et(){N.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}o(et,N);function ht(){N.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}o(ht,N),ht.prototype.imulK=function(f){for(var d=0,y=0;y<f.length;y++){var w=(f.words[y]|0)*19+d,v=w&67108863;w>>>=26,f.words[y]=v,d=w}return d!==0&&(f.words[f.length++]=d),f},i._prime=function(f){if($[f])return $[f];var d;if(f==="k256")d=new q;else if(f==="p224")d=new W;else if(f==="p192")d=new et;else if(f==="p25519")d=new ht;else throw new Error("Unknown prime "+f);return $[f]=d,d};function Q(I){if(typeof I=="string"){var f=i._prime(I);this.m=f.p,this.prime=f}else n(I.gtn(1),"modulus must be greater than 1"),this.m=I,this.prime=null}Q.prototype._verify1=function(f){n(f.negative===0,"red works only with positives"),n(f.red,"red works only with red numbers")},Q.prototype._verify2=function(f,d){n((f.negative|d.negative)===0,"red works only with positives"),n(f.red&&f.red===d.red,"red works only with red numbers")},Q.prototype.imod=function(f){return this.prime?this.prime.ireduce(f)._forceRed(this):(_(f,f.umod(this.m)._forceRed(this)),f)},Q.prototype.neg=function(f){return f.isZero()?f.clone():this.m.sub(f)._forceRed(this)},Q.prototype.add=function(f,d){this._verify2(f,d);var y=f.add(d);return y.cmp(this.m)>=0&&y.isub(this.m),y._forceRed(this)},Q.prototype.iadd=function(f,d){this._verify2(f,d);var y=f.iadd(d);return y.cmp(this.m)>=0&&y.isub(this.m),y},Q.prototype.sub=function(f,d){this._verify2(f,d);var y=f.sub(d);return y.cmpn(0)<0&&y.iadd(this.m),y._forceRed(this)},Q.prototype.isub=function(f,d){this._verify2(f,d);var y=f.isub(d);return y.cmpn(0)<0&&y.iadd(this.m),y},Q.prototype.shl=function(f,d){return this._verify1(f),this.imod(f.ushln(d))},Q.prototype.imul=function(f,d){return this._verify2(f,d),this.imod(f.imul(d))},Q.prototype.mul=function(f,d){return this._verify2(f,d),this.imod(f.mul(d))},Q.prototype.isqr=function(f){return this.imul(f,f.clone())},Q.prototype.sqr=function(f){return this.mul(f,f)},Q.prototype.sqrt=function(f){if(f.isZero())return f.clone();var d=this.m.andln(3);if(n(d%2===1),d===3){var y=this.m.add(new i(1)).iushrn(2);return this.pow(f,y)}for(var w=this.m.subn(1),v=0;!w.isZero()&&w.andln(1)===0;)v++,w.iushrn(1);n(!w.isZero());var x=new i(1).toRed(this),A=x.redNeg(),m=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new i(2*l*l).toRed(this);this.pow(l,m).cmp(A)!==0;)l.redIAdd(A);for(var E=this.pow(l,w),H=this.pow(f,w.addn(1).iushrn(1)),K=this.pow(f,w),G=v;K.cmp(x)!==0;){for(var lt=K,ot=0;lt.cmp(x)!==0;ot++)lt=lt.redSqr();n(ot<G);var ft=this.pow(E,new i(1).iushln(G-ot-1));H=H.redMul(ft),E=ft.redSqr(),K=K.redMul(E),G=ot}return H},Q.prototype.invm=function(f){var d=f._invmp(this.m);return d.negative!==0?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},Q.prototype.pow=function(f,d){if(d.isZero())return new i(1).toRed(this);if(d.cmpn(1)===0)return f.clone();var y=4,w=new Array(1<<y);w[0]=new i(1).toRed(this),w[1]=f;for(var v=2;v<w.length;v++)w[v]=this.mul(w[v-1],f);var x=w[0],A=0,m=0,l=d.bitLength()%26;for(l===0&&(l=26),v=d.length-1;v>=0;v--){for(var E=d.words[v],H=l-1;H>=0;H--){var K=E>>H&1;if(x!==w[0]&&(x=this.sqr(x)),K===0&&A===0){m=0;continue}A<<=1,A|=K,m++,!(m!==y&&(v!==0||H!==0))&&(x=this.mul(x,w[A]),m=0,A=0)}l=26}return x},Q.prototype.convertTo=function(f){var d=f.umod(this.m);return d===f?d.clone():d},Q.prototype.convertFrom=function(f){var d=f.clone();return d.red=null,d},i.mont=function(f){return new mt(f)};function mt(I){Q.call(this,I),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}o(mt,Q),mt.prototype.convertTo=function(f){return this.imod(f.ushln(this.shift))},mt.prototype.convertFrom=function(f){var d=this.imod(f.mul(this.rinv));return d.red=null,d},mt.prototype.imul=function(f,d){if(f.isZero()||d.isZero())return f.words[0]=0,f.length=1,f;var y=f.imul(d),w=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=y.isub(w).iushrn(this.shift),x=v;return v.cmp(this.m)>=0?x=v.isub(this.m):v.cmpn(0)<0&&(x=v.iadd(this.m)),x._forceRed(this)},mt.prototype.mul=function(f,d){if(f.isZero()||d.isZero())return new i(0)._forceRed(this);var y=f.mul(d),w=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=y.isub(w).iushrn(this.shift),x=v;return v.cmp(this.m)>=0?x=v.isub(this.m):v.cmpn(0)<0&&(x=v.iadd(this.m)),x._forceRed(this)},mt.prototype.invm=function(f){var d=this.imod(f._invmp(this.m).mul(this.r2));return d._forceRed(this)}})(r,qe)}(vc);var Ul=vc.exports;const Ol=on(Ul);var Ec={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(r,t){var e=ue,n=e.Buffer;function o(c,u){for(var p in c)u[p]=c[p]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?r.exports=e:(o(e,t),t.Buffer=i);function i(c,u,p){return n(c,u,p)}i.prototype=Object.create(n.prototype),o(n,i),i.from=function(c,u,p){if(typeof c=="number")throw new TypeError("Argument must not be a number");return n(c,u,p)},i.alloc=function(c,u,p){if(typeof c!="number")throw new TypeError("Argument must be a number");var b=n(c);return u!==void 0?typeof p=="string"?b.fill(u,p):b.fill(u):b.fill(0),b},i.allocUnsafe=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return n(c)},i.allocUnsafeSlow=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return e.SlowBuffer(c)}})(Ec,Ec.exports);var Ag=Ec.exports,zs=Ag.Buffer;function Ig(r){if(r.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),e=0;e<t.length;e++)t[e]=255;for(var n=0;n<r.length;n++){var o=r.charAt(n),i=o.charCodeAt(0);if(t[i]!==255)throw new TypeError(o+" is ambiguous");t[i]=n}var c=r.length,u=r.charAt(0),p=Math.log(c)/Math.log(256),b=Math.log(256)/Math.log(c);function _(k){if((Array.isArray(k)||k instanceof Uint8Array)&&(k=zs.from(k)),!zs.isBuffer(k))throw new TypeError("Expected Buffer");if(k.length===0)return"";for(var O=0,U=0,R=0,P=k.length;R!==P&&k[R]===0;)R++,O++;for(var F=(P-R)*b+1>>>0,L=new Uint8Array(F);R!==P;){for(var z=k[R],$=0,N=F-1;(z!==0||$<U)&&N!==-1;N--,$++)z+=256*L[N]>>>0,L[N]=z%c>>>0,z=z/c>>>0;if(z!==0)throw new Error("Non-zero carry");U=$,R++}for(var q=F-U;q!==F&&L[q]===0;)q++;for(var W=u.repeat(O);q<F;++q)W+=r.charAt(L[q]);return W}function B(k){if(typeof k!="string")throw new TypeError("Expected String");if(k.length===0)return zs.alloc(0);for(var O=0,U=0,R=0;k[O]===u;)U++,O++;for(var P=(k.length-O)*p+1>>>0,F=new Uint8Array(P);k[O];){var L=t[k.charCodeAt(O)];if(L===255)return;for(var z=0,$=P-1;(L!==0||z<R)&&$!==-1;$--,z++)L+=c*F[$]>>>0,F[$]=L%256>>>0,L=L/256>>>0;if(L!==0)throw new Error("Non-zero carry");R=z,O++}for(var N=P-R;N!==P&&F[N]===0;)N++;var q=zs.allocUnsafe(U+(P-N));q.fill(0,0,U);for(var W=U;N!==P;)q[W++]=F[N++];return q}function C(k){var O=B(k);if(O)return O;throw new Error("Non-base"+c+" character")}return{encode:_,decodeUnsafe:B,decode:C}}var Mg=Ig,kg=Mg,Tg="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",Fl=kg(Tg);const or=on(Fl),Rg=(r,t,e)=>r&t^~r&e,Cg=(r,t,e)=>r&t^r&e^t&e,Lg=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),jn=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Kn=new Uint32Array(64);let Ug=class extends yl{constructor(){super(64,32,8,!1),this.A=jn[0]|0,this.B=jn[1]|0,this.C=jn[2]|0,this.D=jn[3]|0,this.E=jn[4]|0,this.F=jn[5]|0,this.G=jn[6]|0,this.H=jn[7]|0}get(){const{A:t,B:e,C:n,D:o,E:i,F:c,G:u,H:p}=this;return[t,e,n,o,i,c,u,p]}set(t,e,n,o,i,c,u,p){this.A=t|0,this.B=e|0,this.C=n|0,this.D=o|0,this.E=i|0,this.F=c|0,this.G=u|0,this.H=p|0}process(t,e){for(let B=0;B<16;B++,e+=4)Kn[B]=t.getUint32(e,!1);for(let B=16;B<64;B++){const C=Kn[B-15],k=Kn[B-2],O=gn(C,7)^gn(C,18)^C>>>3,U=gn(k,17)^gn(k,19)^k>>>10;Kn[B]=U+Kn[B-7]+O+Kn[B-16]|0}let{A:n,B:o,C:i,D:c,E:u,F:p,G:b,H:_}=this;for(let B=0;B<64;B++){const C=gn(u,6)^gn(u,11)^gn(u,25),k=_+C+Rg(u,p,b)+Lg[B]+Kn[B]|0,U=(gn(n,2)^gn(n,13)^gn(n,22))+Cg(n,o,i)|0;_=b,b=p,p=u,u=c+k|0,c=i,i=o,o=n,n=k+U|0}n=n+this.A|0,o=o+this.B|0,i=i+this.C|0,c=c+this.D|0,u=u+this.E|0,p=p+this.F|0,b=b+this.G|0,_=_+this.H|0,this.set(n,o,i,c,u,p,b,_)}roundClean(){Kn.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const _c=pl(()=>new Ug);var ar={};function Ln(r,t,e){return t<=r&&r<=e}function qs(r){if(r===void 0)return{};if(r===Object(r))return r;throw TypeError("Could not convert argument to dictionary")}function Og(r){for(var t=String(r),e=t.length,n=0,o=[];n<e;){var i=t.charCodeAt(n);if(i<55296||i>57343)o.push(i);else if(56320<=i&&i<=57343)o.push(65533);else if(55296<=i&&i<=56319)if(n===e-1)o.push(65533);else{var c=r.charCodeAt(n+1);if(56320<=c&&c<=57343){var u=i&1023,p=c&1023;o.push(65536+(u<<10)+p),n+=1}else o.push(65533)}n+=1}return o}function Fg(r){for(var t="",e=0;e<r.length;++e){var n=r[e];n<=65535?t+=String.fromCharCode(n):(n-=65536,t+=String.fromCharCode((n>>10)+55296,(n&1023)+56320))}return t}var Ws=-1;function Sc(r){this.tokens=[].slice.call(r)}Sc.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():Ws},prepend:function(r){if(Array.isArray(r))for(var t=r;t.length;)this.tokens.unshift(t.pop());else this.tokens.unshift(r)},push:function(r){if(Array.isArray(r))for(var t=r;t.length;)this.tokens.push(t.shift());else this.tokens.push(r)}};var go=-1;function Bc(r,t){if(r)throw TypeError("Decoder error");return t||65533}var Hs="utf-8";function js(r,t){if(!(this instanceof js))return new js(r,t);if(r=r!==void 0?String(r).toLowerCase():Hs,r!==Hs)throw new Error("Encoding not supported. Only utf-8 is supported");t=qs(t),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!t.fatal,this._ignoreBOM=!!t.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}js.prototype={decode:function(t,e){var n;typeof t=="object"&&t instanceof ArrayBuffer?n=new Uint8Array(t):typeof t=="object"&&"buffer"in t&&t.buffer instanceof ArrayBuffer?n=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):n=new Uint8Array(0),e=qs(e),this._streaming||(this._decoder=new $g({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!e.stream;for(var o=new Sc(n),i=[],c;!o.endOfStream()&&(c=this._decoder.handler(o,o.read()),c!==go);)c!==null&&(Array.isArray(c)?i.push.apply(i,c):i.push(c));if(!this._streaming){do{if(c=this._decoder.handler(o,o.read()),c===go)break;c!==null&&(Array.isArray(c)?i.push.apply(i,c):i.push(c))}while(!o.endOfStream());this._decoder=null}return i.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(i[0]===65279?(this._BOMseen=!0,i.shift()):this._BOMseen=!0),Fg(i)}};function Ks(r,t){if(!(this instanceof Ks))return new Ks(r,t);if(r=r!==void 0?String(r).toLowerCase():Hs,r!==Hs)throw new Error("Encoding not supported. Only utf-8 is supported");t=qs(t),this._streaming=!1,this._encoder=null,this._options={fatal:!!t.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}Ks.prototype={encode:function(t,e){t=t?String(t):"",e=qs(e),this._streaming||(this._encoder=new Ng(this._options)),this._streaming=!!e.stream;for(var n=[],o=new Sc(Og(t)),i;!o.endOfStream()&&(i=this._encoder.handler(o,o.read()),i!==go);)Array.isArray(i)?n.push.apply(n,i):n.push(i);if(!this._streaming){for(;i=this._encoder.handler(o,o.read()),i!==go;)Array.isArray(i)?n.push.apply(n,i):n.push(i);this._encoder=null}return new Uint8Array(n)}};function $g(r){var t=r.fatal,e=0,n=0,o=0,i=128,c=191;this.handler=function(u,p){if(p===Ws&&o!==0)return o=0,Bc(t);if(p===Ws)return go;if(o===0){if(Ln(p,0,127))return p;if(Ln(p,194,223))o=1,e=p-192;else if(Ln(p,224,239))p===224&&(i=160),p===237&&(c=159),o=2,e=p-224;else if(Ln(p,240,244))p===240&&(i=144),p===244&&(c=143),o=3,e=p-240;else return Bc(t);return e=e<<6*o,null}if(!Ln(p,i,c))return e=o=n=0,i=128,c=191,u.prepend(p),Bc(t);if(i=128,c=191,n+=1,e+=p-128<<6*(o-n),n!==o)return null;var b=e;return e=o=n=0,b}}function Ng(r){r.fatal,this.handler=function(t,e){if(e===Ws)return go;if(Ln(e,0,127))return e;var n,o;Ln(e,128,2047)?(n=1,o=192):Ln(e,2048,65535)?(n=2,o=224):Ln(e,65536,1114111)&&(n=3,o=240);for(var i=[(e>>6*n)+o];n>0;){var c=e>>6*(n-1);i.push(128|c&63),n-=1}return i}}const Pg=yi(Object.freeze(Object.defineProperty({__proto__:null,TextDecoder:js,TextEncoder:Ks},Symbol.toStringTag,{value:"Module"})));var Dg=qe&&qe.__createBinding||(Object.create?function(r,t,e,n){n===void 0&&(n=e),Object.defineProperty(r,n,{enumerable:!0,get:function(){return t[e]}})}:function(r,t,e,n){n===void 0&&(n=e),r[n]=t[e]}),zg=qe&&qe.__setModuleDefault||(Object.create?function(r,t){Object.defineProperty(r,"default",{enumerable:!0,value:t})}:function(r,t){r.default=t}),mn=qe&&qe.__decorate||function(r,t,e,n){var o=arguments.length,i=o<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,t,e,n);else for(var u=r.length-1;u>=0;u--)(c=r[u])&&(i=(o<3?c(i):o>3?c(t,e,i):c(t,e))||i);return o>3&&i&&Object.defineProperty(t,e,i),i},qg=qe&&qe.__importStar||function(r){if(r&&r.__esModule)return r;var t={};if(r!=null)for(var e in r)e!=="default"&&Object.hasOwnProperty.call(r,e)&&Dg(t,r,e);return zg(t,r),t},$l=qe&&qe.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ar,"__esModule",{value:!0});var Nl=ar.deserializeUnchecked=Hl=ar.deserialize=Wl=ar.serialize=ar.BinaryReader=ar.BinaryWriter=ar.BorshError=ar.baseDecode=ar.baseEncode=void 0;const Gn=$l(Ul),Pl=$l(Fl),Wg=qg(Pg),Hg=typeof TextDecoder!="function"?Wg.TextDecoder:TextDecoder,jg=new Hg("utf-8",{fatal:!0});function Kg(r){return typeof r=="string"&&(r=Buffer.from(r,"utf8")),Pl.default.encode(Buffer.from(r))}ar.baseEncode=Kg;function Gg(r){return Buffer.from(Pl.default.decode(r))}ar.baseDecode=Gg;const Ac=1024;let Ar=class extends Error{constructor(t){super(t),this.fieldPath=[],this.originalMessage=t}addToFieldPath(t){this.fieldPath.splice(0,0,t),this.message=this.originalMessage+": "+this.fieldPath.join(".")}};ar.BorshError=Ar;let Dl=class{constructor(){this.buf=Buffer.alloc(Ac),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(Ac)]))}writeU8(t){this.maybeResize(),this.buf.writeUInt8(t,this.length),this.length+=1}writeU16(t){this.maybeResize(),this.buf.writeUInt16LE(t,this.length),this.length+=2}writeU32(t){this.maybeResize(),this.buf.writeUInt32LE(t,this.length),this.length+=4}writeU64(t){this.maybeResize(),this.writeBuffer(Buffer.from(new Gn.default(t).toArray("le",8)))}writeU128(t){this.maybeResize(),this.writeBuffer(Buffer.from(new Gn.default(t).toArray("le",16)))}writeU256(t){this.maybeResize(),this.writeBuffer(Buffer.from(new Gn.default(t).toArray("le",32)))}writeU512(t){this.maybeResize(),this.writeBuffer(Buffer.from(new Gn.default(t).toArray("le",64)))}writeBuffer(t){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),t,Buffer.alloc(Ac)]),this.length+=t.length}writeString(t){this.maybeResize();const e=Buffer.from(t,"utf8");this.writeU32(e.length),this.writeBuffer(e)}writeFixedArray(t){this.writeBuffer(Buffer.from(t))}writeArray(t,e){this.maybeResize(),this.writeU32(t.length);for(const n of t)this.maybeResize(),e(n)}toArray(){return this.buf.subarray(0,this.length)}};ar.BinaryWriter=Dl;function wn(r,t,e){const n=e.value;e.value=function(...o){try{return n.apply(this,o)}catch(i){if(i instanceof RangeError){const c=i.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(c)>=0)throw new Ar("Reached the end of buffer when deserializing")}throw i}}}let $r=class{constructor(t){this.buf=t,this.offset=0}readU8(){const t=this.buf.readUInt8(this.offset);return this.offset+=1,t}readU16(){const t=this.buf.readUInt16LE(this.offset);return this.offset+=2,t}readU32(){const t=this.buf.readUInt32LE(this.offset);return this.offset+=4,t}readU64(){const t=this.readBuffer(8);return new Gn.default(t,"le")}readU128(){const t=this.readBuffer(16);return new Gn.default(t,"le")}readU256(){const t=this.readBuffer(32);return new Gn.default(t,"le")}readU512(){const t=this.readBuffer(64);return new Gn.default(t,"le")}readBuffer(t){if(this.offset+t>this.buf.length)throw new Ar(`Expected buffer length ${t} isn't within bounds`);const e=this.buf.slice(this.offset,this.offset+t);return this.offset+=t,e}readString(){const t=this.readU32(),e=this.readBuffer(t);try{return jg.decode(e)}catch(n){throw new Ar(`Error decoding UTF-8 string: ${n}`)}}readFixedArray(t){return new Uint8Array(this.readBuffer(t))}readArray(t){const e=this.readU32(),n=Array();for(let o=0;o<e;++o)n.push(t());return n}};mn([wn],$r.prototype,"readU8",null),mn([wn],$r.prototype,"readU16",null),mn([wn],$r.prototype,"readU32",null),mn([wn],$r.prototype,"readU64",null),mn([wn],$r.prototype,"readU128",null),mn([wn],$r.prototype,"readU256",null),mn([wn],$r.prototype,"readU512",null),mn([wn],$r.prototype,"readString",null),mn([wn],$r.prototype,"readFixedArray",null),mn([wn],$r.prototype,"readArray",null),ar.BinaryReader=$r;function zl(r){return r.charAt(0).toUpperCase()+r.slice(1)}function xi(r,t,e,n,o){try{if(typeof n=="string")o[`write${zl(n)}`](e);else if(n instanceof Array)if(typeof n[0]=="number"){if(e.length!==n[0])throw new Ar(`Expecting byte array of length ${n[0]}, but got ${e.length} bytes`);o.writeFixedArray(e)}else if(n.length===2&&typeof n[1]=="number"){if(e.length!==n[1])throw new Ar(`Expecting byte array of length ${n[1]}, but got ${e.length} bytes`);for(let i=0;i<n[1];i++)xi(r,null,e[i],n[0],o)}else o.writeArray(e,i=>{xi(r,t,i,n[0],o)});else if(n.kind!==void 0)switch(n.kind){case"option":{e==null?o.writeU8(0):(o.writeU8(1),xi(r,t,e,n.type,o));break}case"map":{o.writeU32(e.size),e.forEach((i,c)=>{xi(r,t,c,n.key,o),xi(r,t,i,n.value,o)});break}default:throw new Ar(`FieldType ${n} unrecognized`)}else ql(r,e,o)}catch(i){throw i instanceof Ar&&i.addToFieldPath(t),i}}function ql(r,t,e){if(typeof t.borshSerialize=="function"){t.borshSerialize(e);return}const n=r.get(t.constructor);if(!n)throw new Ar(`Class ${t.constructor.name} is missing in schema`);if(n.kind==="struct")n.fields.map(([o,i])=>{xi(r,o,t[o],i,e)});else if(n.kind==="enum"){const o=t[n.field];for(let i=0;i<n.values.length;++i){const[c,u]=n.values[i];if(c===o){e.writeU8(i),xi(r,c,t[c],u,e);break}}}else throw new Ar(`Unexpected schema kind: ${n.kind} for ${t.constructor.name}`)}function Vg(r,t,e=Dl){const n=new e;return ql(r,t,n),n.toArray()}var Wl=ar.serialize=Vg;function Ei(r,t,e,n){try{if(typeof e=="string")return n[`read${zl(e)}`]();if(e instanceof Array){if(typeof e[0]=="number")return n.readFixedArray(e[0]);if(typeof e[1]=="number"){const o=[];for(let i=0;i<e[1];i++)o.push(Ei(r,null,e[0],n));return o}else return n.readArray(()=>Ei(r,t,e[0],n))}if(e.kind==="option")return n.readU8()?Ei(r,t,e.type,n):void 0;if(e.kind==="map"){let o=new Map;const i=n.readU32();for(let c=0;c<i;c++){const u=Ei(r,t,e.key,n),p=Ei(r,t,e.value,n);o.set(u,p)}return o}return Ic(r,e,n)}catch(o){throw o instanceof Ar&&o.addToFieldPath(t),o}}function Ic(r,t,e){if(typeof t.borshDeserialize=="function")return t.borshDeserialize(e);const n=r.get(t);if(!n)throw new Ar(`Class ${t.name} is missing in schema`);if(n.kind==="struct"){const o={};for(const[i,c]of r.get(t).fields)o[i]=Ei(r,i,c,e);return new t(o)}if(n.kind==="enum"){const o=e.readU8();if(o>=n.values.length)throw new Ar(`Enum index: ${o} is out of range`);const[i,c]=n.values[o],u=Ei(r,i,c,e);return new t({[i]:u})}throw new Ar(`Unexpected schema kind: ${n.kind} for ${t.constructor.name}`)}function Zg(r,t,e,n=$r){const o=new n(e),i=Ic(r,t,o);if(o.offset<e.length)throw new Ar(`Unexpected ${e.length-o.offset} bytes after deserialized data`);return i}var Hl=ar.deserialize=Zg;function Yg(r,t,e,n=$r){const o=new n(e);return Ic(r,t,o)}Nl=ar.deserializeUnchecked=Yg;var Z={};Object.defineProperty(Z,"__esModule",{value:!0}),Z.s16=Z.s8=Z.nu64be=Z.u48be=Z.u40be=Z.u32be=Z.u24be=Z.u16be=cr=Z.nu64=Z.u48=Z.u40=Pt=Z.u32=Z.u24=Yr=Z.u16=xe=Z.u8=Si=Z.offset=Z.greedy=Z.Constant=Z.UTF8=Z.CString=Z.Blob=Z.Boolean=Z.BitField=Z.BitStructure=Z.VariantLayout=Z.Union=Z.UnionLayoutDiscriminator=Z.UnionDiscriminator=Z.Structure=Z.Sequence=Z.DoubleBE=Z.Double=Z.FloatBE=Z.Float=Z.NearInt64BE=Z.NearInt64=Z.NearUInt64BE=Z.NearUInt64=Z.IntBE=Z.Int=Z.UIntBE=Z.UInt=Z.OffsetLayout=Z.GreedyCount=Z.ExternalLayout=Z.bindConstructorLayout=Z.nameWithProperty=Z.Layout=Z.uint8ArrayToBuffer=Z.checkUint8Array=void 0,Z.constant=Z.utf8=Z.cstr=Re=Z.blob=Z.unionLayoutDiscriminator=Z.union=mr=Z.seq=Z.bits=kt=Z.struct=Z.f64be=Z.f64=Z.f32be=Z.f32=Z.ns64be=Z.s48be=Z.s40be=Z.s32be=Z.s24be=Z.s16be=Nr=Z.ns64=Z.s48=Z.s40=Z.s32=Z.s24=void 0;const Mc=ue;function yo(r){if(!(r instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}Z.checkUint8Array=yo;function me(r){return yo(r),Mc.Buffer.from(r.buffer,r.byteOffset,r.length)}Z.uint8ArrayToBuffer=me;let Be=class{constructor(t,e){if(!Number.isInteger(t))throw new TypeError("span must be an integer");this.span=t,this.property=e}makeDestinationObject(){return{}}getSpan(t,e){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(t){const e=Object.create(this.constructor.prototype);return Object.assign(e,this),e.property=t,e}fromArray(t){}};Z.Layout=Be;function kc(r,t){return t.property?r+"["+t.property+"]":r}Z.nameWithProperty=kc;function Xg(r,t){if(typeof r!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(r,"layout_"))throw new Error("Class is already bound to a layout");if(!(t&&t instanceof Be))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(t,"boundConstructor_"))throw new Error("layout is already bound to a constructor");r.layout_=t,t.boundConstructor_=r,t.makeDestinationObject=()=>new r,Object.defineProperty(r.prototype,"encode",{value(e,n){return t.encode(this,e,n)},writable:!0}),Object.defineProperty(r,"decode",{value(e,n){return t.decode(e,n)},writable:!0})}Z.bindConstructorLayout=Xg;let kr=class extends Be{isCount(){throw new Error("ExternalLayout is abstract")}};Z.ExternalLayout=kr;let jl=class extends kr{constructor(t=1,e){if(!Number.isInteger(t)||0>=t)throw new TypeError("elementSpan must be a (positive) integer");super(-1,e),this.elementSpan=t}isCount(){return!0}decode(t,e=0){yo(t);const n=t.length-e;return Math.floor(n/this.elementSpan)}encode(t,e,n){return 0}};Z.GreedyCount=jl;let Tc=class extends kr{constructor(t,e=0,n){if(!(t instanceof Be))throw new TypeError("layout must be a Layout");if(!Number.isInteger(e))throw new TypeError("offset must be integer or undefined");super(t.span,n||t.property),this.layout=t,this.offset=e}isCount(){return this.layout instanceof Zr||this.layout instanceof an}decode(t,e=0){return this.layout.decode(t,e+this.offset)}encode(t,e,n=0){return this.layout.encode(t,e,n+this.offset)}};Z.OffsetLayout=Tc;let Zr=class extends Be{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return me(t).readUIntLE(e,this.span)}encode(t,e,n=0){return me(e).writeUIntLE(t,n,this.span),this.span}};Z.UInt=Zr;let an=class extends Be{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return me(t).readUIntBE(e,this.span)}encode(t,e,n=0){return me(e).writeUIntBE(t,n,this.span),this.span}};Z.UIntBE=an;let _i=class extends Be{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return me(t).readIntLE(e,this.span)}encode(t,e,n=0){return me(e).writeIntLE(t,n,this.span),this.span}};Z.Int=_i;let mo=class extends Be{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return me(t).readIntBE(e,this.span)}encode(t,e,n=0){return me(e).writeIntBE(t,n,this.span),this.span}};Z.IntBE=mo;const Rc=Math.pow(2,32);function Gs(r){const t=Math.floor(r/Rc),e=r-t*Rc;return{hi32:t,lo32:e}}function Vs(r,t){return r*Rc+t}let Kl=class extends Be{constructor(t){super(8,t)}decode(t,e=0){const n=me(t),o=n.readUInt32LE(e),i=n.readUInt32LE(e+4);return Vs(i,o)}encode(t,e,n=0){const o=Gs(t),i=me(e);return i.writeUInt32LE(o.lo32,n),i.writeUInt32LE(o.hi32,n+4),8}};Z.NearUInt64=Kl;let Gl=class extends Be{constructor(t){super(8,t)}decode(t,e=0){const n=me(t),o=n.readUInt32BE(e),i=n.readUInt32BE(e+4);return Vs(o,i)}encode(t,e,n=0){const o=Gs(t),i=me(e);return i.writeUInt32BE(o.hi32,n),i.writeUInt32BE(o.lo32,n+4),8}};Z.NearUInt64BE=Gl;let Vl=class extends Be{constructor(t){super(8,t)}decode(t,e=0){const n=me(t),o=n.readUInt32LE(e),i=n.readInt32LE(e+4);return Vs(i,o)}encode(t,e,n=0){const o=Gs(t),i=me(e);return i.writeUInt32LE(o.lo32,n),i.writeInt32LE(o.hi32,n+4),8}};Z.NearInt64=Vl;let Zl=class extends Be{constructor(t){super(8,t)}decode(t,e=0){const n=me(t),o=n.readInt32BE(e),i=n.readUInt32BE(e+4);return Vs(o,i)}encode(t,e,n=0){const o=Gs(t),i=me(e);return i.writeInt32BE(o.hi32,n),i.writeUInt32BE(o.lo32,n+4),8}};Z.NearInt64BE=Zl;let Yl=class extends Be{constructor(t){super(4,t)}decode(t,e=0){return me(t).readFloatLE(e)}encode(t,e,n=0){return me(e).writeFloatLE(t,n),4}};Z.Float=Yl;let Xl=class extends Be{constructor(t){super(4,t)}decode(t,e=0){return me(t).readFloatBE(e)}encode(t,e,n=0){return me(e).writeFloatBE(t,n),4}};Z.FloatBE=Xl;let Jl=class extends Be{constructor(t){super(8,t)}decode(t,e=0){return me(t).readDoubleLE(e)}encode(t,e,n=0){return me(e).writeDoubleLE(t,n),8}};Z.Double=Jl;let Ql=class extends Be{constructor(t){super(8,t)}decode(t,e=0){return me(t).readDoubleBE(e)}encode(t,e,n=0){return me(e).writeDoubleBE(t,n),8}};Z.DoubleBE=Ql;let th=class extends Be{constructor(t,e,n){if(!(t instanceof Be))throw new TypeError("elementLayout must be a Layout");if(!(e instanceof kr&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let o=-1;!(e instanceof kr)&&0<t.span&&(o=e*t.span),super(o,n),this.elementLayout=t,this.count=e}getSpan(t,e=0){if(0<=this.span)return this.span;let n=0,o=this.count;if(o instanceof kr&&(o=o.decode(t,e)),0<this.elementLayout.span)n=o*this.elementLayout.span;else{let i=0;for(;i<o;)n+=this.elementLayout.getSpan(t,e+n),++i}return n}decode(t,e=0){const n=[];let o=0,i=this.count;for(i instanceof kr&&(i=i.decode(t,e));o<i;)n.push(this.elementLayout.decode(t,e)),e+=this.elementLayout.getSpan(t,e),o+=1;return n}encode(t,e,n=0){const o=this.elementLayout,i=t.reduce((c,u)=>c+o.encode(u,e,n+c),0);return this.count instanceof kr&&this.count.encode(t.length,e,n),i}};Z.Sequence=th;let eh=class extends Be{constructor(t,e,n){if(!(Array.isArray(t)&&t.reduce((i,c)=>i&&c instanceof Be,!0)))throw new TypeError("fields must be array of Layout instances");typeof e=="boolean"&&n===void 0&&(n=e,e=void 0);for(const i of t)if(0>i.span&&i.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let o=-1;try{o=t.reduce((i,c)=>i+c.getSpan(),0)}catch{}super(o,e),this.fields=t,this.decodePrefixes=!!n}getSpan(t,e=0){if(0<=this.span)return this.span;let n=0;try{n=this.fields.reduce((o,i)=>{const c=i.getSpan(t,e);return e+=c,o+c},0)}catch{throw new RangeError("indeterminate span")}return n}decode(t,e=0){yo(t);const n=this.makeDestinationObject();for(const o of this.fields)if(o.property!==void 0&&(n[o.property]=o.decode(t,e)),e+=o.getSpan(t,e),this.decodePrefixes&&t.length===e)break;return n}encode(t,e,n=0){const o=n;let i=0,c=0;for(const u of this.fields){let p=u.span;if(c=0<p?p:0,u.property!==void 0){const b=t[u.property];b!==void 0&&(c=u.encode(b,e,n),0>p&&(p=u.getSpan(e,n)))}i=n,n+=p}return i+c-o}fromArray(t){const e=this.makeDestinationObject();for(const n of this.fields)n.property!==void 0&&0<t.length&&(e[n.property]=t.shift());return e}layoutFor(t){if(typeof t!="string")throw new TypeError("property must be string");for(const e of this.fields)if(e.property===t)return e}offsetOf(t){if(typeof t!="string")throw new TypeError("property must be string");let e=0;for(const n of this.fields){if(n.property===t)return e;0>n.span?e=-1:0<=e&&(e+=n.span)}}};Z.Structure=eh;let Cc=class{constructor(t){this.property=t}decode(t,e){throw new Error("UnionDiscriminator is abstract")}encode(t,e,n){throw new Error("UnionDiscriminator is abstract")}};Z.UnionDiscriminator=Cc;let Zs=class extends Cc{constructor(t,e){if(!(t instanceof kr&&t.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(e||t.property||"variant"),this.layout=t}decode(t,e){return this.layout.decode(t,e)}encode(t,e,n){return this.layout.encode(t,e,n)}};Z.UnionLayoutDiscriminator=Zs;let Lc=class extends Be{constructor(t,e,n){let o;if(t instanceof Zr||t instanceof an)o=new Zs(new Tc(t));else if(t instanceof kr&&t.isCount())o=new Zs(t);else if(t instanceof Cc)o=t;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(e===void 0&&(e=null),!(e===null||e instanceof Be))throw new TypeError("defaultLayout must be null or a Layout");if(e!==null){if(0>e.span)throw new Error("defaultLayout must have constant span");e.property===void 0&&(e=e.replicate("content"))}let i=-1;e&&(i=e.span,0<=i&&(t instanceof Zr||t instanceof an)&&(i+=o.layout.span)),super(i,n),this.discriminator=o,this.usesPrefixDiscriminator=t instanceof Zr||t instanceof an,this.defaultLayout=e,this.registry={};let c=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(u){return c(u)},this.configGetSourceVariant=function(u){c=u.bind(this)}}getSpan(t,e=0){if(0<=this.span)return this.span;const n=this.getVariant(t,e);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(t,e)}defaultGetSourceVariant(t){if(Object.prototype.hasOwnProperty.call(t,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(t,this.defaultLayout.property))return;const e=this.registry[t[this.discriminator.property]];if(e&&(!e.layout||e.property&&Object.prototype.hasOwnProperty.call(t,e.property)))return e}else for(const e in this.registry){const n=this.registry[e];if(n.property&&Object.prototype.hasOwnProperty.call(t,n.property))return n}throw new Error("unable to infer src variant")}decode(t,e=0){let n;const o=this.discriminator,i=o.decode(t,e),c=this.registry[i];if(c===void 0){const u=this.defaultLayout;let p=0;this.usesPrefixDiscriminator&&(p=o.layout.span),n=this.makeDestinationObject(),n[o.property]=i,n[u.property]=u.decode(t,e+p)}else n=c.decode(t,e);return n}encode(t,e,n=0){const o=this.getSourceVariant(t);if(o===void 0){const i=this.discriminator,c=this.defaultLayout;let u=0;return this.usesPrefixDiscriminator&&(u=i.layout.span),i.encode(t[i.property],e,n),u+c.encode(t[c.property],e,n+u)}return o.encode(t,e,n)}addVariant(t,e,n){const o=new rh(this,t,e,n);return this.registry[t]=o,o}getVariant(t,e=0){let n;return t instanceof Uint8Array?n=this.discriminator.decode(t,e):n=t,this.registry[n]}};Z.Union=Lc;let rh=class extends Be{constructor(t,e,n,o){if(!(t instanceof Lc))throw new TypeError("union must be a Union");if(!Number.isInteger(e)||0>e)throw new TypeError("variant must be a (non-negative) integer");if(typeof n=="string"&&o===void 0&&(o=n,n=null),n){if(!(n instanceof Be))throw new TypeError("layout must be a Layout");if(t.defaultLayout!==null&&0<=n.span&&n.span>t.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof o!="string")throw new TypeError("variant must have a String property")}let i=t.span;0>t.span&&(i=n?n.span:0,0<=i&&t.usesPrefixDiscriminator&&(i+=t.discriminator.layout.span)),super(i,o),this.union=t,this.variant=e,this.layout=n||null}getSpan(t,e=0){if(0<=this.span)return this.span;let n=0;this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span);let o=0;return this.layout&&(o=this.layout.getSpan(t,e+n)),n+o}decode(t,e=0){const n=this.makeDestinationObject();if(this!==this.union.getVariant(t,e))throw new Error("variant mismatch");let o=0;return this.union.usesPrefixDiscriminator&&(o=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(t,e+o):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(t,e,n=0){let o=0;if(this.union.usesPrefixDiscriminator&&(o=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(t,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,e,n);let i=o;if(this.layout&&(this.layout.encode(t[this.property],e,n+o),i+=this.layout.getSpan(e,n+o),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(t){if(this.layout)return this.layout.fromArray(t)}};Z.VariantLayout=rh;function wo(r){return 0>r&&(r+=4294967296),r}let Uc=class extends Be{constructor(t,e,n){if(!(t instanceof Zr||t instanceof an))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof e=="string"&&n===void 0&&(n=e,e=!1),4<t.span)throw new RangeError("word cannot exceed 32 bits");super(t.span,n),this.word=t,this.msb=!!e,this.fields=[];let o=0;this._packedSetValue=function(i){return o=wo(i),this},this._packedGetValue=function(){return o}}decode(t,e=0){const n=this.makeDestinationObject(),o=this.word.decode(t,e);this._packedSetValue(o);for(const i of this.fields)i.property!==void 0&&(n[i.property]=i.decode(t));return n}encode(t,e,n=0){const o=this.word.decode(e,n);this._packedSetValue(o);for(const i of this.fields)if(i.property!==void 0){const c=t[i.property];c!==void 0&&i.encode(c)}return this.word.encode(this._packedGetValue(),e,n)}addField(t,e){const n=new Oc(this,t,e);return this.fields.push(n),n}addBoolean(t){const e=new nh(this,t);return this.fields.push(e),e}fieldFor(t){if(typeof t!="string")throw new TypeError("property must be string");for(const e of this.fields)if(e.property===t)return e}};Z.BitStructure=Uc;let Oc=class{constructor(t,e,n){if(!(t instanceof Uc))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(e)||0>=e)throw new TypeError("bits must be positive integer");const o=8*t.span,i=t.fields.reduce((c,u)=>c+u.bits,0);if(e+i>o)throw new Error("bits too long for span remainder ("+(o-i)+" of "+o+" remain)");this.container=t,this.bits=e,this.valueMask=(1<<e)-1,e===32&&(this.valueMask=4294967295),this.start=i,this.container.msb&&(this.start=o-i-e),this.wordMask=wo(this.valueMask<<this.start),this.property=n}decode(t,e){const n=this.container._packedGetValue();return wo(n&this.wordMask)>>>this.start}encode(t){if(typeof t!="number"||!Number.isInteger(t)||t!==wo(t&this.valueMask))throw new TypeError(kc("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const e=this.container._packedGetValue(),n=wo(t<<this.start);this.container._packedSetValue(wo(e&~this.wordMask)|n)}};Z.BitField=Oc;let nh=class extends Oc{constructor(t,e){super(t,1,e)}decode(t,e){return!!super.decode(t,e)}encode(t){typeof t=="boolean"&&(t=+t),super.encode(t)}};Z.Boolean=nh;let ih=class extends Be{constructor(t,e){if(!(t instanceof kr&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;t instanceof kr||(n=t),super(n,e),this.length=t}getSpan(t,e){let n=this.span;return 0>n&&(n=this.length.decode(t,e)),n}decode(t,e=0){let n=this.span;return 0>n&&(n=this.length.decode(t,e)),me(t).slice(e,e+n)}encode(t,e,n){let o=this.length;if(this.length instanceof kr&&(o=t.length),!(t instanceof Uint8Array&&o===t.length))throw new TypeError(kc("Blob.encode",this)+" requires (length "+o+") Uint8Array as src");if(n+o>e.length)throw new RangeError("encoding overruns Uint8Array");const i=me(t);return me(e).write(i.toString("hex"),n,o,"hex"),this.length instanceof kr&&this.length.encode(o,e,n),o}};Z.Blob=ih;let oh=class extends Be{constructor(t){super(-1,t)}getSpan(t,e=0){yo(t);let n=e;for(;n<t.length&&t[n]!==0;)n+=1;return 1+n-e}decode(t,e=0){const n=this.getSpan(t,e);return me(t).slice(e,e+n-1).toString("utf-8")}encode(t,e,n=0){typeof t!="string"&&(t=String(t));const o=Mc.Buffer.from(t,"utf8"),i=o.length;if(n+i>e.length)throw new RangeError("encoding overruns Buffer");const c=me(e);return o.copy(c,n),c[n+i]=0,i+1}};Z.CString=oh;let sh=class extends Be{constructor(t,e){if(typeof t=="string"&&e===void 0&&(e=t,t=void 0),t===void 0)t=-1;else if(!Number.isInteger(t))throw new TypeError("maxSpan must be an integer");super(-1,e),this.maxSpan=t}getSpan(t,e=0){return yo(t),t.length-e}decode(t,e=0){const n=this.getSpan(t,e);if(0<=this.maxSpan&&this.maxSpan<n)throw new RangeError("text length exceeds maxSpan");return me(t).slice(e,e+n).toString("utf-8")}encode(t,e,n=0){typeof t!="string"&&(t=String(t));const o=Mc.Buffer.from(t,"utf8"),i=o.length;if(0<=this.maxSpan&&this.maxSpan<i)throw new RangeError("text length exceeds maxSpan");if(n+i>e.length)throw new RangeError("encoding overruns Buffer");return o.copy(me(e),n),i}};Z.UTF8=sh;let ah=class extends Be{constructor(t,e){super(0,e),this.value=t}decode(t,e){return this.value}encode(t,e,n){return 0}};Z.Constant=ah,Z.greedy=(r,t)=>new jl(r,t);var Si=Z.offset=(r,t,e)=>new Tc(r,t,e),xe=Z.u8=r=>new Zr(1,r),Yr=Z.u16=r=>new Zr(2,r);Z.u24=r=>new Zr(3,r);var Pt=Z.u32=r=>new Zr(4,r);Z.u40=r=>new Zr(5,r),Z.u48=r=>new Zr(6,r);var cr=Z.nu64=r=>new Kl(r);Z.u16be=r=>new an(2,r),Z.u24be=r=>new an(3,r),Z.u32be=r=>new an(4,r),Z.u40be=r=>new an(5,r),Z.u48be=r=>new an(6,r),Z.nu64be=r=>new Gl(r),Z.s8=r=>new _i(1,r),Z.s16=r=>new _i(2,r),Z.s24=r=>new _i(3,r),Z.s32=r=>new _i(4,r),Z.s40=r=>new _i(5,r),Z.s48=r=>new _i(6,r);var Nr=Z.ns64=r=>new Vl(r);Z.s16be=r=>new mo(2,r),Z.s24be=r=>new mo(3,r),Z.s32be=r=>new mo(4,r),Z.s40be=r=>new mo(5,r),Z.s48be=r=>new mo(6,r),Z.ns64be=r=>new Zl(r),Z.f32=r=>new Yl(r),Z.f32be=r=>new Xl(r),Z.f64=r=>new Jl(r),Z.f64be=r=>new Ql(r);var kt=Z.struct=(r,t,e)=>new eh(r,t,e);Z.bits=(r,t,e)=>new Uc(r,t,e);var mr=Z.seq=(r,t,e)=>new th(r,t,e);Z.union=(r,t,e)=>new Lc(r,t,e),Z.unionLayoutDiscriminator=(r,t)=>new Zs(r,t);var Re=Z.blob=(r,t)=>new ih(r,t);Z.cstr=r=>new oh(r),Z.utf8=(r,t)=>new sh(r,t),Z.constant=(r,t)=>new ah(r,t);var Jo={};Object.defineProperty(Jo,"__esModule",{value:!0});function Jg(r){{const t=Buffer.from(r);t.reverse();const e=t.toString("hex");return e.length===0?BigInt(0):BigInt(`0x${e}`)}}var Qg=Jo.toBigIntLE=Jg;function ty(r){{const t=r.toString("hex");return t.length===0?BigInt(0):BigInt(`0x${t}`)}}Jo.toBigIntBE=ty;function ey(r,t){{const e=r.toString(16),n=Buffer.from(e.padStart(t*2,"0").slice(0,t*2),"hex");return n.reverse(),n}}var ry=Jo.toBufferLE=ey;function ny(r,t){{const e=r.toString(16);return Buffer.from(e.padStart(t*2,"0").slice(0,t*2),"hex")}}Jo.toBufferBE=ny;let iy=class extends TypeError{constructor(t,e){let n;const{message:o,...i}=t,{path:c}=t,u=c.length===0?o:"At path: "+c.join(".")+" -- "+o;super(u),Object.assign(this,i),this.name=this.constructor.name,this.failures=()=>{var p;return(p=n)!=null?p:n=[t,...e()]}}};function oy(r){return Vn(r)&&typeof r[Symbol.iterator]=="function"}function Vn(r){return typeof r=="object"&&r!=null}function cn(r){return typeof r=="string"?JSON.stringify(r):""+r}function sy(r){const{done:t,value:e}=r.next();return t?void 0:e}function ay(r,t,e,n){if(r===!0)return;r===!1?r={}:typeof r=="string"&&(r={message:r});const{path:o,branch:i}=t,{type:c}=e,{refinement:u,message:p="Expected a value of type `"+c+"`"+(u?" with refinement `"+u+"`":"")+", but received: `"+cn(n)+"`"}=r;return{value:n,type:c,refinement:u,key:o[o.length-1],path:o,branch:i,...r,message:p}}function*ch(r,t,e,n){oy(r)||(r=[r]);for(const o of r){const i=ay(o,t,e,n);i&&(yield i)}}function*Fc(r,t,e={}){const{path:n=[],branch:o=[r],coerce:i=!1,mask:c=!1}=e,u={path:n,branch:o};if(i&&(r=t.coercer(r,u),c&&t.type!=="type"&&Vn(t.schema)&&Vn(r)&&!Array.isArray(r)))for(const b in r)t.schema[b]===void 0&&delete r[b];let p=!0;for(const b of t.validator(r,u))p=!1,yield[b,void 0];for(let[b,_,B]of t.entries(r,u)){const C=Fc(_,B,{path:b===void 0?n:[...n,b],branch:b===void 0?o:[...o,_],coerce:i,mask:c});for(const k of C)k[0]?(p=!1,yield[k[0],void 0]):i&&(_=k[1],b===void 0?r=_:r instanceof Map?r.set(b,_):r instanceof Set?r.add(_):Vn(r)&&(r[b]=_))}if(p)for(const b of t.refiner(r,u))p=!1,yield[b,void 0];p&&(yield[void 0,r])}let bn=class{constructor(t){const{type:e,schema:n,validator:o,refiner:i,coercer:c=p=>p,entries:u=function*(){}}=t;this.type=e,this.schema=n,this.entries=u,this.coercer=c,o?this.validator=(p,b)=>{const _=o(p,b);return ch(_,b,this,p)}:this.validator=()=>[],i?this.refiner=(p,b)=>{const _=i(p,b);return ch(_,b,this,p)}:this.refiner=()=>[]}assert(t){return cy(t,this)}create(t){return gt(t,this)}is(t){return uh(t,this)}mask(t){return uy(t,this)}validate(t,e={}){return Qo(t,this,e)}};function cy(r,t){const e=Qo(r,t);if(e[0])throw e[0]}function gt(r,t){const e=Qo(r,t,{coerce:!0});if(e[0])throw e[0];return e[1]}function uy(r,t){const e=Qo(r,t,{coerce:!0,mask:!0});if(e[0])throw e[0];return e[1]}function uh(r,t){return!Qo(r,t)[0]}function Qo(r,t,e={}){const n=Fc(r,t,e),o=sy(n);return o[0]?[new iy(o[0],function*(){for(const c of n)c[0]&&(yield c[0])}),void 0]:[void 0,o[1]]}function Bi(r,t){return new bn({type:r,schema:null,validator:t})}function fy(){return Bi("any",()=>!0)}function Et(r){return new bn({type:"array",schema:r,*entries(t){if(r&&Array.isArray(t))for(const[e,n]of t.entries())yield[e,n,r]},coercer(t){return Array.isArray(t)?t.slice():t},validator(t){return Array.isArray(t)||"Expected an array value, but received: "+cn(t)}})}function vn(){return Bi("boolean",r=>typeof r=="boolean")}function $c(r){return Bi("instance",t=>t instanceof r||"Expected a `"+r.name+"` instance, but received: "+cn(t))}function Ne(r){const t=cn(r),e=typeof r;return new bn({type:"literal",schema:e==="string"||e==="number"||e==="boolean"?r:null,validator(n){return n===r||"Expected the literal `"+t+"`, but received: "+cn(n)}})}function ly(){return Bi("never",()=>!1)}function vt(r){return new bn({...r,validator:(t,e)=>t===null||r.validator(t,e),refiner:(t,e)=>t===null||r.refiner(t,e)})}function V(){return Bi("number",r=>typeof r=="number"&&!isNaN(r)||"Expected a number, but received: "+cn(r))}function Ht(r){return new bn({...r,validator:(t,e)=>t===void 0||r.validator(t,e),refiner:(t,e)=>t===void 0||r.refiner(t,e)})}function fh(r,t){return new bn({type:"record",schema:null,*entries(e){if(Vn(e))for(const n in e){const o=e[n];yield[n,n,r],yield[n,o,t]}},validator(e){return Vn(e)||"Expected an object, but received: "+cn(e)}})}function pt(){return Bi("string",r=>typeof r=="string"||"Expected a string, but received: "+cn(r))}function Nc(r){const t=ly();return new bn({type:"tuple",schema:null,*entries(e){if(Array.isArray(e)){const n=Math.max(r.length,e.length);for(let o=0;o<n;o++)yield[o,e[o],r[o]||t]}},validator(e){return Array.isArray(e)||"Expected an array, but received: "+cn(e)}})}function ct(r){const t=Object.keys(r);return new bn({type:"type",schema:r,*entries(e){if(Vn(e))for(const n of t)yield[n,e[n],r[n]]},validator(e){return Vn(e)||"Expected an object, but received: "+cn(e)}})}function Tr(r){const t=r.map(e=>e.type).join(" | ");return new bn({type:"union",schema:null,validator(e,n){const o=[];for(const i of r){const[...c]=Fc(e,i,n),[u]=c;if(u[0])for(const[p]of c)p&&o.push(p);else return[]}return["Expected the value to satisfy a union of `"+t+"`, but received: "+cn(e),...o]}})}function ts(){return Bi("unknown",()=>!0)}function es(r,t,e){return new bn({...r,coercer:(n,o)=>uh(n,t)?r.coercer(e(n,o),o):r.coercer(n,o)})}var Ys,hy=new Uint8Array(16);function lh(){if(!Ys&&(Ys=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Ys))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ys(hy)}const dy=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Xs(r){return typeof r=="string"&&dy.test(r)}for(var ur=[],Pc=0;Pc<256;++Pc)ur.push((Pc+256).toString(16).substr(1));function Js(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,e=(ur[r[t+0]]+ur[r[t+1]]+ur[r[t+2]]+ur[r[t+3]]+"-"+ur[r[t+4]]+ur[r[t+5]]+"-"+ur[r[t+6]]+ur[r[t+7]]+"-"+ur[r[t+8]]+ur[r[t+9]]+"-"+ur[r[t+10]]+ur[r[t+11]]+ur[r[t+12]]+ur[r[t+13]]+ur[r[t+14]]+ur[r[t+15]]).toLowerCase();if(!Xs(e))throw TypeError("Stringified UUID is invalid");return e}var hh,Dc,zc=0,qc=0;function py(r,t,e){var n=t&&e||0,o=t||new Array(16);r=r||{};var i=r.node||hh,c=r.clockseq!==void 0?r.clockseq:Dc;if(i==null||c==null){var u=r.random||(r.rng||lh)();i==null&&(i=hh=[u[0]|1,u[1],u[2],u[3],u[4],u[5]]),c==null&&(c=Dc=(u[6]<<8|u[7])&16383)}var p=r.msecs!==void 0?r.msecs:Date.now(),b=r.nsecs!==void 0?r.nsecs:qc+1,_=p-zc+(b-qc)/1e4;if(_<0&&r.clockseq===void 0&&(c=c+1&16383),(_<0||p>zc)&&r.nsecs===void 0&&(b=0),b>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");zc=p,qc=b,Dc=c,p+=122192928e5;var B=((p&268435455)*1e4+b)%4294967296;o[n++]=B>>>24&255,o[n++]=B>>>16&255,o[n++]=B>>>8&255,o[n++]=B&255;var C=p/4294967296*1e4&268435455;o[n++]=C>>>8&255,o[n++]=C&255,o[n++]=C>>>24&15|16,o[n++]=C>>>16&255,o[n++]=c>>>8|128,o[n++]=c&255;for(var k=0;k<6;++k)o[n+k]=i[k];return t||Js(o)}function dh(r){if(!Xs(r))throw TypeError("Invalid UUID");var t,e=new Uint8Array(16);return e[0]=(t=parseInt(r.slice(0,8),16))>>>24,e[1]=t>>>16&255,e[2]=t>>>8&255,e[3]=t&255,e[4]=(t=parseInt(r.slice(9,13),16))>>>8,e[5]=t&255,e[6]=(t=parseInt(r.slice(14,18),16))>>>8,e[7]=t&255,e[8]=(t=parseInt(r.slice(19,23),16))>>>8,e[9]=t&255,e[10]=(t=parseInt(r.slice(24,36),16))/1099511627776&255,e[11]=t/4294967296&255,e[12]=t>>>24&255,e[13]=t>>>16&255,e[14]=t>>>8&255,e[15]=t&255,e}function gy(r){r=unescape(encodeURIComponent(r));for(var t=[],e=0;e<r.length;++e)t.push(r.charCodeAt(e));return t}var yy="6ba7b810-9dad-11d1-80b4-00c04fd430c8",my="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function ph(r,t,e){function n(o,i,c,u){if(typeof o=="string"&&(o=gy(o)),typeof i=="string"&&(i=dh(i)),i.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var p=new Uint8Array(16+o.length);if(p.set(i),p.set(o,i.length),p=e(p),p[6]=p[6]&15|t,p[8]=p[8]&63|128,c){u=u||0;for(var b=0;b<16;++b)c[u+b]=p[b];return c}return Js(p)}try{n.name=r}catch{}return n.DNS=yy,n.URL=my,n}function wy(r){if(typeof r=="string"){var t=unescape(encodeURIComponent(r));r=new Uint8Array(t.length);for(var e=0;e<t.length;++e)r[e]=t.charCodeAt(e)}return by(vy(xy(r),r.length*8))}function by(r){for(var t=[],e=r.length*32,n="0123456789abcdef",o=0;o<e;o+=8){var i=r[o>>5]>>>o%32&255,c=parseInt(n.charAt(i>>>4&15)+n.charAt(i&15),16);t.push(c)}return t}function gh(r){return(r+64>>>9<<4)+14+1}function vy(r,t){r[t>>5]|=128<<t%32,r[gh(t)-1]=t;for(var e=1732584193,n=-271733879,o=-1732584194,i=271733878,c=0;c<r.length;c+=16){var u=e,p=n,b=o,_=i;e=wr(e,n,o,i,r[c],7,-680876936),i=wr(i,e,n,o,r[c+1],12,-389564586),o=wr(o,i,e,n,r[c+2],17,606105819),n=wr(n,o,i,e,r[c+3],22,-1044525330),e=wr(e,n,o,i,r[c+4],7,-176418897),i=wr(i,e,n,o,r[c+5],12,1200080426),o=wr(o,i,e,n,r[c+6],17,-1473231341),n=wr(n,o,i,e,r[c+7],22,-45705983),e=wr(e,n,o,i,r[c+8],7,1770035416),i=wr(i,e,n,o,r[c+9],12,-1958414417),o=wr(o,i,e,n,r[c+10],17,-42063),n=wr(n,o,i,e,r[c+11],22,-1990404162),e=wr(e,n,o,i,r[c+12],7,1804603682),i=wr(i,e,n,o,r[c+13],12,-40341101),o=wr(o,i,e,n,r[c+14],17,-1502002290),n=wr(n,o,i,e,r[c+15],22,1236535329),e=br(e,n,o,i,r[c+1],5,-165796510),i=br(i,e,n,o,r[c+6],9,-1069501632),o=br(o,i,e,n,r[c+11],14,643717713),n=br(n,o,i,e,r[c],20,-373897302),e=br(e,n,o,i,r[c+5],5,-701558691),i=br(i,e,n,o,r[c+10],9,38016083),o=br(o,i,e,n,r[c+15],14,-660478335),n=br(n,o,i,e,r[c+4],20,-405537848),e=br(e,n,o,i,r[c+9],5,568446438),i=br(i,e,n,o,r[c+14],9,-1019803690),o=br(o,i,e,n,r[c+3],14,-187363961),n=br(n,o,i,e,r[c+8],20,1163531501),e=br(e,n,o,i,r[c+13],5,-1444681467),i=br(i,e,n,o,r[c+2],9,-51403784),o=br(o,i,e,n,r[c+7],14,1735328473),n=br(n,o,i,e,r[c+12],20,-1926607734),e=vr(e,n,o,i,r[c+5],4,-378558),i=vr(i,e,n,o,r[c+8],11,-2022574463),o=vr(o,i,e,n,r[c+11],16,1839030562),n=vr(n,o,i,e,r[c+14],23,-35309556),e=vr(e,n,o,i,r[c+1],4,-1530992060),i=vr(i,e,n,o,r[c+4],11,1272893353),o=vr(o,i,e,n,r[c+7],16,-155497632),n=vr(n,o,i,e,r[c+10],23,-1094730640),e=vr(e,n,o,i,r[c+13],4,681279174),i=vr(i,e,n,o,r[c],11,-358537222),o=vr(o,i,e,n,r[c+3],16,-722521979),n=vr(n,o,i,e,r[c+6],23,76029189),e=vr(e,n,o,i,r[c+9],4,-640364487),i=vr(i,e,n,o,r[c+12],11,-421815835),o=vr(o,i,e,n,r[c+15],16,530742520),n=vr(n,o,i,e,r[c+2],23,-995338651),e=xr(e,n,o,i,r[c],6,-198630844),i=xr(i,e,n,o,r[c+7],10,1126891415),o=xr(o,i,e,n,r[c+14],15,-1416354905),n=xr(n,o,i,e,r[c+5],21,-57434055),e=xr(e,n,o,i,r[c+12],6,1700485571),i=xr(i,e,n,o,r[c+3],10,-1894986606),o=xr(o,i,e,n,r[c+10],15,-1051523),n=xr(n,o,i,e,r[c+1],21,-2054922799),e=xr(e,n,o,i,r[c+8],6,1873313359),i=xr(i,e,n,o,r[c+15],10,-30611744),o=xr(o,i,e,n,r[c+6],15,-1560198380),n=xr(n,o,i,e,r[c+13],21,1309151649),e=xr(e,n,o,i,r[c+4],6,-145523070),i=xr(i,e,n,o,r[c+11],10,-1120210379),o=xr(o,i,e,n,r[c+2],15,718787259),n=xr(n,o,i,e,r[c+9],21,-343485551),e=Zn(e,u),n=Zn(n,p),o=Zn(o,b),i=Zn(i,_)}return[e,n,o,i]}function xy(r){if(r.length===0)return[];for(var t=r.length*8,e=new Uint32Array(gh(t)),n=0;n<t;n+=8)e[n>>5]|=(r[n/8]&255)<<n%32;return e}function Zn(r,t){var e=(r&65535)+(t&65535),n=(r>>16)+(t>>16)+(e>>16);return n<<16|e&65535}function Ey(r,t){return r<<t|r>>>32-t}function Qs(r,t,e,n,o,i){return Zn(Ey(Zn(Zn(t,r),Zn(n,i)),o),e)}function wr(r,t,e,n,o,i,c){return Qs(t&e|~t&n,r,t,o,i,c)}function br(r,t,e,n,o,i,c){return Qs(t&n|e&~n,r,t,o,i,c)}function vr(r,t,e,n,o,i,c){return Qs(t^e^n,r,t,o,i,c)}function xr(r,t,e,n,o,i,c){return Qs(e^(t|~n),r,t,o,i,c)}var _y=ph("v3",48,wy);const Sy=_y;function By(r,t,e){r=r||{};var n=r.random||(r.rng||lh)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){e=e||0;for(var o=0;o<16;++o)t[e+o]=n[o];return t}return Js(n)}function Ay(r,t,e,n){switch(r){case 0:return t&e^~t&n;case 1:return t^e^n;case 2:return t&e^t&n^e&n;case 3:return t^e^n}}function Wc(r,t){return r<<t|r>>>32-t}function Iy(r){var t=[1518500249,1859775393,2400959708,3395469782],e=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof r=="string"){var n=unescape(encodeURIComponent(r));r=[];for(var o=0;o<n.length;++o)r.push(n.charCodeAt(o))}else Array.isArray(r)||(r=Array.prototype.slice.call(r));r.push(128);for(var i=r.length/4+2,c=Math.ceil(i/16),u=new Array(c),p=0;p<c;++p){for(var b=new Uint32Array(16),_=0;_<16;++_)b[_]=r[p*64+_*4]<<24|r[p*64+_*4+1]<<16|r[p*64+_*4+2]<<8|r[p*64+_*4+3];u[p]=b}u[c-1][14]=(r.length-1)*8/Math.pow(2,32),u[c-1][14]=Math.floor(u[c-1][14]),u[c-1][15]=(r.length-1)*8&4294967295;for(var B=0;B<c;++B){for(var C=new Uint32Array(80),k=0;k<16;++k)C[k]=u[B][k];for(var O=16;O<80;++O)C[O]=Wc(C[O-3]^C[O-8]^C[O-14]^C[O-16],1);for(var U=e[0],R=e[1],P=e[2],F=e[3],L=e[4],z=0;z<80;++z){var $=Math.floor(z/20),N=Wc(U,5)+Ay($,R,P,F)+L+t[$]+C[z]>>>0;L=F,F=P,P=Wc(R,30)>>>0,R=U,U=N}e[0]=e[0]+U>>>0,e[1]=e[1]+R>>>0,e[2]=e[2]+P>>>0,e[3]=e[3]+F>>>0,e[4]=e[4]+L>>>0}return[e[0]>>24&255,e[0]>>16&255,e[0]>>8&255,e[0]&255,e[1]>>24&255,e[1]>>16&255,e[1]>>8&255,e[1]&255,e[2]>>24&255,e[2]>>16&255,e[2]>>8&255,e[2]&255,e[3]>>24&255,e[3]>>16&255,e[3]>>8&255,e[3]&255,e[4]>>24&255,e[4]>>16&255,e[4]>>8&255,e[4]&255]}var My=ph("v5",80,Iy);const ky=My,Ty="00000000-0000-0000-0000-000000000000";function Ry(r){if(!Xs(r))throw TypeError("Invalid UUID");return parseInt(r.substr(14,1),16)}const yh=yi(Object.freeze(Object.defineProperty({__proto__:null,NIL:Ty,parse:dh,stringify:Js,v1:py,v3:Sy,v4:By,v5:ky,validate:Xs,version:Ry},Symbol.toStringTag,{value:"Module"}))),Cy=yh.v4;var Ly=function(r,t,e,n){if(typeof r!="string")throw new TypeError(r+" must be a string");n=n||{};const o=typeof n.version=="number"?n.version:2;if(o!==1&&o!==2)throw new TypeError(o+" must be 1 or 2");const i={method:r};if(o===2&&(i.jsonrpc="2.0"),t){if(typeof t!="object"&&!Array.isArray(t))throw new TypeError(t+" must be an object, array or omitted");i.params=t}if(typeof e>"u"){const c=typeof n.generator=="function"?n.generator:function(){return Cy()};i.id=c(i,n)}else o===2&&e===null?n.notificationIdNull&&(i.id=null):i.id=e;return i};const Uy=yh.v4,Oy=Ly,rs=function(r,t){if(!(this instanceof rs))return new rs(r,t);t||(t={}),this.options={reviver:typeof t.reviver<"u"?t.reviver:null,replacer:typeof t.replacer<"u"?t.replacer:null,generator:typeof t.generator<"u"?t.generator:function(){return Uy()},version:typeof t.version<"u"?t.version:2,notificationIdNull:typeof t.notificationIdNull=="boolean"?t.notificationIdNull:!1},this.callServer=r};var Fy=rs;rs.prototype.request=function(r,t,e,n){const o=this;let i=null;const c=Array.isArray(r)&&typeof t=="function";if(this.options.version===1&&c)throw new TypeError("JSON-RPC 1.0 does not support batching");if(c||!c&&r&&typeof r=="object"&&typeof t=="function")n=t,i=r;else{typeof e=="function"&&(n=e,e=void 0);const b=typeof n=="function";try{i=Oy(r,t,e,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(_){if(b)return n(_);throw _}if(!b)return i}let p;try{p=JSON.stringify(i,this.options.replacer)}catch(b){return n(b)}return this.callServer(p,function(b,_){o._parseResponse(b,_,n)}),i},rs.prototype._parseResponse=function(r,t,e){if(r){e(r);return}if(!t)return e();let n;try{n=JSON.parse(t,this.options.reviver)}catch(o){return e(o)}if(e.length===3)if(Array.isArray(n)){const o=function(c){return typeof c.error<"u"},i=function(c){return!o(c)};return e(null,n.filter(o),n.filter(i))}else return e(null,n.error,n.result);e(null,n)};const $y=on(Fy);var mh={},wh={exports:{}};(function(r){function t(e){return e&&e.__esModule?e:{default:e}}r.exports=t,r.exports.__esModule=!0,r.exports.default=r.exports})(wh);var Hc=wh.exports,jc={exports:{}},Kc={exports:{}},bh;function ns(){return bh||(bh=1,function(r){function t(e){"@babel/helpers - typeof";return r.exports=t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},r.exports.__esModule=!0,r.exports.default=r.exports,t(e)}r.exports=t,r.exports.__esModule=!0,r.exports.default=r.exports}(Kc)),Kc.exports}var vh;function Ny(){return vh||(vh=1,function(r){var t=ns().default;function e(){r.exports=e=function(){return o},r.exports.__esModule=!0,r.exports.default=r.exports;var n,o={},i=Object.prototype,c=i.hasOwnProperty,u=Object.defineProperty||function(x,A,m){x[A]=m.value},p=typeof Symbol=="function"?Symbol:{},b=p.iterator||"@@iterator",_=p.asyncIterator||"@@asyncIterator",B=p.toStringTag||"@@toStringTag";function C(x,A,m){return Object.defineProperty(x,A,{value:m,enumerable:!0,configurable:!0,writable:!0}),x[A]}try{C({},"")}catch{C=function(m,l,E){return m[l]=E}}function k(x,A,m,l){var E=A&&A.prototype instanceof z?A:z,H=Object.create(E.prototype),K=new w(l||[]);return u(H,"_invoke",{value:I(x,m,K)}),H}function O(x,A,m){try{return{type:"normal",arg:x.call(A,m)}}catch(l){return{type:"throw",arg:l}}}o.wrap=k;var U="suspendedStart",R="suspendedYield",P="executing",F="completed",L={};function z(){}function $(){}function N(){}var q={};C(q,b,function(){return this});var W=Object.getPrototypeOf,et=W&&W(W(v([])));et&&et!==i&&c.call(et,b)&&(q=et);var ht=N.prototype=z.prototype=Object.create(q);function Q(x){["next","throw","return"].forEach(function(A){C(x,A,function(m){return this._invoke(A,m)})})}function mt(x,A){function m(E,H,K,G){var lt=O(x[E],x,H);if(lt.type!=="throw"){var ot=lt.arg,ft=ot.value;return ft&&t(ft)=="object"&&c.call(ft,"__await")?A.resolve(ft.__await).then(function(Zt){m("next",Zt,K,G)},function(Zt){m("throw",Zt,K,G)}):A.resolve(ft).then(function(Zt){ot.value=Zt,K(ot)},function(Zt){return m("throw",Zt,K,G)})}G(lt.arg)}var l;u(this,"_invoke",{value:function(H,K){function G(){return new A(function(lt,ot){m(H,K,lt,ot)})}return l=l?l.then(G,G):G()}})}function I(x,A,m){var l=U;return function(E,H){if(l===P)throw new Error("Generator is already running");if(l===F){if(E==="throw")throw H;return{value:n,done:!0}}for(m.method=E,m.arg=H;;){var K=m.delegate;if(K){var G=f(K,m);if(G){if(G===L)continue;return G}}if(m.method==="next")m.sent=m._sent=m.arg;else if(m.method==="throw"){if(l===U)throw l=F,m.arg;m.dispatchException(m.arg)}else m.method==="return"&&m.abrupt("return",m.arg);l=P;var lt=O(x,A,m);if(lt.type==="normal"){if(l=m.done?F:R,lt.arg===L)continue;return{value:lt.arg,done:m.done}}lt.type==="throw"&&(l=F,m.method="throw",m.arg=lt.arg)}}}function f(x,A){var m=A.method,l=x.iterator[m];if(l===n)return A.delegate=null,m==="throw"&&x.iterator.return&&(A.method="return",A.arg=n,f(x,A),A.method==="throw")||m!=="return"&&(A.method="throw",A.arg=new TypeError("The iterator does not provide a '"+m+"' method")),L;var E=O(l,x.iterator,A.arg);if(E.type==="throw")return A.method="throw",A.arg=E.arg,A.delegate=null,L;var H=E.arg;return H?H.done?(A[x.resultName]=H.value,A.next=x.nextLoc,A.method!=="return"&&(A.method="next",A.arg=n),A.delegate=null,L):H:(A.method="throw",A.arg=new TypeError("iterator result is not an object"),A.delegate=null,L)}function d(x){var A={tryLoc:x[0]};1 in x&&(A.catchLoc=x[1]),2 in x&&(A.finallyLoc=x[2],A.afterLoc=x[3]),this.tryEntries.push(A)}function y(x){var A=x.completion||{};A.type="normal",delete A.arg,x.completion=A}function w(x){this.tryEntries=[{tryLoc:"root"}],x.forEach(d,this),this.reset(!0)}function v(x){if(x||x===""){var A=x[b];if(A)return A.call(x);if(typeof x.next=="function")return x;if(!isNaN(x.length)){var m=-1,l=function E(){for(;++m<x.length;)if(c.call(x,m))return E.value=x[m],E.done=!1,E;return E.value=n,E.done=!0,E};return l.next=l}}throw new TypeError(t(x)+" is not iterable")}return $.prototype=N,u(ht,"constructor",{value:N,configurable:!0}),u(N,"constructor",{value:$,configurable:!0}),$.displayName=C(N,B,"GeneratorFunction"),o.isGeneratorFunction=function(x){var A=typeof x=="function"&&x.constructor;return!!A&&(A===$||(A.displayName||A.name)==="GeneratorFunction")},o.mark=function(x){return Object.setPrototypeOf?Object.setPrototypeOf(x,N):(x.__proto__=N,C(x,B,"GeneratorFunction")),x.prototype=Object.create(ht),x},o.awrap=function(x){return{__await:x}},Q(mt.prototype),C(mt.prototype,_,function(){return this}),o.AsyncIterator=mt,o.async=function(x,A,m,l,E){E===void 0&&(E=Promise);var H=new mt(k(x,A,m,l),E);return o.isGeneratorFunction(A)?H:H.next().then(function(K){return K.done?K.value:H.next()})},Q(ht),C(ht,B,"Generator"),C(ht,b,function(){return this}),C(ht,"toString",function(){return"[object Generator]"}),o.keys=function(x){var A=Object(x),m=[];for(var l in A)m.push(l);return m.reverse(),function E(){for(;m.length;){var H=m.pop();if(H in A)return E.value=H,E.done=!1,E}return E.done=!0,E}},o.values=v,w.prototype={constructor:w,reset:function(A){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(y),!A)for(var m in this)m.charAt(0)==="t"&&c.call(this,m)&&!isNaN(+m.slice(1))&&(this[m]=n)},stop:function(){this.done=!0;var A=this.tryEntries[0].completion;if(A.type==="throw")throw A.arg;return this.rval},dispatchException:function(A){if(this.done)throw A;var m=this;function l(ot,ft){return K.type="throw",K.arg=A,m.next=ot,ft&&(m.method="next",m.arg=n),!!ft}for(var E=this.tryEntries.length-1;E>=0;--E){var H=this.tryEntries[E],K=H.completion;if(H.tryLoc==="root")return l("end");if(H.tryLoc<=this.prev){var G=c.call(H,"catchLoc"),lt=c.call(H,"finallyLoc");if(G&&lt){if(this.prev<H.catchLoc)return l(H.catchLoc,!0);if(this.prev<H.finallyLoc)return l(H.finallyLoc)}else if(G){if(this.prev<H.catchLoc)return l(H.catchLoc,!0)}else{if(!lt)throw new Error("try statement without catch or finally");if(this.prev<H.finallyLoc)return l(H.finallyLoc)}}}},abrupt:function(A,m){for(var l=this.tryEntries.length-1;l>=0;--l){var E=this.tryEntries[l];if(E.tryLoc<=this.prev&&c.call(E,"finallyLoc")&&this.prev<E.finallyLoc){var H=E;break}}H&&(A==="break"||A==="continue")&&H.tryLoc<=m&&m<=H.finallyLoc&&(H=null);var K=H?H.completion:{};return K.type=A,K.arg=m,H?(this.method="next",this.next=H.finallyLoc,L):this.complete(K)},complete:function(A,m){if(A.type==="throw")throw A.arg;return A.type==="break"||A.type==="continue"?this.next=A.arg:A.type==="return"?(this.rval=this.arg=A.arg,this.method="return",this.next="end"):A.type==="normal"&&m&&(this.next=m),L},finish:function(A){for(var m=this.tryEntries.length-1;m>=0;--m){var l=this.tryEntries[m];if(l.finallyLoc===A)return this.complete(l.completion,l.afterLoc),y(l),L}},catch:function(A){for(var m=this.tryEntries.length-1;m>=0;--m){var l=this.tryEntries[m];if(l.tryLoc===A){var E=l.completion;if(E.type==="throw"){var H=E.arg;y(l)}return H}}throw new Error("illegal catch attempt")},delegateYield:function(A,m,l){return this.delegate={iterator:v(A),resultName:m,nextLoc:l},this.method==="next"&&(this.arg=n),L}},o}r.exports=e,r.exports.__esModule=!0,r.exports.default=r.exports}(jc)),jc.exports}var Gc,xh;function Py(){if(xh)return Gc;xh=1;var r=Ny()();Gc=r;try{regeneratorRuntime=r}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}return Gc}var Vc={exports:{}},Eh;function Dy(){return Eh||(Eh=1,function(r){function t(n,o,i,c,u,p,b){try{var _=n[p](b),B=_.value}catch(C){i(C);return}_.done?o(B):Promise.resolve(B).then(c,u)}function e(n){return function(){var o=this,i=arguments;return new Promise(function(c,u){var p=n.apply(o,i);function b(B){t(p,c,u,b,_,"next",B)}function _(B){t(p,c,u,b,_,"throw",B)}b(void 0)})}}r.exports=e,r.exports.__esModule=!0,r.exports.default=r.exports}(Vc)),Vc.exports}var Zc={exports:{}},_h;function Yc(){return _h||(_h=1,function(r){function t(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}r.exports=t,r.exports.__esModule=!0,r.exports.default=r.exports}(Zc)),Zc.exports}var Xc={exports:{}},Jc={exports:{}},Qc={exports:{}},Sh;function zy(){return Sh||(Sh=1,function(r){var t=ns().default;function e(n,o){if(t(n)!="object"||!n)return n;var i=n[Symbol.toPrimitive];if(i!==void 0){var c=i.call(n,o||"default");if(t(c)!="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(n)}r.exports=e,r.exports.__esModule=!0,r.exports.default=r.exports}(Qc)),Qc.exports}var Bh;function qy(){return Bh||(Bh=1,function(r){var t=ns().default,e=zy();function n(o){var i=e(o,"string");return t(i)=="symbol"?i:String(i)}r.exports=n,r.exports.__esModule=!0,r.exports.default=r.exports}(Jc)),Jc.exports}var Ah;function tu(){return Ah||(Ah=1,function(r){var t=qy();function e(o,i){for(var c=0;c<i.length;c++){var u=i[c];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(o,t(u.key),u)}}function n(o,i,c){return i&&e(o.prototype,i),c&&e(o,c),Object.defineProperty(o,"prototype",{writable:!1}),o}r.exports=n,r.exports.__esModule=!0,r.exports.default=r.exports}(Xc)),Xc.exports}var eu={exports:{}},ru={exports:{}},Ih;function Wy(){return Ih||(Ih=1,function(r){function t(e,n){return r.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,c){return i.__proto__=c,i},r.exports.__esModule=!0,r.exports.default=r.exports,t(e,n)}r.exports=t,r.exports.__esModule=!0,r.exports.default=r.exports}(ru)),ru.exports}var Mh;function kh(){return Mh||(Mh=1,function(r){var t=Wy();function e(n,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(o&&o.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),o&&t(n,o)}r.exports=e,r.exports.__esModule=!0,r.exports.default=r.exports}(eu)),eu.exports}var nu={exports:{}},iu={exports:{}},Th;function Hy(){return Th||(Th=1,function(r){function t(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}r.exports=t,r.exports.__esModule=!0,r.exports.default=r.exports}(iu)),iu.exports}var Rh;function Ch(){return Rh||(Rh=1,function(r){var t=ns().default,e=Hy();function n(o,i){if(i&&(t(i)==="object"||typeof i=="function"))return i;if(i!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return e(o)}r.exports=n,r.exports.__esModule=!0,r.exports.default=r.exports}(nu)),nu.exports}var ou={exports:{}},Lh;function Uh(){return Lh||(Lh=1,function(r){function t(e){return r.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o){return o.__proto__||Object.getPrototypeOf(o)},r.exports.__esModule=!0,r.exports.default=r.exports,t(e)}r.exports=t,r.exports.__esModule=!0,r.exports.default=r.exports}(ou)),ou.exports}var su={exports:{}},Oh;function au(){return Oh||(Oh=1,function(r){var t=Object.prototype.hasOwnProperty,e="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(e=!1));function o(p,b,_){this.fn=p,this.context=b,this.once=_||!1}function i(p,b,_,B,C){if(typeof _!="function")throw new TypeError("The listener must be a function");var k=new o(_,B||p,C),O=e?e+b:b;return p._events[O]?p._events[O].fn?p._events[O]=[p._events[O],k]:p._events[O].push(k):(p._events[O]=k,p._eventsCount++),p}function c(p,b){--p._eventsCount===0?p._events=new n:delete p._events[b]}function u(){this._events=new n,this._eventsCount=0}u.prototype.eventNames=function(){var b=[],_,B;if(this._eventsCount===0)return b;for(B in _=this._events)t.call(_,B)&&b.push(e?B.slice(1):B);return Object.getOwnPropertySymbols?b.concat(Object.getOwnPropertySymbols(_)):b},u.prototype.listeners=function(b){var _=e?e+b:b,B=this._events[_];if(!B)return[];if(B.fn)return[B.fn];for(var C=0,k=B.length,O=new Array(k);C<k;C++)O[C]=B[C].fn;return O},u.prototype.listenerCount=function(b){var _=e?e+b:b,B=this._events[_];return B?B.fn?1:B.length:0},u.prototype.emit=function(b,_,B,C,k,O){var U=e?e+b:b;if(!this._events[U])return!1;var R=this._events[U],P=arguments.length,F,L;if(R.fn){switch(R.once&&this.removeListener(b,R.fn,void 0,!0),P){case 1:return R.fn.call(R.context),!0;case 2:return R.fn.call(R.context,_),!0;case 3:return R.fn.call(R.context,_,B),!0;case 4:return R.fn.call(R.context,_,B,C),!0;case 5:return R.fn.call(R.context,_,B,C,k),!0;case 6:return R.fn.call(R.context,_,B,C,k,O),!0}for(L=1,F=new Array(P-1);L<P;L++)F[L-1]=arguments[L];R.fn.apply(R.context,F)}else{var z=R.length,$;for(L=0;L<z;L++)switch(R[L].once&&this.removeListener(b,R[L].fn,void 0,!0),P){case 1:R[L].fn.call(R[L].context);break;case 2:R[L].fn.call(R[L].context,_);break;case 3:R[L].fn.call(R[L].context,_,B);break;case 4:R[L].fn.call(R[L].context,_,B,C);break;default:if(!F)for($=1,F=new Array(P-1);$<P;$++)F[$-1]=arguments[$];R[L].fn.apply(R[L].context,F)}}return!0},u.prototype.on=function(b,_,B){return i(this,b,_,B,!1)},u.prototype.once=function(b,_,B){return i(this,b,_,B,!0)},u.prototype.removeListener=function(b,_,B,C){var k=e?e+b:b;if(!this._events[k])return this;if(!_)return c(this,k),this;var O=this._events[k];if(O.fn)O.fn===_&&(!C||O.once)&&(!B||O.context===B)&&c(this,k);else{for(var U=0,R=[],P=O.length;U<P;U++)(O[U].fn!==_||C&&!O[U].once||B&&O[U].context!==B)&&R.push(O[U]);R.length?this._events[k]=R.length===1?R[0]:R:c(this,k)}return this},u.prototype.removeAllListeners=function(b){var _;return b?(_=e?e+b:b,this._events[_]&&c(this,_)):(this._events=new n,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=e,u.EventEmitter=u,r.exports=u}(su)),su.exports}var bo={},Fh;function jy(){if(Fh)return bo;Fh=1;var r=Hc;Object.defineProperty(bo,"__esModule",{value:!0}),bo.DefaultDataPack=void 0,bo.createError=i;var t=r(Yc()),e=r(tu()),n=new Map([[-32e3,"Event not provided"],[-32600,"Invalid Request"],[-32601,"Method not found"],[-32602,"Invalid params"],[-32603,"Internal error"],[-32604,"Params not found"],[-32605,"Method forbidden"],[-32606,"Event forbidden"],[-32700,"Parse error"]]),o=function(){function c(){(0,t.default)(this,c)}return(0,e.default)(c,[{key:"encode",value:function(p){return JSON.stringify(p)}},{key:"decode",value:function(p){return JSON.parse(p)}}]),c}();bo.DefaultDataPack=o;function i(c,u){var p={code:c,message:n.get(c)||"Internal Server Error"};return u&&(p.data=u),p}return bo}(function(r){var t=Hc;Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var e=t(Py()),n=t(Dy()),o=t(ns()),i=t(Yc()),c=t(tu()),u=t(kh()),p=t(Ch()),b=t(Uh()),_=au(),B=jy();function C(R){var P=k();return function(){var L=(0,b.default)(R),z;if(P){var $=(0,b.default)(this).constructor;z=Reflect.construct(L,arguments,$)}else z=L.apply(this,arguments);return(0,p.default)(this,z)}}function k(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var O=function(R,P){var F={};for(var L in R)Object.prototype.hasOwnProperty.call(R,L)&&P.indexOf(L)<0&&(F[L]=R[L]);if(R!=null&&typeof Object.getOwnPropertySymbols=="function")for(var z=0,L=Object.getOwnPropertySymbols(R);z<L.length;z++)P.indexOf(L[z])<0&&Object.prototype.propertyIsEnumerable.call(R,L[z])&&(F[L[z]]=R[L[z]]);return F},U=function(R){(0,u.default)(F,R);var P=C(F);function F(L){var z,$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"ws://localhost:8080",N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},q=arguments.length>3?arguments[3]:void 0,W=arguments.length>4?arguments[4]:void 0;(0,i.default)(this,F);var et=N.autoconnect,ht=et===void 0?!0:et,Q=N.reconnect,mt=Q===void 0?!0:Q,I=N.reconnect_interval,f=I===void 0?1e3:I,d=N.max_reconnects,y=d===void 0?5:d,w=O(N,["autoconnect","reconnect","reconnect_interval","max_reconnects"]);return z=P.call(this),z.webSocketFactory=L,z.queue={},z.rpc_id=0,z.address=$,z.autoconnect=ht,z.ready=!1,z.reconnect=mt,z.reconnect_timer_id=void 0,z.reconnect_interval=f,z.max_reconnects=y,z.rest_options=w,z.current_reconnects=0,z.generate_request_id=q||function(){return++z.rpc_id},W?z.dataPack=W:z.dataPack=new B.DefaultDataPack,z.autoconnect&&z._connect(z.address,Object.assign({autoconnect:z.autoconnect,reconnect:z.reconnect,reconnect_interval:z.reconnect_interval,max_reconnects:z.max_reconnects},z.rest_options)),z}return(0,c.default)(F,[{key:"connect",value:function(){this.socket||this._connect(this.address,Object.assign({autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects},this.rest_options))}},{key:"call",value:function(z,$,N,q){var W=this;return!q&&(0,o.default)(N)==="object"&&(q=N,N=null),new Promise(function(et,ht){if(!W.ready)return ht(new Error("socket not ready"));var Q=W.generate_request_id(z,$),mt={jsonrpc:"2.0",method:z,params:$||void 0,id:Q};W.socket.send(W.dataPack.encode(mt),q,function(I){if(I)return ht(I);W.queue[Q]={promise:[et,ht]},N&&(W.queue[Q].timeout=setTimeout(function(){delete W.queue[Q],ht(new Error("reply timeout"))},N))})})}},{key:"login",value:function(){var L=(0,n.default)(e.default.mark(function $(N){var q;return e.default.wrap(function(et){for(;;)switch(et.prev=et.next){case 0:return et.next=2,this.call("rpc.login",N);case 2:if(q=et.sent,q){et.next=5;break}throw new Error("authentication failed");case 5:return et.abrupt("return",q);case 6:case"end":return et.stop()}},$,this)}));function z($){return L.apply(this,arguments)}return z}()},{key:"listMethods",value:function(){var L=(0,n.default)(e.default.mark(function $(){return e.default.wrap(function(q){for(;;)switch(q.prev=q.next){case 0:return q.next=2,this.call("__listMethods");case 2:return q.abrupt("return",q.sent);case 3:case"end":return q.stop()}},$,this)}));function z(){return L.apply(this,arguments)}return z}()},{key:"notify",value:function(z,$){var N=this;return new Promise(function(q,W){if(!N.ready)return W(new Error("socket not ready"));var et={jsonrpc:"2.0",method:z,params:$};N.socket.send(N.dataPack.encode(et),function(ht){if(ht)return W(ht);q()})})}},{key:"subscribe",value:function(){var L=(0,n.default)(e.default.mark(function $(N){var q;return e.default.wrap(function(et){for(;;)switch(et.prev=et.next){case 0:return typeof N=="string"&&(N=[N]),et.next=3,this.call("rpc.on",N);case 3:if(q=et.sent,!(typeof N=="string"&&q[N]!=="ok")){et.next=6;break}throw new Error("Failed subscribing to an event '"+N+"' with: "+q[N]);case 6:return et.abrupt("return",q);case 7:case"end":return et.stop()}},$,this)}));function z($){return L.apply(this,arguments)}return z}()},{key:"unsubscribe",value:function(){var L=(0,n.default)(e.default.mark(function $(N){var q;return e.default.wrap(function(et){for(;;)switch(et.prev=et.next){case 0:return typeof N=="string"&&(N=[N]),et.next=3,this.call("rpc.off",N);case 3:if(q=et.sent,!(typeof N=="string"&&q[N]!=="ok")){et.next=6;break}throw new Error("Failed unsubscribing from an event with: "+q);case 6:return et.abrupt("return",q);case 7:case"end":return et.stop()}},$,this)}));function z($){return L.apply(this,arguments)}return z}()},{key:"close",value:function(z,$){this.socket.close(z||1e3,$)}},{key:"_connect",value:function(z,$){var N=this;clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(z,$),this.socket.addEventListener("open",function(){N.ready=!0,N.emit("open"),N.current_reconnects=0}),this.socket.addEventListener("message",function(q){var W=q.data;W instanceof ArrayBuffer&&(W=Buffer.from(W).toString());try{W=N.dataPack.decode(W)}catch{return}if(W.notification&&N.listeners(W.notification).length){if(!Object.keys(W.params).length)return N.emit(W.notification);var et=[W.notification];if(W.params.constructor===Object)et.push(W.params);else for(var ht=0;ht<W.params.length;ht++)et.push(W.params[ht]);return Promise.resolve().then(function(){N.emit.apply(N,et)})}if(!N.queue[W.id])return W.method?Promise.resolve().then(function(){N.emit(W.method,W==null?void 0:W.params)}):void 0;"error"in W=="result"in W&&N.queue[W.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),N.queue[W.id].timeout&&clearTimeout(N.queue[W.id].timeout),W.error?N.queue[W.id].promise[1](W.error):N.queue[W.id].promise[0](W.result),delete N.queue[W.id]}),this.socket.addEventListener("error",function(q){return N.emit("error",q)}),this.socket.addEventListener("close",function(q){var W=q.code,et=q.reason;N.ready&&setTimeout(function(){return N.emit("close",W,et)},0),N.ready=!1,N.socket=void 0,W!==1e3&&(N.current_reconnects++,N.reconnect&&(N.max_reconnects>N.current_reconnects||N.max_reconnects===0)&&(N.reconnect_timer_id=setTimeout(function(){return N._connect(z,$)},N.reconnect_interval)))})}}]),F}(_.EventEmitter);r.default=U})(mh);const Ky=on(mh);var $h={};(function(r){var t=Hc;Object.defineProperty(r,"__esModule",{value:!0}),r.default=B;var e=t(Yc()),n=t(tu()),o=t(kh()),i=t(Ch()),c=t(Uh()),u=au();function p(C){var k=b();return function(){var U=(0,c.default)(C),R;if(k){var P=(0,c.default)(this).constructor;R=Reflect.construct(U,arguments,P)}else R=U.apply(this,arguments);return(0,i.default)(this,R)}}function b(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var _=function(C){(0,o.default)(O,C);var k=p(O);function O(U,R,P){var F;return(0,e.default)(this,O),F=k.call(this),F.socket=new window.WebSocket(U,P),F.socket.onopen=function(){return F.emit("open")},F.socket.onmessage=function(L){return F.emit("message",L.data)},F.socket.onerror=function(L){return F.emit("error",L)},F.socket.onclose=function(L){F.emit("close",L.code,L.reason)},F}return(0,n.default)(O,[{key:"send",value:function(R,P,F){var L=F||P;try{this.socket.send(R),L()}catch(z){L(z)}}},{key:"close",value:function(R,P){this.socket.close(R,P)}},{key:"addEventListener",value:function(R,P,F){this.socket.addEventListener(R,P,F)}}]),O}(u.EventEmitter);function B(C,k){return new _(C,k)}})($h);const Gy=on($h);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Vy(r){const t=mc(r);po(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:e,Fp:n,a:o}=t;if(e){if(!n.eql(o,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof e!="object"||typeof e.beta!="bigint"||typeof e.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}const{bytesToNumberBE:Zy,hexToBytes:Yy}=tg,Ai={Err:class extends Error{constructor(t=""){super(t)}},_parseInt(r){const{Err:t}=Ai;if(r.length<2||r[0]!==2)throw new t("Invalid signature integer tag");const e=r[1],n=r.subarray(2,e+2);if(!e||n.length!==e)throw new t("Invalid signature integer: wrong length");if(n[0]&128)throw new t("Invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new t("Invalid signature integer: unnecessary leading zero");return{d:Zy(n),l:r.subarray(e+2)}},toSig(r){const{Err:t}=Ai,e=typeof r=="string"?Yy(r):r;if(!yn(e))throw new Error("ui8a expected");let n=e.length;if(n<2||e[0]!=48)throw new t("Invalid signature tag");if(e[1]!==n-2)throw new t("Invalid signature: incorrect length");const{d:o,l:i}=Ai._parseInt(e.subarray(2)),{d:c,l:u}=Ai._parseInt(i);if(u.length)throw new t("Invalid signature: left bytes after parsing");return{r:o,s:c}},hexFromSig(r){const t=b=>Number.parseInt(b[0],16)&8?"00"+b:b,e=b=>{const _=b.toString(16);return _.length&1?`0${_}`:_},n=t(e(r.s)),o=t(e(r.r)),i=n.length/2,c=o.length/2,u=e(i),p=e(c);return`30${e(c+i+4)}02${p}${o}02${u}${n}`}},Un=BigInt(0),Xr=BigInt(1);BigInt(2);const Nh=BigInt(3);BigInt(4);function Xy(r){const t=Vy(r),{Fp:e}=t,n=t.toBytes||((O,U,R)=>{const P=U.toAffine();return bi(Uint8Array.from([4]),e.toBytes(P.x),e.toBytes(P.y))}),o=t.fromBytes||(O=>{const U=O.subarray(1),R=e.fromBytes(U.subarray(0,e.BYTES)),P=e.fromBytes(U.subarray(e.BYTES,2*e.BYTES));return{x:R,y:P}});function i(O){const{a:U,b:R}=t,P=e.sqr(O),F=e.mul(P,O);return e.add(e.add(F,e.mul(O,U)),R)}if(!e.eql(e.sqr(t.Gy),i(t.Gx)))throw new Error("bad generator point: equation left != right");function c(O){return typeof O=="bigint"&&Un<O&&O<t.n}function u(O){if(!c(O))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function p(O){const{allowedPrivateKeyLengths:U,nByteLength:R,wrapPrivateKey:P,n:F}=t;if(U&&typeof O!="bigint"){if(yn(O)&&(O=mi(O)),typeof O!="string"||!U.includes(O.length))throw new Error("Invalid key");O=O.padStart(R*2,"0")}let L;try{L=typeof O=="bigint"?O:wi(Qe("private key",O,R))}catch{throw new Error(`private key must be ${R} bytes, hex or bigint, not ${typeof O}`)}return P&&(L=Ue(L,F)),u(L),L}const b=new Map;function _(O){if(!(O instanceof B))throw new Error("ProjectivePoint expected")}class B{constructor(U,R,P){if(this.px=U,this.py=R,this.pz=P,U==null||!e.isValid(U))throw new Error("x required");if(R==null||!e.isValid(R))throw new Error("y required");if(P==null||!e.isValid(P))throw new Error("z required")}static fromAffine(U){const{x:R,y:P}=U||{};if(!U||!e.isValid(R)||!e.isValid(P))throw new Error("invalid affine point");if(U instanceof B)throw new Error("projective point not allowed");const F=L=>e.eql(L,e.ZERO);return F(R)&&F(P)?B.ZERO:new B(R,P,e.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(U){const R=e.invertBatch(U.map(P=>P.pz));return U.map((P,F)=>P.toAffine(R[F])).map(B.fromAffine)}static fromHex(U){const R=B.fromAffine(o(Qe("pointHex",U)));return R.assertValidity(),R}static fromPrivateKey(U){return B.BASE.multiply(p(U))}_setWindowSize(U){this._WINDOW_SIZE=U,b.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!e.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:U,y:R}=this.toAffine();if(!e.isValid(U)||!e.isValid(R))throw new Error("bad point: x or y not FE");const P=e.sqr(R),F=i(U);if(!e.eql(P,F))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:U}=this.toAffine();if(e.isOdd)return!e.isOdd(U);throw new Error("Field doesn't support isOdd")}equals(U){_(U);const{px:R,py:P,pz:F}=this,{px:L,py:z,pz:$}=U,N=e.eql(e.mul(R,$),e.mul(L,F)),q=e.eql(e.mul(P,$),e.mul(z,F));return N&&q}negate(){return new B(this.px,e.neg(this.py),this.pz)}double(){const{a:U,b:R}=t,P=e.mul(R,Nh),{px:F,py:L,pz:z}=this;let $=e.ZERO,N=e.ZERO,q=e.ZERO,W=e.mul(F,F),et=e.mul(L,L),ht=e.mul(z,z),Q=e.mul(F,L);return Q=e.add(Q,Q),q=e.mul(F,z),q=e.add(q,q),$=e.mul(U,q),N=e.mul(P,ht),N=e.add($,N),$=e.sub(et,N),N=e.add(et,N),N=e.mul($,N),$=e.mul(Q,$),q=e.mul(P,q),ht=e.mul(U,ht),Q=e.sub(W,ht),Q=e.mul(U,Q),Q=e.add(Q,q),q=e.add(W,W),W=e.add(q,W),W=e.add(W,ht),W=e.mul(W,Q),N=e.add(N,W),ht=e.mul(L,z),ht=e.add(ht,ht),W=e.mul(ht,Q),$=e.sub($,W),q=e.mul(ht,et),q=e.add(q,q),q=e.add(q,q),new B($,N,q)}add(U){_(U);const{px:R,py:P,pz:F}=this,{px:L,py:z,pz:$}=U;let N=e.ZERO,q=e.ZERO,W=e.ZERO;const et=t.a,ht=e.mul(t.b,Nh);let Q=e.mul(R,L),mt=e.mul(P,z),I=e.mul(F,$),f=e.add(R,P),d=e.add(L,z);f=e.mul(f,d),d=e.add(Q,mt),f=e.sub(f,d),d=e.add(R,F);let y=e.add(L,$);return d=e.mul(d,y),y=e.add(Q,I),d=e.sub(d,y),y=e.add(P,F),N=e.add(z,$),y=e.mul(y,N),N=e.add(mt,I),y=e.sub(y,N),W=e.mul(et,d),N=e.mul(ht,I),W=e.add(N,W),N=e.sub(mt,W),W=e.add(mt,W),q=e.mul(N,W),mt=e.add(Q,Q),mt=e.add(mt,Q),I=e.mul(et,I),d=e.mul(ht,d),mt=e.add(mt,I),I=e.sub(Q,I),I=e.mul(et,I),d=e.add(d,I),Q=e.mul(mt,d),q=e.add(q,Q),Q=e.mul(y,d),N=e.mul(f,N),N=e.sub(N,Q),Q=e.mul(f,mt),W=e.mul(y,W),W=e.add(W,Q),new B(N,q,W)}subtract(U){return this.add(U.negate())}is0(){return this.equals(B.ZERO)}wNAF(U){return k.wNAFCached(this,b,U,R=>{const P=e.invertBatch(R.map(F=>F.pz));return R.map((F,L)=>F.toAffine(P[L])).map(B.fromAffine)})}multiplyUnsafe(U){const R=B.ZERO;if(U===Un)return R;if(u(U),U===Xr)return this;const{endo:P}=t;if(!P)return k.unsafeLadder(this,U);let{k1neg:F,k1:L,k2neg:z,k2:$}=P.splitScalar(U),N=R,q=R,W=this;for(;L>Un||$>Un;)L&Xr&&(N=N.add(W)),$&Xr&&(q=q.add(W)),W=W.double(),L>>=Xr,$>>=Xr;return F&&(N=N.negate()),z&&(q=q.negate()),q=new B(e.mul(q.px,P.beta),q.py,q.pz),N.add(q)}multiply(U){u(U);let R=U,P,F;const{endo:L}=t;if(L){const{k1neg:z,k1:$,k2neg:N,k2:q}=L.splitScalar(R);let{p:W,f:et}=this.wNAF($),{p:ht,f:Q}=this.wNAF(q);W=k.constTimeNegate(z,W),ht=k.constTimeNegate(N,ht),ht=new B(e.mul(ht.px,L.beta),ht.py,ht.pz),P=W.add(ht),F=et.add(Q)}else{const{p:z,f:$}=this.wNAF(R);P=z,F=$}return B.normalizeZ([P,F])[0]}multiplyAndAddUnsafe(U,R,P){const F=B.BASE,L=($,N)=>N===Un||N===Xr||!$.equals(F)?$.multiplyUnsafe(N):$.multiply(N),z=L(this,R).add(L(U,P));return z.is0()?void 0:z}toAffine(U){const{px:R,py:P,pz:F}=this,L=this.is0();U==null&&(U=L?e.ONE:e.inv(F));const z=e.mul(R,U),$=e.mul(P,U),N=e.mul(F,U);if(L)return{x:e.ZERO,y:e.ZERO};if(!e.eql(N,e.ONE))throw new Error("invZ was invalid");return{x:z,y:$}}isTorsionFree(){const{h:U,isTorsionFree:R}=t;if(U===Xr)return!0;if(R)return R(B,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:U,clearCofactor:R}=t;return U===Xr?this:R?R(B,this):this.multiplyUnsafe(t.h)}toRawBytes(U=!0){return this.assertValidity(),n(B,this,U)}toHex(U=!0){return mi(this.toRawBytes(U))}}B.BASE=new B(t.Gx,t.Gy,e.ONE),B.ZERO=new B(e.ZERO,e.ONE,e.ZERO);const C=t.nBitLength,k=kl(B,t.endo?Math.ceil(C/2):C);return{CURVE:t,ProjectivePoint:B,normPrivateKeyToScalar:p,weierstrassEquation:i,isWithinCurveOrder:c}}function Jy(r){const t=mc(r);return po(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function Qy(r){const t=Jy(r),{Fp:e,n}=t,o=e.BYTES+1,i=2*e.BYTES+1;function c(d){return Un<d&&d<e.ORDER}function u(d){return Ue(d,n)}function p(d){return gc(d,n)}const{ProjectivePoint:b,normPrivateKeyToScalar:_,weierstrassEquation:B,isWithinCurveOrder:C}=Xy({...t,toBytes(d,y,w){const v=y.toAffine(),x=e.toBytes(v.x),A=bi;return w?A(Uint8Array.from([y.hasEvenY()?2:3]),x):A(Uint8Array.from([4]),x,e.toBytes(v.y))},fromBytes(d){const y=d.length,w=d[0],v=d.subarray(1);if(y===o&&(w===2||w===3)){const x=wi(v);if(!c(x))throw new Error("Point is not on curve");const A=B(x);let m=e.sqrt(A);const l=(m&Xr)===Xr;return(w&1)===1!==l&&(m=e.neg(m)),{x,y:m}}else if(y===i&&w===4){const x=e.fromBytes(v.subarray(0,e.BYTES)),A=e.fromBytes(v.subarray(e.BYTES,2*e.BYTES));return{x,y:A}}else throw new Error(`Point of length ${y} was invalid. Expected ${o} compressed bytes or ${i} uncompressed bytes`)}}),k=d=>mi(ho(d,t.nByteLength));function O(d){const y=n>>Xr;return d>y}function U(d){return O(d)?u(-d):d}const R=(d,y,w)=>wi(d.slice(y,w));class P{constructor(y,w,v){this.r=y,this.s=w,this.recovery=v,this.assertValidity()}static fromCompact(y){const w=t.nByteLength;return y=Qe("compactSignature",y,w*2),new P(R(y,0,w),R(y,w,2*w))}static fromDER(y){const{r:w,s:v}=Ai.toSig(Qe("DER",y));return new P(w,v)}assertValidity(){if(!C(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!C(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(y){return new P(this.r,this.s,y)}recoverPublicKey(y){const{r:w,s:v,recovery:x}=this,A=q(Qe("msgHash",y));if(x==null||![0,1,2,3].includes(x))throw new Error("recovery id invalid");const m=x===2||x===3?w+t.n:w;if(m>=e.ORDER)throw new Error("recovery id 2 or 3 invalid");const l=x&1?"03":"02",E=b.fromHex(l+k(m)),H=p(m),K=u(-A*H),G=u(v*H),lt=b.BASE.multiplyAndAddUnsafe(E,K,G);if(!lt)throw new Error("point at infinify");return lt.assertValidity(),lt}hasHighS(){return O(this.s)}normalizeS(){return this.hasHighS()?new P(this.r,u(-this.s),this.recovery):this}toDERRawBytes(){return fo(this.toDERHex())}toDERHex(){return Ai.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return fo(this.toCompactHex())}toCompactHex(){return k(this.r)+k(this.s)}}const F={isValidPrivateKey(d){try{return _(d),!0}catch{return!1}},normPrivateKeyToScalar:_,randomPrivateKey:()=>{const d=Ml(t.n);return lg(t.randomBytes(d),t.n)},precompute(d=8,y=b.BASE){return y._setWindowSize(d),y.multiply(BigInt(3)),y}};function L(d,y=!0){return b.fromPrivateKey(d).toRawBytes(y)}function z(d){const y=yn(d),w=typeof d=="string",v=(y||w)&&d.length;return y?v===o||v===i:w?v===2*o||v===2*i:d instanceof b}function $(d,y,w=!0){if(z(d))throw new Error("first arg must be private key");if(!z(y))throw new Error("second arg must be public key");return b.fromHex(y).multiply(_(d)).toRawBytes(w)}const N=t.bits2int||function(d){const y=wi(d),w=d.length*8-t.nBitLength;return w>0?y>>BigInt(w):y},q=t.bits2int_modN||function(d){return u(N(d))},W=hc(t.nBitLength);function et(d){if(typeof d!="bigint")throw new Error("bigint expected");if(!(Un<=d&&d<W))throw new Error(`bigint expected < 2^${t.nBitLength}`);return ho(d,t.nByteLength)}function ht(d,y,w=Q){if(["recovered","canonical"].some(ft=>ft in w))throw new Error("sign() legacy options not supported");const{hash:v,randomBytes:x}=t;let{lowS:A,prehash:m,extraEntropy:l}=w;A==null&&(A=!0),d=Qe("msgHash",d),m&&(d=Qe("prehashed msgHash",v(d)));const E=q(d),H=_(y),K=[et(H),et(E)];if(l!=null){const ft=l===!0?x(e.BYTES):l;K.push(Qe("extraEntropy",ft))}const G=bi(...K),lt=E;function ot(ft){const Zt=N(ft);if(!C(Zt))return;const Bt=p(Zt),_t=b.BASE.multiply(Zt).toAffine(),Wt=u(_t.x);if(Wt===Un)return;const xt=u(Bt*u(lt+Wt*H));if(xt===Un)return;let Rt=(_t.x===Wt?0:2)|Number(_t.y&Xr),je=xt;return A&&O(xt)&&(je=U(xt),Rt^=1),new P(Wt,je,Rt)}return{seed:G,k2sig:ot}}const Q={lowS:t.lowS,prehash:!1},mt={lowS:t.lowS,prehash:!1};function I(d,y,w=Q){const{seed:v,k2sig:x}=ht(d,y,w),A=t;return El(A.hash.outputLen,A.nByteLength,A.hmac)(v,x)}b.BASE._setWindowSize(8);function f(d,y,w,v=mt){var _t;const x=d;if(y=Qe("msgHash",y),w=Qe("publicKey",w),"strict"in v)throw new Error("options.strict was renamed to lowS");const{lowS:A,prehash:m}=v;let l,E;try{if(typeof x=="string"||yn(x))try{l=P.fromDER(x)}catch(Wt){if(!(Wt instanceof Ai.Err))throw Wt;l=P.fromCompact(x)}else if(typeof x=="object"&&typeof x.r=="bigint"&&typeof x.s=="bigint"){const{r:Wt,s:xt}=x;l=new P(Wt,xt)}else throw new Error("PARSE");E=b.fromHex(w)}catch(Wt){if(Wt.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(A&&l.hasHighS())return!1;m&&(y=t.hash(y));const{r:H,s:K}=l,G=q(y),lt=p(K),ot=u(G*lt),ft=u(H*lt),Zt=(_t=b.BASE.multiplyAndAddUnsafe(E,ot,ft))==null?void 0:_t.toAffine();return Zt?u(Zt.x)===H:!1}return{CURVE:t,getPublicKey:L,getSharedSecret:$,sign:I,verify:f,ProjectivePoint:b,Signature:P,utils:F}}let Ph=class extends dl{constructor(t,e){super(),this.finished=!1,this.destroyed=!1,x1(t);const n=uc(e);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const o=this.blockLen,i=new Uint8Array(o);i.set(n.length>o?t.create().update(n).digest():n);for(let c=0;c<i.length;c++)i[c]^=54;this.iHash.update(i),this.oHash=t.create();for(let c=0;c<i.length;c++)i[c]^=106;this.oHash.update(i),i.fill(0)}update(t){return Fs(this),this.iHash.update(t),this}digestInto(t){Fs(this),ll(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:e,iHash:n,finished:o,destroyed:i,blockLen:c,outputLen:u}=this;return t=t,t.finished=o,t.destroyed=i,t.blockLen=c,t.outputLen=u,t.oHash=e._cloneInto(t.oHash),t.iHash=n._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const Dh=(r,t,e)=>new Ph(r,t).update(e).digest();Dh.create=(r,t)=>new Ph(r,t);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function tm(r){return{hash:r,hmac:(t,...e)=>Dh(r,t,S1(...e)),randomBytes:gl}}function em(r,t){const e=n=>Qy({...r,...tm(n)});return Object.freeze({...e(t),create:e})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const zh=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),qh=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),rm=BigInt(1),cu=BigInt(2),Wh=(r,t)=>(r+t/cu)/t;function nm(r){const t=zh,e=BigInt(3),n=BigInt(6),o=BigInt(11),i=BigInt(22),c=BigInt(23),u=BigInt(44),p=BigInt(88),b=r*r*r%t,_=b*b*r%t,B=We(_,e,t)*_%t,C=We(B,e,t)*_%t,k=We(C,cu,t)*b%t,O=We(k,o,t)*k%t,U=We(O,i,t)*O%t,R=We(U,u,t)*U%t,P=We(R,p,t)*R%t,F=We(P,u,t)*U%t,L=We(F,e,t)*_%t,z=We(L,c,t)*O%t,$=We(z,n,t)*b%t,N=We($,cu,t);if(!uu.eql(uu.sqr(N),r))throw new Error("Cannot find square root");return N}const uu=Al(zh,void 0,void 0,{sqrt:nm}),fu=em({a:BigInt(0),b:BigInt(7),Fp:uu,n:qh,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:r=>{const t=qh,e=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-rm*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),o=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=e,c=BigInt("0x100000000000000000000000000000000"),u=Wh(i*r,t),p=Wh(-n*r,t);let b=Ue(r-u*e-p*o,t),_=Ue(-u*n-p*i,t);const B=b>c,C=_>c;if(B&&(b=t-b),C&&(_=t-_),b>c||_>c)throw new Error("splitScalar: Endomorphism failed, k="+r);return{k1neg:B,k1:b,k2neg:C,k2:_}}}},_c);BigInt(0),fu.ProjectivePoint,Ds.utils.randomPrivateKey;function Hh(r){try{return Ds.ExtendedPoint.fromHex(r),!0}catch{return!1}}const jh=(r,t)=>Ds.sign(r,t.slice(0,32)),im=Ds.verify,vo=r=>ue.Buffer.isBuffer(r)?r:r instanceof Uint8Array?ue.Buffer.from(r.buffer,r.byteOffset,r.byteLength):ue.Buffer.from(r);let om=class{constructor(t){Object.assign(this,t)}encode(){return ue.Buffer.from(Wl(ta,this))}static decode(t){return Hl(ta,this,t)}static decodeUnchecked(t){return Nl(ta,this,t)}};const ta=new Map;var Kh;let Gh;const sm=32,xn=32;function am(r){return r._bn!==void 0}let Vh=1;Gh=Symbol.toStringTag;let Gt=class Vo extends om{constructor(t){if(super({}),this._bn=void 0,am(t))this._bn=t._bn;else{if(typeof t=="string"){const e=or.decode(t);if(e.length!=xn)throw new Error("Invalid public key input");this._bn=new Ol(e)}else this._bn=new Ol(t);if(this._bn.byteLength()>xn)throw new Error("Invalid public key input")}}static unique(){const t=new Vo(Vh);return Vh+=1,new Vo(t.toBuffer())}equals(t){return this._bn.eq(t._bn)}toBase58(){return or.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const t=this.toBuffer();return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}toBuffer(){const t=this._bn.toArrayLike(ue.Buffer);if(t.length===xn)return t;const e=ue.Buffer.alloc(32);return t.copy(e,32-t.length),e}get[Gh](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(t,e,n){const o=ue.Buffer.concat([t.toBuffer(),ue.Buffer.from(e),n.toBuffer()]),i=_c(o);return new Vo(i)}static createProgramAddressSync(t,e){let n=ue.Buffer.alloc(0);t.forEach(function(i){if(i.length>sm)throw new TypeError("Max seed length exceeded");n=ue.Buffer.concat([n,vo(i)])}),n=ue.Buffer.concat([n,e.toBuffer(),ue.Buffer.from("ProgramDerivedAddress")]);const o=_c(n);if(Hh(o))throw new Error("Invalid seeds, address must fall off the curve");return new Vo(o)}static async createProgramAddress(t,e){return this.createProgramAddressSync(t,e)}static findProgramAddressSync(t,e){let n=255,o;for(;n!=0;){try{const i=t.concat(ue.Buffer.from([n]));o=this.createProgramAddressSync(i,e)}catch(i){if(i instanceof TypeError)throw i;n--;continue}return[o,n]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(t,e){return this.findProgramAddressSync(t,e)}static isOnCurve(t){const e=new Vo(t);return Hh(e.toBytes())}};Kh=Gt,Gt.default=new Kh("11111111111111111111111111111111"),ta.set(Gt,{kind:"struct",fields:[["_bn","u256"]]}),new Gt("BPFLoader1111111111111111111111111111111111");const xo=1280-40-8,lu=127,Eo=64;class Zh extends Error{constructor(t){super(`Signature ${t} has expired: block height exceeded.`),this.signature=void 0,this.signature=t}}Object.defineProperty(Zh.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class Yh extends Error{constructor(t,e){super(`Transaction was not confirmed in ${e.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${t} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=t}}Object.defineProperty(Yh.prototype,"name",{value:"TransactionExpiredTimeoutError"});class is extends Error{constructor(t){super(`Signature ${t} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=t}}Object.defineProperty(is.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class ea{constructor(t,e){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=t,this.accountKeysFromLookups=e}keySegments(){const t=[this.staticAccountKeys];return this.accountKeysFromLookups&&(t.push(this.accountKeysFromLookups.writable),t.push(this.accountKeysFromLookups.readonly)),t}get(t){for(const e of this.keySegments()){if(t<e.length)return e[t];t-=e.length}}get length(){return this.keySegments().flat().length}compileInstructions(t){if(this.length>255+1)throw new Error("Account index overflow encountered during compilation");const n=new Map;this.keySegments().flat().forEach((i,c)=>{n.set(i.toBase58(),c)});const o=i=>{const c=n.get(i.toBase58());if(c===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return c};return t.map(i=>({programIdIndex:o(i.programId),accountKeyIndexes:i.keys.map(c=>o(c.pubkey)),data:i.data}))}}const de=(r="publicKey")=>Re(32,r),cm=(r="signature")=>Re(64,r),_o=(r="string")=>{const t=kt([Pt("length"),Pt("lengthPadding"),Re(Si(Pt(),-8),"chars")],r),e=t.decode.bind(t),n=t.encode.bind(t),o=t;return o.decode=(i,c)=>e(i,c).chars.toString(),o.encode=(i,c,u)=>{const p={chars:ue.Buffer.from(i,"utf8")};return n(p,c,u)},o.alloc=i=>Pt().span+Pt().span+ue.Buffer.from(i,"utf8").length,o},um=(r="authorized")=>kt([de("staker"),de("withdrawer")],r),fm=(r="lockup")=>kt([Nr("unixTimestamp"),Nr("epoch"),de("custodian")],r),lm=(r="voteInit")=>kt([de("nodePubkey"),de("authorizedVoter"),de("authorizedWithdrawer"),xe("commission")],r),hm=(r="voteAuthorizeWithSeedArgs")=>kt([Pt("voteAuthorizationType"),de("currentAuthorityDerivedKeyOwnerPubkey"),_o("currentAuthorityDerivedKeySeed"),de("newAuthorized")],r);function Pr(r){let t=0,e=0;for(;;){let n=r.shift();if(t|=(n&127)<<e*7,e+=1,!(n&128))break}return t}function Dr(r,t){let e=t;for(;;){let n=e&127;if(e>>=7,e==0){r.push(n);break}else n|=128,r.push(n)}}function Oe(r,t){if(!r)throw new Error(t||"Assertion failed")}class ra{constructor(t,e){this.payer=void 0,this.keyMetaMap=void 0,this.payer=t,this.keyMetaMap=e}static compile(t,e){const n=new Map,o=c=>{const u=c.toBase58();let p=n.get(u);return p===void 0&&(p={isSigner:!1,isWritable:!1,isInvoked:!1},n.set(u,p)),p},i=o(e);i.isSigner=!0,i.isWritable=!0;for(const c of t){o(c.programId).isInvoked=!0;for(const u of c.keys){const p=o(u.pubkey);p.isSigner||(p.isSigner=u.isSigner),p.isWritable||(p.isWritable=u.isWritable)}}return new ra(e,n)}getMessageComponents(){const t=[...this.keyMetaMap.entries()];Oe(t.length<=256,"Max static account keys length exceeded");const e=t.filter(([,p])=>p.isSigner&&p.isWritable),n=t.filter(([,p])=>p.isSigner&&!p.isWritable),o=t.filter(([,p])=>!p.isSigner&&p.isWritable),i=t.filter(([,p])=>!p.isSigner&&!p.isWritable),c={numRequiredSignatures:e.length+n.length,numReadonlySignedAccounts:n.length,numReadonlyUnsignedAccounts:i.length};{Oe(e.length>0,"Expected at least one writable signer key");const[p]=e[0];Oe(p===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const u=[...e.map(([p])=>new Gt(p)),...n.map(([p])=>new Gt(p)),...o.map(([p])=>new Gt(p)),...i.map(([p])=>new Gt(p))];return[c,u]}extractTableLookup(t){const[e,n]=this.drainKeysFoundInLookupTable(t.state.addresses,c=>!c.isSigner&&!c.isInvoked&&c.isWritable),[o,i]=this.drainKeysFoundInLookupTable(t.state.addresses,c=>!c.isSigner&&!c.isInvoked&&!c.isWritable);if(!(e.length===0&&o.length===0))return[{accountKey:t.key,writableIndexes:e,readonlyIndexes:o},{writable:n,readonly:i}]}drainKeysFoundInLookupTable(t,e){const n=new Array,o=new Array;for(const[i,c]of this.keyMetaMap.entries())if(e(c)){const u=new Gt(i),p=t.findIndex(b=>b.equals(u));p>=0&&(Oe(p<256,"Max lookup table index exceeded"),n.push(p),o.push(u),this.keyMetaMap.delete(i))}return[n,o]}}class On{constructor(t){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=t.header,this.accountKeys=t.accountKeys.map(e=>new Gt(e)),this.recentBlockhash=t.recentBlockhash,this.instructions=t.instructions,this.instructions.forEach(e=>this.indexToProgramIds.set(e.programIdIndex,this.accountKeys[e.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:or.decode(t.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new ea(this.staticAccountKeys)}static compile(t){const e=ra.compile(t.instructions,t.payerKey),[n,o]=e.getMessageComponents(),c=new ea(o).compileInstructions(t.instructions).map(u=>({programIdIndex:u.programIdIndex,accounts:u.accountKeyIndexes,data:or.encode(u.data)}));return new On({header:n,accountKeys:o,recentBlockhash:t.recentBlockhash,instructions:c})}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const e=this.header.numRequiredSignatures;if(t>=this.header.numRequiredSignatures){const n=t-e,i=this.accountKeys.length-e-this.header.numReadonlyUnsignedAccounts;return n<i}else{const n=e-this.header.numReadonlySignedAccounts;return t<n}}isProgramId(t){return this.indexToProgramIds.has(t)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((t,e)=>!this.isProgramId(e))}serialize(){const t=this.accountKeys.length;let e=[];Dr(e,t);const n=this.instructions.map(B=>{const{accounts:C,programIdIndex:k}=B,O=Array.from(or.decode(B.data));let U=[];Dr(U,C.length);let R=[];return Dr(R,O.length),{programIdIndex:k,keyIndicesCount:ue.Buffer.from(U),keyIndices:C,dataLength:ue.Buffer.from(R),data:O}});let o=[];Dr(o,n.length);let i=ue.Buffer.alloc(xo);ue.Buffer.from(o).copy(i);let c=o.length;n.forEach(B=>{const k=kt([xe("programIdIndex"),Re(B.keyIndicesCount.length,"keyIndicesCount"),mr(xe("keyIndex"),B.keyIndices.length,"keyIndices"),Re(B.dataLength.length,"dataLength"),mr(xe("userdatum"),B.data.length,"data")]).encode(B,i,c);c+=k}),i=i.slice(0,c);const u=kt([Re(1,"numRequiredSignatures"),Re(1,"numReadonlySignedAccounts"),Re(1,"numReadonlyUnsignedAccounts"),Re(e.length,"keyCount"),mr(de("key"),t,"keys"),de("recentBlockhash")]),p={numRequiredSignatures:ue.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:ue.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:ue.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:ue.Buffer.from(e),keys:this.accountKeys.map(B=>vo(B.toBytes())),recentBlockhash:or.decode(this.recentBlockhash)};let b=ue.Buffer.alloc(2048);const _=u.encode(p,b);return i.copy(b,_),b.slice(0,_+i.length)}static from(t){let e=[...t];const n=e.shift();if(n!==(n&lu))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const o=e.shift(),i=e.shift(),c=Pr(e);let u=[];for(let C=0;C<c;C++){const k=e.slice(0,xn);e=e.slice(xn),u.push(new Gt(ue.Buffer.from(k)))}const p=e.slice(0,xn);e=e.slice(xn);const b=Pr(e);let _=[];for(let C=0;C<b;C++){const k=e.shift(),O=Pr(e),U=e.slice(0,O);e=e.slice(O);const R=Pr(e),P=e.slice(0,R),F=or.encode(ue.Buffer.from(P));e=e.slice(R),_.push({programIdIndex:k,accounts:U,data:F})}const B={header:{numRequiredSignatures:n,numReadonlySignedAccounts:o,numReadonlyUnsignedAccounts:i},recentBlockhash:or.encode(ue.Buffer.from(p)),accountKeys:u,instructions:_};return new On(B)}}class os{constructor(t){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=t.header,this.staticAccountKeys=t.staticAccountKeys,this.recentBlockhash=t.recentBlockhash,this.compiledInstructions=t.compiledInstructions,this.addressTableLookups=t.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let t=0;for(const e of this.addressTableLookups)t+=e.readonlyIndexes.length+e.writableIndexes.length;return t}getAccountKeys(t){let e;if(t&&"accountKeysFromLookups"in t&&t.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=t.accountKeysFromLookups.writable.length+t.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");e=t.accountKeysFromLookups}else if(t&&"addressLookupTableAccounts"in t&&t.addressLookupTableAccounts)e=this.resolveAddressTableLookups(t.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new ea(this.staticAccountKeys,e)}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const e=this.header.numRequiredSignatures,n=this.staticAccountKeys.length;if(t>=n){const o=t-n,i=this.addressTableLookups.reduce((c,u)=>c+u.writableIndexes.length,0);return o<i}else if(t>=this.header.numRequiredSignatures){const o=t-e,c=n-e-this.header.numReadonlyUnsignedAccounts;return o<c}else{const o=e-this.header.numReadonlySignedAccounts;return t<o}}resolveAddressTableLookups(t){const e={writable:[],readonly:[]};for(const n of this.addressTableLookups){const o=t.find(i=>i.key.equals(n.accountKey));if(!o)throw new Error(`Failed to find address lookup table account for table key ${n.accountKey.toBase58()}`);for(const i of n.writableIndexes)if(i<o.state.addresses.length)e.writable.push(o.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${n.accountKey.toBase58()}`);for(const i of n.readonlyIndexes)if(i<o.state.addresses.length)e.readonly.push(o.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${n.accountKey.toBase58()}`)}return e}static compile(t){const e=ra.compile(t.instructions,t.payerKey),n=new Array,o={writable:new Array,readonly:new Array},i=t.addressLookupTableAccounts||[];for(const _ of i){const B=e.extractTableLookup(_);if(B!==void 0){const[C,{writable:k,readonly:O}]=B;n.push(C),o.writable.push(...k),o.readonly.push(...O)}}const[c,u]=e.getMessageComponents(),b=new ea(u,o).compileInstructions(t.instructions);return new os({header:c,staticAccountKeys:u,recentBlockhash:t.recentBlockhash,compiledInstructions:b,addressTableLookups:n})}serialize(){const t=Array();Dr(t,this.staticAccountKeys.length);const e=this.serializeInstructions(),n=Array();Dr(n,this.compiledInstructions.length);const o=this.serializeAddressTableLookups(),i=Array();Dr(i,this.addressTableLookups.length);const c=kt([xe("prefix"),kt([xe("numRequiredSignatures"),xe("numReadonlySignedAccounts"),xe("numReadonlyUnsignedAccounts")],"header"),Re(t.length,"staticAccountKeysLength"),mr(de(),this.staticAccountKeys.length,"staticAccountKeys"),de("recentBlockhash"),Re(n.length,"instructionsLength"),Re(e.length,"serializedInstructions"),Re(i.length,"addressTableLookupsLength"),Re(o.length,"serializedAddressTableLookups")]),u=new Uint8Array(xo),p=128,b=c.encode({prefix:p,header:this.header,staticAccountKeysLength:new Uint8Array(t),staticAccountKeys:this.staticAccountKeys.map(_=>_.toBytes()),recentBlockhash:or.decode(this.recentBlockhash),instructionsLength:new Uint8Array(n),serializedInstructions:e,addressTableLookupsLength:new Uint8Array(i),serializedAddressTableLookups:o},u);return u.slice(0,b)}serializeInstructions(){let t=0;const e=new Uint8Array(xo);for(const n of this.compiledInstructions){const o=Array();Dr(o,n.accountKeyIndexes.length);const i=Array();Dr(i,n.data.length);const c=kt([xe("programIdIndex"),Re(o.length,"encodedAccountKeyIndexesLength"),mr(xe(),n.accountKeyIndexes.length,"accountKeyIndexes"),Re(i.length,"encodedDataLength"),Re(n.data.length,"data")]);t+=c.encode({programIdIndex:n.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(o),accountKeyIndexes:n.accountKeyIndexes,encodedDataLength:new Uint8Array(i),data:n.data},e,t)}return e.slice(0,t)}serializeAddressTableLookups(){let t=0;const e=new Uint8Array(xo);for(const n of this.addressTableLookups){const o=Array();Dr(o,n.writableIndexes.length);const i=Array();Dr(i,n.readonlyIndexes.length);const c=kt([de("accountKey"),Re(o.length,"encodedWritableIndexesLength"),mr(xe(),n.writableIndexes.length,"writableIndexes"),Re(i.length,"encodedReadonlyIndexesLength"),mr(xe(),n.readonlyIndexes.length,"readonlyIndexes")]);t+=c.encode({accountKey:n.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(o),writableIndexes:n.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(i),readonlyIndexes:n.readonlyIndexes},e,t)}return e.slice(0,t)}static deserialize(t){let e=[...t];const n=e.shift(),o=n&lu;Oe(n!==o,"Expected versioned message but received legacy message");const i=o;Oe(i===0,`Expected versioned message with version 0 but found version ${i}`);const c={numRequiredSignatures:e.shift(),numReadonlySignedAccounts:e.shift(),numReadonlyUnsignedAccounts:e.shift()},u=[],p=Pr(e);for(let O=0;O<p;O++)u.push(new Gt(e.splice(0,xn)));const b=or.encode(e.splice(0,xn)),_=Pr(e),B=[];for(let O=0;O<_;O++){const U=e.shift(),R=Pr(e),P=e.splice(0,R),F=Pr(e),L=new Uint8Array(e.splice(0,F));B.push({programIdIndex:U,accountKeyIndexes:P,data:L})}const C=Pr(e),k=[];for(let O=0;O<C;O++){const U=new Gt(e.splice(0,xn)),R=Pr(e),P=e.splice(0,R),F=Pr(e),L=e.splice(0,F);k.push({accountKey:U,writableIndexes:P,readonlyIndexes:L})}return new os({header:c,staticAccountKeys:u,recentBlockhash:b,compiledInstructions:B,addressTableLookups:k})}}const hu={deserializeMessageVersion(r){const t=r[0],e=t&lu;return e===t?"legacy":e},deserialize:r=>{const t=hu.deserializeMessageVersion(r);if(t==="legacy")return On.from(r);if(t===0)return os.deserialize(r);throw new Error(`Transaction message version ${t} deserialization is not supported`)}};let Yn=function(r){return r[r.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",r[r.PROCESSED=1]="PROCESSED",r[r.TIMED_OUT=2]="TIMED_OUT",r[r.NONCE_INVALID=3]="NONCE_INVALID",r}({});const dm=ue.Buffer.alloc(Eo).fill(0);class Xh{constructor(t){this.keys=void 0,this.programId=void 0,this.data=ue.Buffer.alloc(0),this.programId=t.programId,this.keys=t.keys,t.data&&(this.data=t.data)}toJSON(){return{keys:this.keys.map(({pubkey:t,isSigner:e,isWritable:n})=>({pubkey:t.toJSON(),isSigner:e,isWritable:n})),programId:this.programId.toJSON(),data:[...this.data]}}}class Jr{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(t){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!t)if(t.feePayer&&(this.feePayer=t.feePayer),t.signatures&&(this.signatures=t.signatures),Object.prototype.hasOwnProperty.call(t,"nonceInfo")){const{minContextSlot:e,nonceInfo:n}=t;this.minNonceContextSlot=e,this.nonceInfo=n}else if(Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")){const{blockhash:e,lastValidBlockHeight:n}=t;this.recentBlockhash=e,this.lastValidBlockHeight=n}else{const{recentBlockhash:e,nonceInfo:n}=t;n&&(this.nonceInfo=n),this.recentBlockhash=e}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(t=>t.toJSON()),signers:this.signatures.map(({publicKey:t})=>t.toJSON())}}add(...t){if(t.length===0)throw new Error("No instructions");return t.forEach(e=>{"instructions"in e?this.instructions=this.instructions.concat(e.instructions):"data"in e&&"programId"in e&&"keys"in e?this.instructions.push(e):this.instructions.push(new Xh(e))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let t,e;if(this.nonceInfo?(t=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?e=[this.nonceInfo.nonceInstruction,...this.instructions]:e=this.instructions):(t=this.recentBlockhash,e=this.instructions),!t)throw new Error("Transaction recentBlockhash required");e.length<1&&console.warn("No instructions provided");let n;if(this.feePayer)n=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)n=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let U=0;U<e.length;U++)if(e[U].programId===void 0)throw new Error(`Transaction instruction index ${U} has undefined program id`);const o=[],i=[];e.forEach(U=>{U.keys.forEach(P=>{i.push({...P})});const R=U.programId.toString();o.includes(R)||o.push(R)}),o.forEach(U=>{i.push({pubkey:new Gt(U),isSigner:!1,isWritable:!1})});const c=[];i.forEach(U=>{const R=U.pubkey.toString(),P=c.findIndex(F=>F.pubkey.toString()===R);P>-1?(c[P].isWritable=c[P].isWritable||U.isWritable,c[P].isSigner=c[P].isSigner||U.isSigner):c.push(U)}),c.sort(function(U,R){if(U.isSigner!==R.isSigner)return U.isSigner?-1:1;if(U.isWritable!==R.isWritable)return U.isWritable?-1:1;const P={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return U.pubkey.toBase58().localeCompare(R.pubkey.toBase58(),"en",P)});const u=c.findIndex(U=>U.pubkey.equals(n));if(u>-1){const[U]=c.splice(u,1);U.isSigner=!0,U.isWritable=!0,c.unshift(U)}else c.unshift({pubkey:n,isSigner:!0,isWritable:!0});for(const U of this.signatures){const R=c.findIndex(P=>P.pubkey.equals(U.publicKey));if(R>-1)c[R].isSigner||(c[R].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${U.publicKey.toString()}`)}let p=0,b=0,_=0;const B=[],C=[];c.forEach(({pubkey:U,isSigner:R,isWritable:P})=>{R?(B.push(U.toString()),p+=1,P||(b+=1)):(C.push(U.toString()),P||(_+=1))});const k=B.concat(C),O=e.map(U=>{const{data:R,programId:P}=U;return{programIdIndex:k.indexOf(P.toString()),accounts:U.keys.map(F=>k.indexOf(F.pubkey.toString())),data:or.encode(R)}});return O.forEach(U=>{Oe(U.programIdIndex>=0),U.accounts.forEach(R=>Oe(R>=0))}),new On({header:{numRequiredSignatures:p,numReadonlySignedAccounts:b,numReadonlyUnsignedAccounts:_},accountKeys:k,recentBlockhash:t,instructions:O})}_compile(){const t=this.compileMessage(),e=t.accountKeys.slice(0,t.header.numRequiredSignatures);return this.signatures.length===e.length&&this.signatures.every((o,i)=>e[i].equals(o.publicKey))||(this.signatures=e.map(n=>({signature:null,publicKey:n}))),t}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(t){return(await t.getFeeForMessage(this.compileMessage())).value}setSigners(...t){if(t.length===0)throw new Error("No signers");const e=new Set;this.signatures=t.filter(n=>{const o=n.toString();return e.has(o)?!1:(e.add(o),!0)}).map(n=>({signature:null,publicKey:n}))}sign(...t){if(t.length===0)throw new Error("No signers");const e=new Set,n=[];for(const i of t){const c=i.publicKey.toString();e.has(c)||(e.add(c),n.push(i))}this.signatures=n.map(i=>({signature:null,publicKey:i.publicKey}));const o=this._compile();this._partialSign(o,...n)}partialSign(...t){if(t.length===0)throw new Error("No signers");const e=new Set,n=[];for(const i of t){const c=i.publicKey.toString();e.has(c)||(e.add(c),n.push(i))}const o=this._compile();this._partialSign(o,...n)}_partialSign(t,...e){const n=t.serialize();e.forEach(o=>{const i=jh(n,o.secretKey);this._addSignature(o.publicKey,vo(i))})}addSignature(t,e){this._compile(),this._addSignature(t,e)}_addSignature(t,e){Oe(e.length===64);const n=this.signatures.findIndex(o=>t.equals(o.publicKey));if(n<0)throw new Error(`unknown signer: ${t.toString()}`);this.signatures[n].signature=ue.Buffer.from(e)}verifySignatures(t=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),t)}_getMessageSignednessErrors(t,e){const n={};for(const{signature:o,publicKey:i}of this.signatures)o===null?e&&(n.missing||(n.missing=[])).push(i):im(o,t,i.toBytes())||(n.invalid||(n.invalid=[])).push(i);return n.invalid||n.missing?n:void 0}serialize(t){const{requireAllSignatures:e,verifySignatures:n}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},t),o=this.serializeMessage();if(n){const i=this._getMessageSignednessErrors(o,e);if(i){let c="Signature verification failed.";throw i.invalid&&(c+=`
Invalid signature for public key${i.invalid.length===1?"":"(s)"} [\`${i.invalid.map(u=>u.toBase58()).join("`, `")}\`].`),i.missing&&(c+=`
Missing signature for public key${i.missing.length===1?"":"(s)"} [\`${i.missing.map(u=>u.toBase58()).join("`, `")}\`].`),new Error(c)}}return this._serialize(o)}_serialize(t){const{signatures:e}=this,n=[];Dr(n,e.length);const o=n.length+e.length*64+t.length,i=ue.Buffer.alloc(o);return Oe(e.length<256),ue.Buffer.from(n).copy(i,0),e.forEach(({signature:c},u)=>{c!==null&&(Oe(c.length===64,"signature has invalid length"),ue.Buffer.from(c).copy(i,n.length+u*64))}),t.copy(i,n.length+e.length*64),Oe(i.length<=xo,`Transaction too large: ${i.length} > ${xo}`),i}get keys(){return Oe(this.instructions.length===1),this.instructions[0].keys.map(t=>t.pubkey)}get programId(){return Oe(this.instructions.length===1),this.instructions[0].programId}get data(){return Oe(this.instructions.length===1),this.instructions[0].data}static from(t){let e=[...t];const n=Pr(e);let o=[];for(let i=0;i<n;i++){const c=e.slice(0,Eo);e=e.slice(Eo),o.push(or.encode(ue.Buffer.from(c)))}return Jr.populate(On.from(e),o)}static populate(t,e=[]){const n=new Jr;return n.recentBlockhash=t.recentBlockhash,t.header.numRequiredSignatures>0&&(n.feePayer=t.accountKeys[0]),e.forEach((o,i)=>{const c={signature:o==or.encode(dm)?null:or.decode(o),publicKey:t.accountKeys[i]};n.signatures.push(c)}),t.instructions.forEach(o=>{const i=o.accounts.map(c=>{const u=t.accountKeys[c];return{pubkey:u,isSigner:n.signatures.some(p=>p.publicKey.toString()===u.toString())||t.isAccountSigner(c),isWritable:t.isAccountWritable(c)}});n.instructions.push(new Xh({keys:i,programId:t.accountKeys[o.programIdIndex],data:or.decode(o.data)}))}),n._message=t,n._json=n.toJSON(),n}}class ss{get version(){return this.message.version}constructor(t,e){if(this.signatures=void 0,this.message=void 0,e!==void 0)Oe(e.length===t.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=e;else{const n=[];for(let o=0;o<t.header.numRequiredSignatures;o++)n.push(new Uint8Array(Eo));this.signatures=n}this.message=t}serialize(){const t=this.message.serialize(),e=Array();Dr(e,this.signatures.length);const n=kt([Re(e.length,"encodedSignaturesLength"),mr(cm(),this.signatures.length,"signatures"),Re(t.length,"serializedMessage")]),o=new Uint8Array(2048),i=n.encode({encodedSignaturesLength:new Uint8Array(e),signatures:this.signatures,serializedMessage:t},o);return o.slice(0,i)}static deserialize(t){let e=[...t];const n=[],o=Pr(e);for(let c=0;c<o;c++)n.push(new Uint8Array(e.splice(0,Eo)));const i=hu.deserialize(new Uint8Array(e));return new ss(i,n)}sign(t){const e=this.message.serialize(),n=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const o of t){const i=n.findIndex(c=>c.equals(o.publicKey));Oe(i>=0,`Cannot sign with non signer key ${o.publicKey.toBase58()}`),this.signatures[i]=jh(e,o.secretKey)}}addSignature(t,e){Oe(e.byteLength===64,"Signature must be 64 bytes long");const o=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(i=>i.equals(t));Oe(o>=0,`Can not add signature; \`${t.toBase58()}\` is not required to sign this transaction`),this.signatures[o]=e}}const pm=1e3/(160/64);new Gt("SysvarC1ock11111111111111111111111111111111"),new Gt("SysvarEpochSchedu1e111111111111111111111111"),new Gt("Sysvar1nstructions1111111111111111111111111"),new Gt("SysvarRecentB1ockHashes11111111111111111111"),new Gt("SysvarRent111111111111111111111111111111111"),new Gt("SysvarRewards111111111111111111111111111111"),new Gt("SysvarS1otHashes111111111111111111111111111"),new Gt("SysvarS1otHistory11111111111111111111111111"),new Gt("SysvarStakeHistory1111111111111111111111111");function So(r){return new Promise(t=>setTimeout(t,r))}const gm=cr("lamportsPerSignature"),Jh=kt([Pt("version"),Pt("state"),de("authorizedPubkey"),de("nonce"),kt([gm],"feeCalculator")]);Jh.span;class du{constructor(t){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=t.authorizedPubkey,this.nonce=t.nonce,this.feeCalculator=t.feeCalculator}static fromAccountData(t){const e=Jh.decode(vo(t),0);return new du({authorizedPubkey:new Gt(e.authorizedPubkey),nonce:new Gt(e.nonce).toString(),feeCalculator:e.feeCalculator})}}const ym=r=>{const t=r.decode.bind(r),e=r.encode.bind(r);return{decode:t,encode:e}},Bo=(r=>t=>{const e=Re(r,t),{encode:n,decode:o}=ym(e),i=e;return i.decode=(c,u)=>{const p=o(c,u);return Qg(ue.Buffer.from(p))},i.encode=(c,u,p)=>{const b=ry(c,r);return n(b,u,p)},i})(8);Object.freeze({Create:{index:0,layout:kt([Pt("instruction"),Nr("lamports"),Nr("space"),de("programId")])},Assign:{index:1,layout:kt([Pt("instruction"),de("programId")])},Transfer:{index:2,layout:kt([Pt("instruction"),Bo("lamports")])},CreateWithSeed:{index:3,layout:kt([Pt("instruction"),de("base"),_o("seed"),Nr("lamports"),Nr("space"),de("programId")])},AdvanceNonceAccount:{index:4,layout:kt([Pt("instruction")])},WithdrawNonceAccount:{index:5,layout:kt([Pt("instruction"),Nr("lamports")])},InitializeNonceAccount:{index:6,layout:kt([Pt("instruction"),de("authorized")])},AuthorizeNonceAccount:{index:7,layout:kt([Pt("instruction"),de("authorized")])},Allocate:{index:8,layout:kt([Pt("instruction"),Nr("space")])},AllocateWithSeed:{index:9,layout:kt([Pt("instruction"),de("base"),_o("seed"),Nr("space"),de("programId")])},AssignWithSeed:{index:10,layout:kt([Pt("instruction"),de("base"),_o("seed"),de("programId")])},TransferWithSeed:{index:11,layout:kt([Pt("instruction"),Bo("lamports"),_o("seed"),de("programId")])},UpgradeNonceAccount:{index:12,layout:kt([Pt("instruction")])}}),new Gt("11111111111111111111111111111111"),new Gt("BPFLoader2111111111111111111111111111111111");function mm(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var wm=Object.prototype.toString,bm=Object.keys||function(r){var t=[];for(var e in r)t.push(e);return t};function as(r,t){var e,n,o,i,c,u,p;if(r===!0)return"true";if(r===!1)return"false";switch(typeof r){case"object":if(r===null)return null;if(r.toJSON&&typeof r.toJSON=="function")return as(r.toJSON(),t);if(p=wm.call(r),p==="[object Array]"){for(o="[",n=r.length-1,e=0;e<n;e++)o+=as(r[e],!0)+",";return n>-1&&(o+=as(r[e],!0)),o+"]"}else if(p==="[object Object]"){for(i=bm(r).sort(),n=i.length,o="",e=0;e<n;)c=i[e],u=as(r[c],!1),u!==void 0&&(o&&(o+=","),o+=JSON.stringify(c)+":"+u),e++;return"{"+o+"}"}else return JSON.stringify(r);case"function":case"undefined":return t?null:void 0;case"string":return JSON.stringify(r);default:return isFinite(r)?r:null}}var vm=function(r){var t=as(r,!1);if(t!==void 0)return""+t},Qh=mm(vm);const cs=32;function pu(r){let t=0;for(;r>1;)r/=2,t++;return t}function xm(r){return r===0?1:(r--,r|=r>>1,r|=r>>2,r|=r>>4,r|=r>>8,r|=r>>16,r|=r>>32,r+1)}class Em{constructor(t,e,n,o,i){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=t,this.leaderScheduleSlotOffset=e,this.warmup=n,this.firstNormalEpoch=o,this.firstNormalSlot=i}getEpoch(t){return this.getEpochAndSlotIndex(t)[0]}getEpochAndSlotIndex(t){if(t<this.firstNormalSlot){const e=pu(xm(t+cs+1))-pu(cs)-1,n=this.getSlotsInEpoch(e),o=t-(n-cs);return[e,o]}else{const e=t-this.firstNormalSlot,n=Math.floor(e/this.slotsPerEpoch),o=this.firstNormalEpoch+n,i=e%this.slotsPerEpoch;return[o,i]}}getFirstSlotInEpoch(t){return t<=this.firstNormalEpoch?(Math.pow(2,t)-1)*cs:(t-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(t){return this.getFirstSlotInEpoch(t)+this.getSlotsInEpoch(t)-1}getSlotsInEpoch(t){return t<this.firstNormalEpoch?Math.pow(2,t+pu(cs)):this.slotsPerEpoch}}class t0 extends Error{constructor(t,e){super(t),this.logs=void 0,this.logs=e}}class Lt extends Error{constructor({code:t,message:e,data:n},o){super(o!=null?`${o}: ${e}`:e),this.code=void 0,this.data=void 0,this.code=t,this.data=n,this.name="SolanaJSONRPCError"}}var _m=globalThis.fetch;class Sm extends Ky{constructor(t,e,n){const o=i=>{const c=Gy(i,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...e});return"socket"in c?this.underlyingSocket=c.socket:this.underlyingSocket=c,c};super(o,t,e,n),this.underlyingSocket=void 0}call(...t){var n;const e=(n=this.underlyingSocket)==null?void 0:n.readyState;return e===1?super.call(...t):Promise.reject(new Error("Tried to call a JSON-RPC method `"+t[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+e+")"))}notify(...t){var n;const e=(n=this.underlyingSocket)==null?void 0:n.readyState;return e===1?super.notify(...t):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+t[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+e+")"))}}function Bm(r,t){let e;try{e=r.layout.decode(t)}catch(n){throw new Error("invalid instruction; "+n)}if(e.typeIndex!==r.index)throw new Error(`invalid account data; account type mismatch ${e.typeIndex} != ${r.index}`);return e}const e0=56;class r0{constructor(t){this.key=void 0,this.state=void 0,this.key=t.key,this.state=t.state}isActive(){const t=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===t}static deserialize(t){const e=Bm(Am,t),n=t.length-e0;Oe(n>=0,"lookup table is invalid"),Oe(n%32===0,"lookup table is invalid");const o=n/32,{addresses:i}=kt([mr(de(),o,"addresses")]).decode(t.slice(e0));return{deactivationSlot:e.deactivationSlot,lastExtendedSlot:e.lastExtendedSlot,lastExtendedSlotStartIndex:e.lastExtendedStartIndex,authority:e.authority.length!==0?new Gt(e.authority[0]):void 0,addresses:i.map(c=>new Gt(c))}}}const Am={index:1,layout:kt([Pt("typeIndex"),Bo("deactivationSlot"),cr("lastExtendedSlot"),xe("lastExtendedStartIndex"),xe(),mr(de(),Si(xe(),-1),"authority")])},Im=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function Mm(r){const t=r.match(Im);if(t==null)throw TypeError(`Failed to validate endpoint URL \`${r}\``);const[e,n,o,i]=t,c=r.startsWith("https:")?"wss:":"ws:",u=o==null?null:parseInt(o.slice(1),10),p=u==null?"":`:${u+1}`;return`${c}//${n}${p}${i}`}const Ze=es($c(Gt),pt(),r=>new Gt(r)),n0=Nc([pt(),Ne("base64")]),gu=es($c(ue.Buffer),n0,r=>ue.Buffer.from(r[0],"base64")),km=30*1e3;function Tm(r){if(/^https?:/.test(r)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return r}function Fe(r){let t,e;if(typeof r=="string")t=r;else if(r){const{commitment:n,...o}=r;t=n,e=o}return{commitment:t,config:e}}function i0(r){return Tr([ct({jsonrpc:Ne("2.0"),id:pt(),result:r}),ct({jsonrpc:Ne("2.0"),id:pt(),error:ct({code:ts(),message:pt(),data:Ht(fy())})})])}const Rm=i0(ts());function le(r){return es(i0(r),Rm,t=>"error"in t?t:{...t,result:gt(t.result,r)})}function He(r){return le(ct({context:ct({slot:V()}),value:r}))}function na(r){return ct({context:ct({slot:V()}),value:r})}function yu(r,t){return r===0?new os({header:t.header,staticAccountKeys:t.accountKeys.map(e=>new Gt(e)),recentBlockhash:t.recentBlockhash,compiledInstructions:t.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:or.decode(e.data)})),addressTableLookups:t.addressTableLookups}):new On(t)}const Cm=ct({foundation:V(),foundationTerm:V(),initial:V(),taper:V(),terminal:V()}),Lm=le(Et(vt(ct({epoch:V(),effectiveSlot:V(),amount:V(),postBalance:V(),commission:Ht(vt(V()))})))),Um=Et(ct({slot:V(),prioritizationFee:V()})),Om=ct({total:V(),validator:V(),foundation:V(),epoch:V()}),Fm=ct({epoch:V(),slotIndex:V(),slotsInEpoch:V(),absoluteSlot:V(),blockHeight:Ht(V()),transactionCount:Ht(V())}),$m=ct({slotsPerEpoch:V(),leaderScheduleSlotOffset:V(),warmup:vn(),firstNormalEpoch:V(),firstNormalSlot:V()}),Nm=fh(pt(),Et(V())),Ii=vt(Tr([ct({}),pt()])),Pm=ct({err:Ii}),Dm=Ne("receivedSignature"),zm=ct({"solana-core":pt(),"feature-set":Ht(V())}),o0=He(ct({err:vt(Tr([ct({}),pt()])),logs:vt(Et(pt())),accounts:Ht(vt(Et(vt(ct({executable:vn(),owner:pt(),lamports:V(),data:Et(pt()),rentEpoch:Ht(V())}))))),unitsConsumed:Ht(V()),returnData:Ht(vt(ct({programId:pt(),data:Nc([pt(),Ne("base64")])})))})),qm=He(ct({byIdentity:fh(pt(),Et(V())),range:ct({firstSlot:V(),lastSlot:V()})}));function Wm(r,t,e,n,o,i){const c=e||_m;let u;i!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let p;return n&&(p=async(_,B)=>{const C=await new Promise((k,O)=>{try{n(_,B,(U,R)=>k([U,R]))}catch(U){O(U)}});return await c(...C)}),new $y(async(_,B)=>{const C={method:"POST",body:_,agent:u,headers:Object.assign({"Content-Type":"application/json"},t||{},Hw)};try{let k=5,O,U=500;for(;p?O=await p(r,C):O=await c(r,C),!(O.status!==429||o===!0||(k-=1,k===0));)console.error(`Server responded with ${O.status} ${O.statusText}.  Retrying after ${U}ms delay...`),await So(U),U*=2;const R=await O.text();O.ok?B(null,R):B(new Error(`${O.status} ${O.statusText}: ${R}`))}catch(k){k instanceof Error&&B(k)}},{})}function Hm(r){return(t,e)=>new Promise((n,o)=>{r.request(t,e,(i,c)=>{if(i){o(i);return}n(c)})})}function jm(r){return t=>new Promise((e,n)=>{t.length===0&&e([]);const o=t.map(i=>r.request(i.methodName,i.args));r.request(o,(i,c)=>{if(i){n(i);return}e(c)})})}const Km=le(Cm),Gm=le(Om),Vm=le(Um),Zm=le(Fm),Ym=le($m),Xm=le(Nm),Jm=le(V()),Qm=He(ct({total:V(),circulating:V(),nonCirculating:V(),nonCirculatingAccounts:Et(Ze)})),mu=ct({amount:pt(),uiAmount:vt(V()),decimals:V(),uiAmountString:Ht(pt())}),tw=He(Et(ct({address:Ze,amount:pt(),uiAmount:vt(V()),decimals:V(),uiAmountString:Ht(pt())}))),ew=He(Et(ct({pubkey:Ze,account:ct({executable:vn(),owner:Ze,lamports:V(),data:gu,rentEpoch:V()})}))),wu=ct({program:pt(),parsed:ts(),space:V()}),rw=He(Et(ct({pubkey:Ze,account:ct({executable:vn(),owner:Ze,lamports:V(),data:wu,rentEpoch:V()})}))),nw=He(Et(ct({lamports:V(),address:Ze}))),us=ct({executable:vn(),owner:Ze,lamports:V(),data:gu,rentEpoch:V()}),iw=ct({pubkey:Ze,account:us}),ow=es(Tr([$c(ue.Buffer),wu]),Tr([n0,wu]),r=>Array.isArray(r)?gt(r,gu):r),bu=ct({executable:vn(),owner:Ze,lamports:V(),data:ow,rentEpoch:V()}),sw=ct({pubkey:Ze,account:bu}),aw=ct({state:Tr([Ne("active"),Ne("inactive"),Ne("activating"),Ne("deactivating")]),active:V(),inactive:V()}),cw=le(Et(ct({signature:pt(),slot:V(),err:Ii,memo:vt(pt()),blockTime:Ht(vt(V()))}))),uw=le(Et(ct({signature:pt(),slot:V(),err:Ii,memo:vt(pt()),blockTime:Ht(vt(V()))}))),fw=ct({subscription:V(),result:na(us)}),lw=ct({pubkey:Ze,account:us}),hw=ct({subscription:V(),result:na(lw)}),dw=ct({parent:V(),slot:V(),root:V()}),pw=ct({subscription:V(),result:dw}),gw=Tr([ct({type:Tr([Ne("firstShredReceived"),Ne("completed"),Ne("optimisticConfirmation"),Ne("root")]),slot:V(),timestamp:V()}),ct({type:Ne("createdBank"),parent:V(),slot:V(),timestamp:V()}),ct({type:Ne("frozen"),slot:V(),timestamp:V(),stats:ct({numTransactionEntries:V(),numSuccessfulTransactions:V(),numFailedTransactions:V(),maxTransactionsPerEntry:V()})}),ct({type:Ne("dead"),slot:V(),timestamp:V(),err:pt()})]),yw=ct({subscription:V(),result:gw}),mw=ct({subscription:V(),result:na(Tr([Pm,Dm]))}),ww=ct({subscription:V(),result:V()}),bw=ct({pubkey:pt(),gossip:vt(pt()),tpu:vt(pt()),rpc:vt(pt()),version:vt(pt())}),s0=ct({votePubkey:pt(),nodePubkey:pt(),activatedStake:V(),epochVoteAccount:vn(),epochCredits:Et(Nc([V(),V(),V()])),commission:V(),lastVote:V(),rootSlot:vt(V())}),vw=le(ct({current:Et(s0),delinquent:Et(s0)})),xw=Tr([Ne("processed"),Ne("confirmed"),Ne("finalized")]),Ew=ct({slot:V(),confirmations:vt(V()),err:Ii,confirmationStatus:Ht(xw)}),_w=He(Et(vt(Ew))),Sw=le(V()),a0=ct({accountKey:Ze,writableIndexes:Et(V()),readonlyIndexes:Et(V())}),vu=ct({signatures:Et(pt()),message:ct({accountKeys:Et(pt()),header:ct({numRequiredSignatures:V(),numReadonlySignedAccounts:V(),numReadonlyUnsignedAccounts:V()}),instructions:Et(ct({accounts:Et(V()),data:pt(),programIdIndex:V()})),recentBlockhash:pt(),addressTableLookups:Ht(Et(a0))})}),c0=ct({pubkey:Ze,signer:vn(),writable:vn(),source:Ht(Tr([Ne("transaction"),Ne("lookupTable")]))}),u0=ct({accountKeys:Et(c0),signatures:Et(pt())}),f0=ct({parsed:ts(),program:pt(),programId:Ze}),l0=ct({accounts:Et(Ze),data:pt(),programId:Ze}),Bw=Tr([l0,f0]),Aw=Tr([ct({parsed:ts(),program:pt(),programId:pt()}),ct({accounts:Et(pt()),data:pt(),programId:pt()})]),h0=es(Bw,Aw,r=>"accounts"in r?gt(r,l0):gt(r,f0)),d0=ct({signatures:Et(pt()),message:ct({accountKeys:Et(c0),instructions:Et(h0),recentBlockhash:pt(),addressTableLookups:Ht(vt(Et(a0)))})}),ia=ct({accountIndex:V(),mint:pt(),owner:Ht(pt()),uiTokenAmount:mu}),p0=ct({writable:Et(Ze),readonly:Et(Ze)}),oa=ct({err:Ii,fee:V(),innerInstructions:Ht(vt(Et(ct({index:V(),instructions:Et(ct({accounts:Et(V()),data:pt(),programIdIndex:V()}))})))),preBalances:Et(V()),postBalances:Et(V()),logMessages:Ht(vt(Et(pt()))),preTokenBalances:Ht(vt(Et(ia))),postTokenBalances:Ht(vt(Et(ia))),loadedAddresses:Ht(p0),computeUnitsConsumed:Ht(V())}),xu=ct({err:Ii,fee:V(),innerInstructions:Ht(vt(Et(ct({index:V(),instructions:Et(h0)})))),preBalances:Et(V()),postBalances:Et(V()),logMessages:Ht(vt(Et(pt()))),preTokenBalances:Ht(vt(Et(ia))),postTokenBalances:Ht(vt(Et(ia))),loadedAddresses:Ht(p0),computeUnitsConsumed:Ht(V())}),Ao=Tr([Ne(0),Ne("legacy")]),Mi=ct({pubkey:pt(),lamports:V(),postBalance:vt(V()),rewardType:vt(pt()),commission:Ht(vt(V()))}),Iw=le(vt(ct({blockhash:pt(),previousBlockhash:pt(),parentSlot:V(),transactions:Et(ct({transaction:vu,meta:vt(oa),version:Ht(Ao)})),rewards:Ht(Et(Mi)),blockTime:vt(V()),blockHeight:vt(V())}))),Mw=le(vt(ct({blockhash:pt(),previousBlockhash:pt(),parentSlot:V(),rewards:Ht(Et(Mi)),blockTime:vt(V()),blockHeight:vt(V())}))),kw=le(vt(ct({blockhash:pt(),previousBlockhash:pt(),parentSlot:V(),transactions:Et(ct({transaction:u0,meta:vt(oa),version:Ht(Ao)})),rewards:Ht(Et(Mi)),blockTime:vt(V()),blockHeight:vt(V())}))),Tw=le(vt(ct({blockhash:pt(),previousBlockhash:pt(),parentSlot:V(),transactions:Et(ct({transaction:d0,meta:vt(xu),version:Ht(Ao)})),rewards:Ht(Et(Mi)),blockTime:vt(V()),blockHeight:vt(V())}))),Rw=le(vt(ct({blockhash:pt(),previousBlockhash:pt(),parentSlot:V(),transactions:Et(ct({transaction:u0,meta:vt(xu),version:Ht(Ao)})),rewards:Ht(Et(Mi)),blockTime:vt(V()),blockHeight:vt(V())}))),Cw=le(vt(ct({blockhash:pt(),previousBlockhash:pt(),parentSlot:V(),rewards:Ht(Et(Mi)),blockTime:vt(V()),blockHeight:vt(V())}))),Lw=le(vt(ct({blockhash:pt(),previousBlockhash:pt(),parentSlot:V(),transactions:Et(ct({transaction:vu,meta:vt(oa)})),rewards:Ht(Et(Mi)),blockTime:vt(V())}))),g0=le(vt(ct({blockhash:pt(),previousBlockhash:pt(),parentSlot:V(),signatures:Et(pt()),blockTime:vt(V())}))),Eu=le(vt(ct({slot:V(),meta:vt(oa),blockTime:Ht(vt(V())),transaction:vu,version:Ht(Ao)}))),sa=le(vt(ct({slot:V(),transaction:d0,meta:vt(xu),blockTime:Ht(vt(V())),version:Ht(Ao)}))),Uw=He(ct({blockhash:pt(),feeCalculator:ct({lamportsPerSignature:V()})})),Ow=He(ct({blockhash:pt(),lastValidBlockHeight:V()})),Fw=He(vn()),$w=ct({slot:V(),numTransactions:V(),numSlots:V(),samplePeriodSecs:V()}),Nw=le(Et($w)),Pw=He(vt(ct({feeCalculator:ct({lamportsPerSignature:V()})}))),Dw=le(pt()),zw=le(pt()),qw=ct({err:Ii,logs:Et(pt()),signature:pt()}),Ww=ct({result:na(qw),subscription:V()}),Hw={"solana-client":"js/0.0.0-development"};class jw{constructor(t,e){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const b={};return async _=>{const{commitment:B,config:C}=Fe(_),k=this._buildArgs([],B,void 0,C),O=Qh(k);return b[O]=b[O]??(async()=>{try{const U=await this._rpcRequest("getBlockHeight",k),R=gt(U,le(V()));if("error"in R)throw new Lt(R.error,"failed to get block height information");return R.result}finally{delete b[O]}})(),await b[O]}})();let n,o,i,c,u,p;e&&typeof e=="string"?this._commitment=e:e&&(this._commitment=e.commitment,this._confirmTransactionInitialTimeout=e.confirmTransactionInitialTimeout,n=e.wsEndpoint,o=e.httpHeaders,i=e.fetch,c=e.fetchMiddleware,u=e.disableRetryOnRateLimit,p=e.httpAgent),this._rpcEndpoint=Tm(t),this._rpcWsEndpoint=n||Mm(t),this._rpcClient=Wm(t,o,i,c,u,p),this._rpcRequest=Hm(this._rpcClient),this._rpcBatchRequest=jm(this._rpcClient),this._rpcWebSocket=new Sm(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(t,e){const{commitment:n,config:o}=Fe(e),i=this._buildArgs([t.toBase58()],n,void 0,o),c=await this._rpcRequest("getBalance",i),u=gt(c,He(V()));if("error"in u)throw new Lt(u.error,`failed to get balance for ${t.toBase58()}`);return u.result}async getBalance(t,e){return await this.getBalanceAndContext(t,e).then(n=>n.value).catch(n=>{throw new Error("failed to get balance of account "+t.toBase58()+": "+n)})}async getBlockTime(t){const e=await this._rpcRequest("getBlockTime",[t]),n=gt(e,le(vt(V())));if("error"in n)throw new Lt(n.error,`failed to get block time for slot ${t}`);return n.result}async getMinimumLedgerSlot(){const t=await this._rpcRequest("minimumLedgerSlot",[]),e=gt(t,le(V()));if("error"in e)throw new Lt(e.error,"failed to get minimum ledger slot");return e.result}async getFirstAvailableBlock(){const t=await this._rpcRequest("getFirstAvailableBlock",[]),e=gt(t,Jm);if("error"in e)throw new Lt(e.error,"failed to get first available block");return e.result}async getSupply(t){let e={};typeof t=="string"?e={commitment:t}:t?e={...t,commitment:t&&t.commitment||this.commitment}:e={commitment:this.commitment};const n=await this._rpcRequest("getSupply",[e]),o=gt(n,Qm);if("error"in o)throw new Lt(o.error,"failed to get supply");return o.result}async getTokenSupply(t,e){const n=this._buildArgs([t.toBase58()],e),o=await this._rpcRequest("getTokenSupply",n),i=gt(o,He(mu));if("error"in i)throw new Lt(i.error,"failed to get token supply");return i.result}async getTokenAccountBalance(t,e){const n=this._buildArgs([t.toBase58()],e),o=await this._rpcRequest("getTokenAccountBalance",n),i=gt(o,He(mu));if("error"in i)throw new Lt(i.error,"failed to get token account balance");return i.result}async getTokenAccountsByOwner(t,e,n){const{commitment:o,config:i}=Fe(n);let c=[t.toBase58()];"mint"in e?c.push({mint:e.mint.toBase58()}):c.push({programId:e.programId.toBase58()});const u=this._buildArgs(c,o,"base64",i),p=await this._rpcRequest("getTokenAccountsByOwner",u),b=gt(p,ew);if("error"in b)throw new Lt(b.error,`failed to get token accounts owned by account ${t.toBase58()}`);return b.result}async getParsedTokenAccountsByOwner(t,e,n){let o=[t.toBase58()];"mint"in e?o.push({mint:e.mint.toBase58()}):o.push({programId:e.programId.toBase58()});const i=this._buildArgs(o,n,"jsonParsed"),c=await this._rpcRequest("getTokenAccountsByOwner",i),u=gt(c,rw);if("error"in u)throw new Lt(u.error,`failed to get token accounts owned by account ${t.toBase58()}`);return u.result}async getLargestAccounts(t){const e={...t,commitment:t&&t.commitment||this.commitment},n=e.filter||e.commitment?[e]:[],o=await this._rpcRequest("getLargestAccounts",n),i=gt(o,nw);if("error"in i)throw new Lt(i.error,"failed to get largest accounts");return i.result}async getTokenLargestAccounts(t,e){const n=this._buildArgs([t.toBase58()],e),o=await this._rpcRequest("getTokenLargestAccounts",n),i=gt(o,tw);if("error"in i)throw new Lt(i.error,"failed to get token largest accounts");return i.result}async getAccountInfoAndContext(t,e){const{commitment:n,config:o}=Fe(e),i=this._buildArgs([t.toBase58()],n,"base64",o),c=await this._rpcRequest("getAccountInfo",i),u=gt(c,He(vt(us)));if("error"in u)throw new Lt(u.error,`failed to get info about account ${t.toBase58()}`);return u.result}async getParsedAccountInfo(t,e){const{commitment:n,config:o}=Fe(e),i=this._buildArgs([t.toBase58()],n,"jsonParsed",o),c=await this._rpcRequest("getAccountInfo",i),u=gt(c,He(vt(bu)));if("error"in u)throw new Lt(u.error,`failed to get info about account ${t.toBase58()}`);return u.result}async getAccountInfo(t,e){try{return(await this.getAccountInfoAndContext(t,e)).value}catch(n){throw new Error("failed to get info about account "+t.toBase58()+": "+n)}}async getMultipleParsedAccounts(t,e){const{commitment:n,config:o}=Fe(e),i=t.map(b=>b.toBase58()),c=this._buildArgs([i],n,"jsonParsed",o),u=await this._rpcRequest("getMultipleAccounts",c),p=gt(u,He(Et(vt(bu))));if("error"in p)throw new Lt(p.error,`failed to get info for accounts ${i}`);return p.result}async getMultipleAccountsInfoAndContext(t,e){const{commitment:n,config:o}=Fe(e),i=t.map(b=>b.toBase58()),c=this._buildArgs([i],n,"base64",o),u=await this._rpcRequest("getMultipleAccounts",c),p=gt(u,He(Et(vt(us))));if("error"in p)throw new Lt(p.error,`failed to get info for accounts ${i}`);return p.result}async getMultipleAccountsInfo(t,e){return(await this.getMultipleAccountsInfoAndContext(t,e)).value}async getStakeActivation(t,e,n){const{commitment:o,config:i}=Fe(e),c=this._buildArgs([t.toBase58()],o,void 0,{...i,epoch:n??(i==null?void 0:i.epoch)}),u=await this._rpcRequest("getStakeActivation",c),p=gt(u,le(aw));if("error"in p)throw new Lt(p.error,`failed to get Stake Activation ${t.toBase58()}`);return p.result}async getProgramAccounts(t,e){const{commitment:n,config:o}=Fe(e),{encoding:i,...c}=o||{},u=this._buildArgs([t.toBase58()],n,i||"base64",c),p=await this._rpcRequest("getProgramAccounts",u),b=Et(iw),_=c.withContext===!0?gt(p,He(b)):gt(p,le(b));if("error"in _)throw new Lt(_.error,`failed to get accounts owned by program ${t.toBase58()}`);return _.result}async getParsedProgramAccounts(t,e){const{commitment:n,config:o}=Fe(e),i=this._buildArgs([t.toBase58()],n,"jsonParsed",o),c=await this._rpcRequest("getProgramAccounts",i),u=gt(c,le(Et(sw)));if("error"in u)throw new Lt(u.error,`failed to get accounts owned by program ${t.toBase58()}`);return u.result}async confirmTransaction(t,e){var i;let n;if(typeof t=="string")n=t;else{const c=t;if((i=c.abortSignal)!=null&&i.aborted)return Promise.reject(c.abortSignal.reason);n=c.signature}let o;try{o=or.decode(n)}catch{throw new Error("signature must be base58 encoded: "+n)}return Oe(o.length===64,"signature has invalid length"),typeof t=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:e||this.commitment,signature:n}):"lastValidBlockHeight"in t?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e||this.commitment,strategy:t}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:e||this.commitment,strategy:t})}getCancellationPromise(t){return new Promise((e,n)=>{t!=null&&(t.aborted?n(t.reason):t.addEventListener("abort",()=>{n(t.reason)}))})}getTransactionConfirmationPromise({commitment:t,signature:e}){let n,o,i=!1;const c=new Promise((p,b)=>{try{n=this.onSignature(e,(B,C)=>{n=void 0;const k={context:C,value:B};p({__type:Yn.PROCESSED,response:k})},t);const _=new Promise(B=>{n==null?B():o=this._onSubscriptionStateChange(n,C=>{C==="subscribed"&&B()})});(async()=>{if(await _,i)return;const B=await this.getSignatureStatus(e);if(i||B==null)return;const{context:C,value:k}=B;if(k!=null)if(k!=null&&k.err)b(k.err);else{switch(t){case"confirmed":case"single":case"singleGossip":{if(k.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(k.confirmationStatus==="processed"||k.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}i=!0,p({__type:Yn.PROCESSED,response:{context:C,value:k}})}})()}catch(_){b(_)}});return{abortConfirmation:()=>{o&&(o(),o=void 0),n!=null&&(this.removeSignatureListener(n),n=void 0)},confirmationPromise:c}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t,strategy:{abortSignal:e,lastValidBlockHeight:n,signature:o}}){let i=!1;const c=new Promise(B=>{const C=async()=>{try{return await this.getBlockHeight(t)}catch{return-1}};(async()=>{let k=await C();if(!i){for(;k<=n;)if(await So(1e3),i||(k=await C(),i))return;B({__type:Yn.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:u,confirmationPromise:p}=this.getTransactionConfirmationPromise({commitment:t,signature:o}),b=this.getCancellationPromise(e);let _;try{const B=await Promise.race([b,p,c]);if(B.__type===Yn.PROCESSED)_=B.response;else throw new Zh(o)}finally{i=!0,u()}return _}async confirmTransactionUsingDurableNonceStrategy({commitment:t,strategy:{abortSignal:e,minContextSlot:n,nonceAccountPubkey:o,nonceValue:i,signature:c}}){let u=!1;const p=new Promise(k=>{let O=i,U=null;const R=async()=>{try{const{context:P,value:F}=await this.getNonceAndContext(o,{commitment:t,minContextSlot:n});return U=P.slot,F==null?void 0:F.nonce}catch{return O}};(async()=>{if(O=await R(),!u)for(;;){if(i!==O){k({__type:Yn.NONCE_INVALID,slotInWhichNonceDidAdvance:U});return}if(await So(2e3),u||(O=await R(),u))return}})()}),{abortConfirmation:b,confirmationPromise:_}=this.getTransactionConfirmationPromise({commitment:t,signature:c}),B=this.getCancellationPromise(e);let C;try{const k=await Promise.race([B,_,p]);if(k.__type===Yn.PROCESSED)C=k.response;else{let O;for(;;){const U=await this.getSignatureStatus(c);if(U==null)break;if(U.context.slot<(k.slotInWhichNonceDidAdvance??n)){await So(400);continue}O=U;break}if(O!=null&&O.value){const U=t||"finalized",{confirmationStatus:R}=O.value;switch(U){case"processed":case"recent":if(R!=="processed"&&R!=="confirmed"&&R!=="finalized")throw new is(c);break;case"confirmed":case"single":case"singleGossip":if(R!=="confirmed"&&R!=="finalized")throw new is(c);break;case"finalized":case"max":case"root":if(R!=="finalized")throw new is(c);break;default:(P=>{})(U)}C={context:O.context,value:{err:O.value.err}}}else throw new is(c)}}finally{u=!0,b()}return C}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:t,signature:e}){let n;const o=new Promise(p=>{let b=this._confirmTransactionInitialTimeout||6e4;switch(t){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{b=this._confirmTransactionInitialTimeout||3e4;break}}n=setTimeout(()=>p({__type:Yn.TIMED_OUT,timeoutMs:b}),b)}),{abortConfirmation:i,confirmationPromise:c}=this.getTransactionConfirmationPromise({commitment:t,signature:e});let u;try{const p=await Promise.race([c,o]);if(p.__type===Yn.PROCESSED)u=p.response;else throw new Yh(e,p.timeoutMs/1e3)}finally{clearTimeout(n),i()}return u}async getClusterNodes(){const t=await this._rpcRequest("getClusterNodes",[]),e=gt(t,le(Et(bw)));if("error"in e)throw new Lt(e.error,"failed to get cluster nodes");return e.result}async getVoteAccounts(t){const e=this._buildArgs([],t),n=await this._rpcRequest("getVoteAccounts",e),o=gt(n,vw);if("error"in o)throw new Lt(o.error,"failed to get vote accounts");return o.result}async getSlot(t){const{commitment:e,config:n}=Fe(t),o=this._buildArgs([],e,void 0,n),i=await this._rpcRequest("getSlot",o),c=gt(i,le(V()));if("error"in c)throw new Lt(c.error,"failed to get slot");return c.result}async getSlotLeader(t){const{commitment:e,config:n}=Fe(t),o=this._buildArgs([],e,void 0,n),i=await this._rpcRequest("getSlotLeader",o),c=gt(i,le(pt()));if("error"in c)throw new Lt(c.error,"failed to get slot leader");return c.result}async getSlotLeaders(t,e){const n=[t,e],o=await this._rpcRequest("getSlotLeaders",n),i=gt(o,le(Et(Ze)));if("error"in i)throw new Lt(i.error,"failed to get slot leaders");return i.result}async getSignatureStatus(t,e){const{context:n,value:o}=await this.getSignatureStatuses([t],e);Oe(o.length===1);const i=o[0];return{context:n,value:i}}async getSignatureStatuses(t,e){const n=[t];e&&n.push(e);const o=await this._rpcRequest("getSignatureStatuses",n),i=gt(o,_w);if("error"in i)throw new Lt(i.error,"failed to get signature status");return i.result}async getTransactionCount(t){const{commitment:e,config:n}=Fe(t),o=this._buildArgs([],e,void 0,n),i=await this._rpcRequest("getTransactionCount",o),c=gt(i,le(V()));if("error"in c)throw new Lt(c.error,"failed to get transaction count");return c.result}async getTotalSupply(t){return(await this.getSupply({commitment:t,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(t){const e=this._buildArgs([],t),n=await this._rpcRequest("getInflationGovernor",e),o=gt(n,Km);if("error"in o)throw new Lt(o.error,"failed to get inflation");return o.result}async getInflationReward(t,e,n){const{commitment:o,config:i}=Fe(n),c=this._buildArgs([t.map(b=>b.toBase58())],o,void 0,{...i,epoch:e??(i==null?void 0:i.epoch)}),u=await this._rpcRequest("getInflationReward",c),p=gt(u,Lm);if("error"in p)throw new Lt(p.error,"failed to get inflation reward");return p.result}async getInflationRate(){const t=await this._rpcRequest("getInflationRate",[]),e=gt(t,Gm);if("error"in e)throw new Lt(e.error,"failed to get inflation rate");return e.result}async getEpochInfo(t){const{commitment:e,config:n}=Fe(t),o=this._buildArgs([],e,void 0,n),i=await this._rpcRequest("getEpochInfo",o),c=gt(i,Zm);if("error"in c)throw new Lt(c.error,"failed to get epoch info");return c.result}async getEpochSchedule(){const t=await this._rpcRequest("getEpochSchedule",[]),e=gt(t,Ym);if("error"in e)throw new Lt(e.error,"failed to get epoch schedule");const n=e.result;return new Em(n.slotsPerEpoch,n.leaderScheduleSlotOffset,n.warmup,n.firstNormalEpoch,n.firstNormalSlot)}async getLeaderSchedule(){const t=await this._rpcRequest("getLeaderSchedule",[]),e=gt(t,Xm);if("error"in e)throw new Lt(e.error,"failed to get leader schedule");return e.result}async getMinimumBalanceForRentExemption(t,e){const n=this._buildArgs([t],e),o=await this._rpcRequest("getMinimumBalanceForRentExemption",n),i=gt(o,Sw);return"error"in i?(console.warn("Unable to fetch minimum balance for rent exemption"),0):i.result}async getRecentBlockhashAndContext(t){const e=this._buildArgs([],t),n=await this._rpcRequest("getRecentBlockhash",e),o=gt(n,Uw);if("error"in o)throw new Lt(o.error,"failed to get recent blockhash");return o.result}async getRecentPerformanceSamples(t){const e=await this._rpcRequest("getRecentPerformanceSamples",t?[t]:[]),n=gt(e,Nw);if("error"in n)throw new Lt(n.error,"failed to get recent performance samples");return n.result}async getFeeCalculatorForBlockhash(t,e){const n=this._buildArgs([t],e),o=await this._rpcRequest("getFeeCalculatorForBlockhash",n),i=gt(o,Pw);if("error"in i)throw new Lt(i.error,"failed to get fee calculator");const{context:c,value:u}=i.result;return{context:c,value:u!==null?u.feeCalculator:null}}async getFeeForMessage(t,e){const n=vo(t.serialize()).toString("base64"),o=this._buildArgs([n],e),i=await this._rpcRequest("getFeeForMessage",o),c=gt(i,He(vt(V())));if("error"in c)throw new Lt(c.error,"failed to get fee for message");if(c.result===null)throw new Error("invalid blockhash");return c.result}async getRecentPrioritizationFees(t){var c;const e=(c=t==null?void 0:t.lockedWritableAccounts)==null?void 0:c.map(u=>u.toBase58()),n=e!=null&&e.length?[e]:[],o=await this._rpcRequest("getRecentPrioritizationFees",n),i=gt(o,Vm);if("error"in i)throw new Lt(i.error,"failed to get recent prioritization fees");return i.result}async getRecentBlockhash(t){try{return(await this.getRecentBlockhashAndContext(t)).value}catch(e){throw new Error("failed to get recent blockhash: "+e)}}async getLatestBlockhash(t){try{return(await this.getLatestBlockhashAndContext(t)).value}catch(e){throw new Error("failed to get recent blockhash: "+e)}}async getLatestBlockhashAndContext(t){const{commitment:e,config:n}=Fe(t),o=this._buildArgs([],e,void 0,n),i=await this._rpcRequest("getLatestBlockhash",o),c=gt(i,Ow);if("error"in c)throw new Lt(c.error,"failed to get latest blockhash");return c.result}async isBlockhashValid(t,e){const{commitment:n,config:o}=Fe(e),i=this._buildArgs([t],n,void 0,o),c=await this._rpcRequest("isBlockhashValid",i),u=gt(c,Fw);if("error"in u)throw new Lt(u.error,"failed to determine if the blockhash `"+t+"`is valid");return u.result}async getVersion(){const t=await this._rpcRequest("getVersion",[]),e=gt(t,le(zm));if("error"in e)throw new Lt(e.error,"failed to get version");return e.result}async getGenesisHash(){const t=await this._rpcRequest("getGenesisHash",[]),e=gt(t,le(pt()));if("error"in e)throw new Lt(e.error,"failed to get genesis hash");return e.result}async getBlock(t,e){const{commitment:n,config:o}=Fe(e),i=this._buildArgsAtLeastConfirmed([t],n,void 0,o),c=await this._rpcRequest("getBlock",i);try{switch(o==null?void 0:o.transactionDetails){case"accounts":{const u=gt(c,kw);if("error"in u)throw u.error;return u.result}case"none":{const u=gt(c,Mw);if("error"in u)throw u.error;return u.result}default:{const u=gt(c,Iw);if("error"in u)throw u.error;const{result:p}=u;return p?{...p,transactions:p.transactions.map(({transaction:b,meta:_,version:B})=>({meta:_,transaction:{...b,message:yu(B,b.message)},version:B}))}:null}}}catch(u){throw new Lt(u,"failed to get confirmed block")}}async getParsedBlock(t,e){const{commitment:n,config:o}=Fe(e),i=this._buildArgsAtLeastConfirmed([t],n,"jsonParsed",o),c=await this._rpcRequest("getBlock",i);try{switch(o==null?void 0:o.transactionDetails){case"accounts":{const u=gt(c,Rw);if("error"in u)throw u.error;return u.result}case"none":{const u=gt(c,Cw);if("error"in u)throw u.error;return u.result}default:{const u=gt(c,Tw);if("error"in u)throw u.error;return u.result}}}catch(u){throw new Lt(u,"failed to get block")}}async getBlockProduction(t){let e,n;if(typeof t=="string")n=t;else if(t){const{commitment:u,...p}=t;n=u,e=p}const o=this._buildArgs([],n,"base64",e),i=await this._rpcRequest("getBlockProduction",o),c=gt(i,qm);if("error"in c)throw new Lt(c.error,"failed to get block production information");return c.result}async getTransaction(t,e){const{commitment:n,config:o}=Fe(e),i=this._buildArgsAtLeastConfirmed([t],n,void 0,o),c=await this._rpcRequest("getTransaction",i),u=gt(c,Eu);if("error"in u)throw new Lt(u.error,"failed to get transaction");const p=u.result;return p&&{...p,transaction:{...p.transaction,message:yu(p.version,p.transaction.message)}}}async getParsedTransaction(t,e){const{commitment:n,config:o}=Fe(e),i=this._buildArgsAtLeastConfirmed([t],n,"jsonParsed",o),c=await this._rpcRequest("getTransaction",i),u=gt(c,sa);if("error"in u)throw new Lt(u.error,"failed to get transaction");return u.result}async getParsedTransactions(t,e){const{commitment:n,config:o}=Fe(e),i=t.map(p=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([p],n,"jsonParsed",o)}));return(await this._rpcBatchRequest(i)).map(p=>{const b=gt(p,sa);if("error"in b)throw new Lt(b.error,"failed to get transactions");return b.result})}async getTransactions(t,e){const{commitment:n,config:o}=Fe(e),i=t.map(p=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([p],n,void 0,o)}));return(await this._rpcBatchRequest(i)).map(p=>{const b=gt(p,Eu);if("error"in b)throw new Lt(b.error,"failed to get transactions");const _=b.result;return _&&{..._,transaction:{..._.transaction,message:yu(_.version,_.transaction.message)}}})}async getConfirmedBlock(t,e){const n=this._buildArgsAtLeastConfirmed([t],e),o=await this._rpcRequest("getConfirmedBlock",n),i=gt(o,Lw);if("error"in i)throw new Lt(i.error,"failed to get confirmed block");const c=i.result;if(!c)throw new Error("Confirmed block "+t+" not found");const u={...c,transactions:c.transactions.map(({transaction:p,meta:b})=>{const _=new On(p.message);return{meta:b,transaction:{...p,message:_}}})};return{...u,transactions:u.transactions.map(({transaction:p,meta:b})=>({meta:b,transaction:Jr.populate(p.message,p.signatures)}))}}async getBlocks(t,e,n){const o=this._buildArgsAtLeastConfirmed(e!==void 0?[t,e]:[t],n),i=await this._rpcRequest("getBlocks",o),c=gt(i,le(Et(V())));if("error"in c)throw new Lt(c.error,"failed to get blocks");return c.result}async getBlockSignatures(t,e){const n=this._buildArgsAtLeastConfirmed([t],e,void 0,{transactionDetails:"signatures",rewards:!1}),o=await this._rpcRequest("getBlock",n),i=gt(o,g0);if("error"in i)throw new Lt(i.error,"failed to get block");const c=i.result;if(!c)throw new Error("Block "+t+" not found");return c}async getConfirmedBlockSignatures(t,e){const n=this._buildArgsAtLeastConfirmed([t],e,void 0,{transactionDetails:"signatures",rewards:!1}),o=await this._rpcRequest("getConfirmedBlock",n),i=gt(o,g0);if("error"in i)throw new Lt(i.error,"failed to get confirmed block");const c=i.result;if(!c)throw new Error("Confirmed block "+t+" not found");return c}async getConfirmedTransaction(t,e){const n=this._buildArgsAtLeastConfirmed([t],e),o=await this._rpcRequest("getConfirmedTransaction",n),i=gt(o,Eu);if("error"in i)throw new Lt(i.error,"failed to get transaction");const c=i.result;if(!c)return c;const u=new On(c.transaction.message),p=c.transaction.signatures;return{...c,transaction:Jr.populate(u,p)}}async getParsedConfirmedTransaction(t,e){const n=this._buildArgsAtLeastConfirmed([t],e,"jsonParsed"),o=await this._rpcRequest("getConfirmedTransaction",n),i=gt(o,sa);if("error"in i)throw new Lt(i.error,"failed to get confirmed transaction");return i.result}async getParsedConfirmedTransactions(t,e){const n=t.map(c=>({methodName:"getConfirmedTransaction",args:this._buildArgsAtLeastConfirmed([c],e,"jsonParsed")}));return(await this._rpcBatchRequest(n)).map(c=>{const u=gt(c,sa);if("error"in u)throw new Lt(u.error,"failed to get confirmed transactions");return u.result})}async getConfirmedSignaturesForAddress(t,e,n){let o={},i=await this.getFirstAvailableBlock();for(;!("until"in o)&&(e--,!(e<=0||e<i));)try{const p=await this.getConfirmedBlockSignatures(e,"finalized");p.signatures.length>0&&(o.until=p.signatures[p.signatures.length-1].toString())}catch(p){if(p instanceof Error&&p.message.includes("skipped"))continue;throw p}let c=await this.getSlot("finalized");for(;!("before"in o)&&(n++,!(n>c));)try{const p=await this.getConfirmedBlockSignatures(n);p.signatures.length>0&&(o.before=p.signatures[p.signatures.length-1].toString())}catch(p){if(p instanceof Error&&p.message.includes("skipped"))continue;throw p}return(await this.getConfirmedSignaturesForAddress2(t,o)).map(p=>p.signature)}async getConfirmedSignaturesForAddress2(t,e,n){const o=this._buildArgsAtLeastConfirmed([t.toBase58()],n,void 0,e),i=await this._rpcRequest("getConfirmedSignaturesForAddress2",o),c=gt(i,cw);if("error"in c)throw new Lt(c.error,"failed to get confirmed signatures for address");return c.result}async getSignaturesForAddress(t,e,n){const o=this._buildArgsAtLeastConfirmed([t.toBase58()],n,void 0,e),i=await this._rpcRequest("getSignaturesForAddress",o),c=gt(i,uw);if("error"in c)throw new Lt(c.error,"failed to get signatures for address");return c.result}async getAddressLookupTable(t,e){const{context:n,value:o}=await this.getAccountInfoAndContext(t,e);let i=null;return o!==null&&(i=new r0({key:t,state:r0.deserialize(o.data)})),{context:n,value:i}}async getNonceAndContext(t,e){const{context:n,value:o}=await this.getAccountInfoAndContext(t,e);let i=null;return o!==null&&(i=du.fromAccountData(o.data)),{context:n,value:i}}async getNonce(t,e){return await this.getNonceAndContext(t,e).then(n=>n.value).catch(n=>{throw new Error("failed to get nonce for account "+t.toBase58()+": "+n)})}async requestAirdrop(t,e){const n=await this._rpcRequest("requestAirdrop",[t.toBase58(),e]),o=gt(n,Dw);if("error"in o)throw new Lt(o.error,`airdrop to ${t.toBase58()} failed`);return o.result}async _blockhashWithExpiryBlockHeight(t){if(!t){for(;this._pollingBlockhash;)await So(100);const n=Date.now()-this._blockhashInfo.lastFetch>=km;if(this._blockhashInfo.latestBlockhash!==null&&!n)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const t=Date.now(),e=this._blockhashInfo.latestBlockhash,n=e?e.blockhash:null;for(let o=0;o<50;o++){const i=await this.getLatestBlockhash("finalized");if(n!==i.blockhash)return this._blockhashInfo={latestBlockhash:i,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},i;await So(pm/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-t}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(t){const{commitment:e,config:n}=Fe(t),o=this._buildArgs([],e,"base64",n),i=await this._rpcRequest("getStakeMinimumDelegation",o),c=gt(i,He(V()));if("error"in c)throw new Lt(c.error,"failed to get stake minimum delegation");return c.result}async simulateTransaction(t,e,n){if("message"in t){const U=t.serialize(),R=ue.Buffer.from(U).toString("base64");if(Array.isArray(e)||n!==void 0)throw new Error("Invalid arguments");const P=e||{};P.encoding="base64","commitment"in P||(P.commitment=this.commitment);const F=[R,P],L=await this._rpcRequest("simulateTransaction",F),z=gt(L,o0);if("error"in z)throw new Error("failed to simulate transaction: "+z.error.message);return z.result}let o;if(t instanceof Jr){let O=t;o=new Jr,o.feePayer=O.feePayer,o.instructions=t.instructions,o.nonceInfo=O.nonceInfo,o.signatures=O.signatures}else o=Jr.populate(t),o._message=o._json=void 0;if(e!==void 0&&!Array.isArray(e))throw new Error("Invalid arguments");const i=e;if(o.nonceInfo&&i)o.sign(...i);else{let O=this._disableBlockhashCaching;for(;;){const U=await this._blockhashWithExpiryBlockHeight(O);if(o.lastValidBlockHeight=U.lastValidBlockHeight,o.recentBlockhash=U.blockhash,!i)break;if(o.sign(...i),!o.signature)throw new Error("!signature");const R=o.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(R)&&!this._blockhashInfo.transactionSignatures.includes(R)){this._blockhashInfo.simulatedSignatures.push(R);break}else O=!0}}const c=o._compile(),u=c.serialize(),b=o._serialize(u).toString("base64"),_={encoding:"base64",commitment:this.commitment};if(n){const O=(Array.isArray(n)?n:c.nonProgramIds()).map(U=>U.toBase58());_.accounts={encoding:"base64",addresses:O}}i&&(_.sigVerify=!0);const B=[b,_],C=await this._rpcRequest("simulateTransaction",B),k=gt(C,o0);if("error"in k){let O;if("data"in k.error&&(O=k.error.data.logs,O&&Array.isArray(O))){const U=`
    `,R=U+O.join(U);console.error(k.error.message,R)}throw new t0("failed to simulate transaction: "+k.error.message,O)}return k.result}async sendTransaction(t,e,n){if("version"in t){if(e&&Array.isArray(e))throw new Error("Invalid arguments");const c=t.serialize();return await this.sendRawTransaction(c,e)}if(e===void 0||!Array.isArray(e))throw new Error("Invalid arguments");const o=e;if(t.nonceInfo)t.sign(...o);else{let c=this._disableBlockhashCaching;for(;;){const u=await this._blockhashWithExpiryBlockHeight(c);if(t.lastValidBlockHeight=u.lastValidBlockHeight,t.recentBlockhash=u.blockhash,t.sign(...o),!t.signature)throw new Error("!signature");const p=t.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(p))c=!0;else{this._blockhashInfo.transactionSignatures.push(p);break}}}const i=t.serialize();return await this.sendRawTransaction(i,n)}async sendRawTransaction(t,e){const n=vo(t).toString("base64");return await this.sendEncodedTransaction(n,e)}async sendEncodedTransaction(t,e){const n={encoding:"base64"},o=e&&e.skipPreflight,i=e&&e.preflightCommitment||this.commitment;e&&e.maxRetries!=null&&(n.maxRetries=e.maxRetries),e&&e.minContextSlot!=null&&(n.minContextSlot=e.minContextSlot),o&&(n.skipPreflight=o),i&&(n.preflightCommitment=i);const c=[t,n],u=await this._rpcRequest("sendTransaction",c),p=gt(u,zw);if("error"in p){let b;throw"data"in p.error&&(b=p.error.data.logs),new t0("failed to send transaction: "+p.error.message,b)}return p.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(t){this._rpcWebSocketConnected=!1,console.error("ws error:",t.message)}_wsOnClose(t){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),t===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([e,n])=>{this._setSubscription(e,{...n,state:"pending"})})}_setSubscription(t,e){var o;const n=(o=this._subscriptionsByHash[t])==null?void 0:o.state;if(this._subscriptionsByHash[t]=e,n!==e.state){const i=this._subscriptionStateChangeCallbacksByHash[t];i&&i.forEach(c=>{try{c(e.state)}catch{}})}}_onSubscriptionStateChange(t,e){var i;const n=this._subscriptionHashByClientSubscriptionId[t];if(n==null)return()=>{};const o=(i=this._subscriptionStateChangeCallbacksByHash)[n]||(i[n]=new Set);return o.add(e),()=>{o.delete(e),o.size===0&&delete this._subscriptionStateChangeCallbacksByHash[n]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(n){n instanceof Error&&console.log(`Error when closing socket connection: ${n.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const t=this._rpcWebSocketGeneration,e=()=>t===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async n=>{const o=this._subscriptionsByHash[n];if(o!==void 0)switch(o.state){case"pending":case"unsubscribed":if(o.callbacks.size===0){delete this._subscriptionsByHash[n],o.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[o.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:i,method:c}=o;try{this._setSubscription(n,{...o,state:"subscribing"});const u=await this._rpcWebSocket.call(c,i);this._setSubscription(n,{...o,serverSubscriptionId:u,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[u]=o.callbacks,await this._updateSubscriptions()}catch(u){if(u instanceof Error&&console.error(`${c} error for argument`,i,u.message),!e())return;this._setSubscription(n,{...o,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":o.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:i,unsubscribeMethod:c}=o;if(this._subscriptionsAutoDisposedByRpc.has(i))this._subscriptionsAutoDisposedByRpc.delete(i);else{this._setSubscription(n,{...o,state:"unsubscribing"}),this._setSubscription(n,{...o,state:"unsubscribing"});try{await this._rpcWebSocket.call(c,[i])}catch(u){if(u instanceof Error&&console.error(`${c} error:`,u.message),!e())return;this._setSubscription(n,{...o,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(n,{...o,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(t,e){const n=this._subscriptionCallbacksByServerSubscriptionId[t];n!==void 0&&n.forEach(o=>{try{o(...e)}catch(i){console.error(i)}})}_wsOnAccountNotification(t){const{result:e,subscription:n}=gt(t,fw);this._handleServerNotification(n,[e.value,e.context])}_makeSubscription(t,e){const n=this._nextClientSubscriptionId++,o=Qh([t.method,e],!0),i=this._subscriptionsByHash[o];return i===void 0?this._subscriptionsByHash[o]={...t,args:e,callbacks:new Set([t.callback]),state:"pending"}:i.callbacks.add(t.callback),this._subscriptionHashByClientSubscriptionId[n]=o,this._subscriptionDisposeFunctionsByClientSubscriptionId[n]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[n],delete this._subscriptionHashByClientSubscriptionId[n];const c=this._subscriptionsByHash[o];Oe(c!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${n}`),c.callbacks.delete(t.callback),await this._updateSubscriptions()},this._updateSubscriptions(),n}onAccountChange(t,e,n){const o=this._buildArgs([t.toBase58()],n||this._commitment||"finalized","base64");return this._makeSubscription({callback:e,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},o)}async removeAccountChangeListener(t){await this._unsubscribeClientSubscription(t,"account change")}_wsOnProgramAccountNotification(t){const{result:e,subscription:n}=gt(t,hw);this._handleServerNotification(n,[{accountId:e.value.pubkey,accountInfo:e.value.account},e.context])}onProgramAccountChange(t,e,n,o){const i=this._buildArgs([t.toBase58()],n||this._commitment||"finalized","base64",o?{filters:o}:void 0);return this._makeSubscription({callback:e,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},i)}async removeProgramAccountChangeListener(t){await this._unsubscribeClientSubscription(t,"program account change")}onLogs(t,e,n){const o=this._buildArgs([typeof t=="object"?{mentions:[t.toString()]}:t],n||this._commitment||"finalized");return this._makeSubscription({callback:e,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},o)}async removeOnLogsListener(t){await this._unsubscribeClientSubscription(t,"logs")}_wsOnLogsNotification(t){const{result:e,subscription:n}=gt(t,Ww);this._handleServerNotification(n,[e.value,e.context])}_wsOnSlotNotification(t){const{result:e,subscription:n}=gt(t,pw);this._handleServerNotification(n,[e])}onSlotChange(t){return this._makeSubscription({callback:t,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(t){await this._unsubscribeClientSubscription(t,"slot change")}_wsOnSlotUpdatesNotification(t){const{result:e,subscription:n}=gt(t,yw);this._handleServerNotification(n,[e])}onSlotUpdate(t){return this._makeSubscription({callback:t,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(t){await this._unsubscribeClientSubscription(t,"slot update")}async _unsubscribeClientSubscription(t,e){const n=this._subscriptionDisposeFunctionsByClientSubscriptionId[t];n?await n():console.warn(`Ignored unsubscribe request because an active subscription with id \`${t}\` for '${e}' events could not be found.`)}_buildArgs(t,e,n,o){const i=e||this._commitment;if(i||n||o){let c={};n&&(c.encoding=n),i&&(c.commitment=i),o&&(c=Object.assign(c,o)),t.push(c)}return t}_buildArgsAtLeastConfirmed(t,e,n,o){const i=e||this._commitment;if(i&&!["confirmed","finalized"].includes(i))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(t,e,n,o)}_wsOnSignatureNotification(t){const{result:e,subscription:n}=gt(t,mw);e.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(n),this._handleServerNotification(n,e.value==="receivedSignature"?[{type:"received"},e.context]:[{type:"status",result:e.value},e.context])}onSignature(t,e,n){const o=this._buildArgs([t],n||this._commitment||"finalized"),i=this._makeSubscription({callback:(c,u)=>{if(c.type==="status"){e(c.result,u);try{this.removeSignatureListener(i)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return i}onSignatureWithOptions(t,e,n){const{commitment:o,...i}={...n,commitment:n&&n.commitment||this._commitment||"finalized"},c=this._buildArgs([t],o,void 0,i),u=this._makeSubscription({callback:(p,b)=>{e(p,b);try{this.removeSignatureListener(u)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},c);return u}async removeSignatureListener(t){await this._unsubscribeClientSubscription(t,"signature result")}_wsOnRootNotification(t){const{result:e,subscription:n}=gt(t,ww);this._handleServerNotification(n,[e])}onRootChange(t){return this._makeSubscription({callback:t,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(t){await this._unsubscribeClientSubscription(t,"root change")}}Object.freeze({CreateLookupTable:{index:0,layout:kt([Pt("instruction"),Bo("recentSlot"),xe("bumpSeed")])},FreezeLookupTable:{index:1,layout:kt([Pt("instruction")])},ExtendLookupTable:{index:2,layout:kt([Pt("instruction"),Bo(),mr(de(),Si(Pt(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:kt([Pt("instruction")])},CloseLookupTable:{index:4,layout:kt([Pt("instruction")])}}),new Gt("AddressLookupTab1e1111111111111111111111111"),Object.freeze({RequestUnits:{index:0,layout:kt([xe("instruction"),Pt("units"),Pt("additionalFee")])},RequestHeapFrame:{index:1,layout:kt([xe("instruction"),Pt("bytes")])},SetComputeUnitLimit:{index:2,layout:kt([xe("instruction"),Pt("units")])},SetComputeUnitPrice:{index:3,layout:kt([xe("instruction"),Bo("microLamports")])}}),new Gt("ComputeBudget111111111111111111111111111111"),kt([xe("numSignatures"),xe("padding"),Yr("signatureOffset"),Yr("signatureInstructionIndex"),Yr("publicKeyOffset"),Yr("publicKeyInstructionIndex"),Yr("messageDataOffset"),Yr("messageDataSize"),Yr("messageInstructionIndex")]),new Gt("Ed25519SigVerify111111111111111111111111111"),fu.utils.isValidPrivateKey,fu.getPublicKey,kt([xe("numSignatures"),Yr("signatureOffset"),xe("signatureInstructionIndex"),Yr("ethAddressOffset"),xe("ethAddressInstructionIndex"),Yr("messageDataOffset"),Yr("messageDataSize"),xe("messageInstructionIndex"),Re(20,"ethAddress"),Re(64,"signature"),xe("recoveryId")]),new Gt("KeccakSecp256k11111111111111111111111111111");var y0;new Gt("StakeConfig11111111111111111111111111111111");let m0=class{constructor(t,e,n){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=t,this.epoch=e,this.custodian=n}};y0=m0,m0.default=new y0(0,0,Gt.default),Object.freeze({Initialize:{index:0,layout:kt([Pt("instruction"),um(),fm()])},Authorize:{index:1,layout:kt([Pt("instruction"),de("newAuthorized"),Pt("stakeAuthorizationType")])},Delegate:{index:2,layout:kt([Pt("instruction")])},Split:{index:3,layout:kt([Pt("instruction"),Nr("lamports")])},Withdraw:{index:4,layout:kt([Pt("instruction"),Nr("lamports")])},Deactivate:{index:5,layout:kt([Pt("instruction")])},Merge:{index:7,layout:kt([Pt("instruction")])},AuthorizeWithSeed:{index:8,layout:kt([Pt("instruction"),de("newAuthorized"),Pt("stakeAuthorizationType"),_o("authoritySeed"),de("authorityOwner")])}}),new Gt("Stake11111111111111111111111111111111111111"),Object.freeze({InitializeAccount:{index:0,layout:kt([Pt("instruction"),lm()])},Authorize:{index:1,layout:kt([Pt("instruction"),de("newAuthorized"),Pt("voteAuthorizationType")])},Withdraw:{index:3,layout:kt([Pt("instruction"),Nr("lamports")])},AuthorizeWithSeed:{index:10,layout:kt([Pt("instruction"),hm()])}}),new Gt("Vote111111111111111111111111111111111111111"),new Gt("Va1idator1nfo111111111111111111111111111111"),ct({name:pt(),website:Ht(pt()),details:Ht(pt()),keybaseUsername:Ht(pt())}),new Gt("Vote111111111111111111111111111111111111111"),kt([de("nodePubkey"),de("authorizedWithdrawer"),xe("commission"),cr(),mr(kt([cr("slot"),Pt("confirmationCount")]),Si(Pt(),-8),"votes"),xe("rootSlotValid"),cr("rootSlot"),cr(),mr(kt([cr("epoch"),de("authorizedVoter")]),Si(Pt(),-8),"authorizedVoters"),kt([mr(kt([de("authorizedPubkey"),cr("epochOfLastAuthorizedSwitch"),cr("targetEpoch")]),32,"buf"),cr("idx"),xe("isEmpty")],"priorVoters"),cr(),mr(kt([cr("epoch"),cr("credits"),cr("prevCredits")]),Si(Pt(),-8),"epochCredits"),kt([cr("slot"),cr("timestamp")],"lastTimestamp")]);const w0={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function _u(r,t){const e=t===!1?"http":"https";if(!r)return w0[e].devnet;const n=w0[e][r];if(!n)throw new Error(`Unknown ${e} cluster: ${r}`);return n}const b0=j.createContext({});function Kw(){return j.useContext(b0)}const Gw=({children:r,endpoint:t,config:e={commitment:"confirmed"}})=>{const n=j.useMemo(()=>new jw(t,e),[t,e]);return j.createElement(b0.Provider,{value:{connection:n}},r)};var Vw=au();const Zw=on(Vw);let Ir=class extends Error{constructor(t,e){super(t),this.error=e}},Io=class extends Ir{constructor(){super(...arguments),this.name="WalletNotReadyError"}};class fs extends Ir{constructor(){super(...arguments),this.name="WalletConfigError"}}let ls=class extends Ir{constructor(){super(...arguments),this.name="WalletConnectionError"}},v0=class extends Ir{constructor(){super(...arguments),this.name="WalletDisconnectedError"}},Yw=class extends Ir{constructor(){super(...arguments),this.name="WalletDisconnectionError"}},Mo=class extends Ir{constructor(){super(...arguments),this.name="WalletAccountError"}},x0=class extends Ir{constructor(){super(...arguments),this.name="WalletPublicKeyError"}},En=class extends Ir{constructor(){super(...arguments),this.name="WalletNotConnectedError"}},ki=class extends Ir{constructor(){super(...arguments),this.name="WalletSendTransactionError"}},Ti=class extends Ir{constructor(){super(...arguments),this.name="WalletSignTransactionError"}},E0=class extends Ir{constructor(){super(...arguments),this.name="WalletSignMessageError"}};class _0 extends Ir{constructor(){super(...arguments),this.name="WalletSignInError"}}var Te;(function(r){r.Installed="Installed",r.NotDetected="NotDetected",r.Loadable="Loadable",r.Unsupported="Unsupported"})(Te||(Te={}));let S0=class extends Zw{get connected(){return!!this.publicKey}async autoConnect(){await this.connect()}async prepareTransaction(t,e,n={}){const o=this.publicKey;if(!o)throw new En;return t.feePayer=t.feePayer||o,t.recentBlockhash=t.recentBlockhash||(await e.getLatestBlockhash({commitment:n.preflightCommitment,minContextSlot:n.minContextSlot})).blockhash,t}};function Ri(r){return"version"in r}let Xw=class extends S0{async sendTransaction(t,e,n={}){let o=!0;try{if(Ri(t)){if(!this.supportedTransactionVersions)throw new ki("Sending versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(t.version))throw new ki(`Sending transaction version ${t.version} isn't supported by this wallet`);try{t=await this.signTransaction(t);const i=t.serialize();return await e.sendRawTransaction(i,n)}catch(i){throw i instanceof Ti?(o=!1,i):new ki(i==null?void 0:i.message,i)}}else try{const{signers:i,...c}=n;t=await this.prepareTransaction(t,e,c),i!=null&&i.length&&t.partialSign(...i),t=await this.signTransaction(t);const u=t.serialize();return await e.sendRawTransaction(u,c)}catch(i){throw i instanceof Ti?(o=!1,i):new ki(i==null?void 0:i.message,i)}}catch(i){throw o&&this.emit("error",i),i}}async signAllTransactions(t){for(const n of t)if(Ri(n)){if(!this.supportedTransactionVersions)throw new Ti("Signing versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(n.version))throw new Ti(`Signing transaction version ${n.version} isn't supported by this wallet`)}const e=[];for(const n of t)e.push(await this.signTransaction(n));return e}},Jw=class extends Xw{};class Qw extends Jw{}const Xn="solana:signAndSendTransaction",Su="solana:signIn",hs="solana:signMessage",fr="solana:signTransaction",B0="standard:connect",A0="standard:disconnect",I0="standard:events";function tb(r){return B0 in r.features&&I0 in r.features&&(Xn in r.features||fr in r.features)}var ds;(function(r){r.Mainnet="mainnet-beta",r.Testnet="testnet",r.Devnet="devnet"})(ds||(ds={}));class M0 extends Ir{constructor(){super(...arguments),this.name="WalletNotSelectedError"}}const eb=[],aa={autoConnect:!1,connecting:!1,connected:!1,disconnecting:!1,select(){un("call","select")},connect(){return Promise.reject(un("call","connect"))},disconnect(){return Promise.reject(un("call","disconnect"))},sendTransaction(){return Promise.reject(un("call","sendTransaction"))},signTransaction(){return Promise.reject(un("call","signTransaction"))},signAllTransactions(){return Promise.reject(un("call","signAllTransactions"))},signMessage(){return Promise.reject(un("call","signMessage"))},signIn(){return Promise.reject(un("call","signIn"))}};Object.defineProperty(aa,"wallets",{get(){return un("read","wallets"),eb}}),Object.defineProperty(aa,"wallet",{get(){return un("read","wallet"),null}}),Object.defineProperty(aa,"publicKey",{get(){return un("read","publicKey"),null}});function un(r,t){const e=new Error(`You have tried to ${r} "${t}" on a WalletContext without providing one. Make sure to render a WalletProvider as an ancestor of the component that uses WalletContext.`);return console.error(e),e}const k0=j.createContext(aa);function ps(){return j.useContext(k0)}function rb(r,t){const e=j.useState(()=>{try{const i=localStorage.getItem(r);if(i)return JSON.parse(i)}catch(i){typeof window<"u"&&console.error(i)}return t}),n=e[0],o=j.useRef(!0);return j.useEffect(()=>{if(o.current){o.current=!1;return}try{n===null?localStorage.removeItem(r):localStorage.setItem(r,JSON.stringify(n))}catch(i){typeof window<"u"&&console.error(i)}},[n,r]),e}function Bu(r){switch(r){case"processed":case"confirmed":case"finalized":case void 0:return r;case"recent":return"processed";case"single":case"singleGossip":return"confirmed";case"max":case"root":return"finalized";default:return}}const T0="solana:mainnet",nb="solana:devnet",ib="solana:testnet",ob="solana:localnet",sb="https://api.mainnet-beta.solana.com";function ab(r){return r.includes(sb)?T0:/\bdevnet\b/i.test(r)?nb:/\btestnet\b/i.test(r)?ib:/\blocalhost\b/i.test(r)||/\b127\.0\.0\.1\b/.test(r)?ob:T0}function cb(r){let t=`${r.domain} wants you to sign in with your Solana account:
`;t+=`${r.address}`,r.statement&&(t+=`

${r.statement}`);const e=[];if(r.uri&&e.push(`URI: ${r.uri}`),r.version&&e.push(`Version: ${r.version}`),r.chainId&&e.push(`Chain ID: ${r.chainId}`),r.nonce&&e.push(`Nonce: ${r.nonce}`),r.issuedAt&&e.push(`Issued At: ${r.issuedAt}`),r.expirationTime&&e.push(`Expiration Time: ${r.expirationTime}`),r.notBefore&&e.push(`Not Before: ${r.notBefore}`),r.requestId&&e.push(`Request ID: ${r.requestId}`),r.resources){e.push("Resources:");for(const n of r.resources)e.push(`- ${n}`)}return e.length&&(t+=`

${e.join(`
`)}`),t}const Fn={ERROR_ASSOCIATION_PORT_OUT_OF_RANGE:"ERROR_ASSOCIATION_PORT_OUT_OF_RANGE",ERROR_FORBIDDEN_WALLET_BASE_URL:"ERROR_FORBIDDEN_WALLET_BASE_URL",ERROR_SECURE_CONTEXT_REQUIRED:"ERROR_SECURE_CONTEXT_REQUIRED",ERROR_SESSION_CLOSED:"ERROR_SESSION_CLOSED",ERROR_SESSION_TIMEOUT:"ERROR_SESSION_TIMEOUT",ERROR_WALLET_NOT_FOUND:"ERROR_WALLET_NOT_FOUND",ERROR_INVALID_PROTOCOL_VERSION:"ERROR_INVALID_PROTOCOL_VERSION"};class $n extends Error{constructor(...t){const[e,n,o]=t;super(n),this.code=e,this.data=o,this.name="SolanaMobileWalletAdapterError"}}class R0 extends Error{constructor(...t){const[e,n,o,i]=t;super(o),this.code=n,this.data=i,this.jsonRpcMessageId=e,this.name="SolanaMobileWalletAdapterProtocolError"}}function tr(r,t,e,n){function o(i){return i instanceof e?i:new e(function(c){c(i)})}return new(e||(e=Promise))(function(i,c){function u(_){try{b(n.next(_))}catch(B){c(B)}}function p(_){try{b(n.throw(_))}catch(B){c(B)}}function b(_){_.done?i(_.value):o(_.value).then(u,p)}b((n=n.apply(r,t||[])).next())})}function ub(r,t){return tr(this,void 0,void 0,function*(){const e=yield crypto.subtle.exportKey("raw",r),n=yield crypto.subtle.sign({hash:"SHA-256",name:"ECDSA"},t,e),o=new Uint8Array(e.byteLength+n.byteLength);return o.set(new Uint8Array(e),0),o.set(new Uint8Array(n),e.byteLength),o})}function fb(r){return window.btoa(r)}function lb(r){return cb(r)}function hb(r){return fb(lb(r))}const db="solana:signTransactions",C0="solana:cloneAuthorization";function pb(r,t){return new Proxy({},{get(e,n){return e[n]==null&&(e[n]=function(o){return tr(this,void 0,void 0,function*(){const{method:i,params:c}=gb(n,o,r),u=yield t(i,c);return i==="authorize"&&c.sign_in_payload&&!u.sign_in_result&&(u.sign_in_result=yield mb(c.sign_in_payload,u,t)),yb(n,u,r)})}),e[n]},defineProperty(){return!1},deleteProperty(){return!1}})}function gb(r,t,e){let n=t,o=r.toString().replace(/[A-Z]/g,i=>`_${i.toLowerCase()}`).toLowerCase();switch(r){case"authorize":{let{chain:i}=n;if(e==="legacy"){switch(i){case"solana:testnet":{i="testnet";break}case"solana:devnet":{i="devnet";break}case"solana:mainnet":{i="mainnet-beta";break}default:i=n.cluster}n.cluster=i}else{switch(i){case"testnet":case"devnet":{i=`solana:${i}`;break}case"mainnet-beta":{i="solana:mainnet";break}}n.chain=i}}case"reauthorize":{const{auth_token:i,identity:c}=n;if(i)switch(e){case"legacy":{o="reauthorize",n={auth_token:i,identity:c};break}default:{o="authorize";break}}break}}return{method:o,params:n}}function yb(r,t,e){switch(r){case"getCapabilities":{const n=t;switch(e){case"legacy":{const o=[db];return n.supports_clone_authorization===!0&&o.push(C0),Object.assign(Object.assign({},n),{features:o})}case"v1":return Object.assign(Object.assign({},n),{supports_sign_and_send_transactions:!0,supports_clone_authorization:n.features.includes(C0)})}}}return t}function mb(r,t,e){var n;return tr(this,void 0,void 0,function*(){const o=(n=r.domain)!==null&&n!==void 0?n:window.location.host,i=t.accounts[0].address,c=hb(Object.assign(Object.assign({},r),{domain:o,address:i})),u=yield e("sign_messages",{addresses:[i],payloads:[c]});return{address:i,signed_message:c,signature:u.signed_payloads[0].slice(c.length)}})}const Ci=4;function wb(r){if(r>=4294967296)throw new Error("Outbound sequence number overflow. The maximum sequence number is 32-bytes.");const t=new ArrayBuffer(Ci);return new DataView(t).setUint32(0,r,!1),new Uint8Array(t)}const Au=12,L0=65;function bb(r,t,e){return tr(this,void 0,void 0,function*(){const n=wb(t),o=new Uint8Array(Au);crypto.getRandomValues(o);const i=yield crypto.subtle.encrypt(O0(n,o),e,new TextEncoder().encode(r)),c=new Uint8Array(n.byteLength+o.byteLength+i.byteLength);return c.set(new Uint8Array(n),0),c.set(new Uint8Array(o),n.byteLength),c.set(new Uint8Array(i),n.byteLength+o.byteLength),c})}function U0(r,t){return tr(this,void 0,void 0,function*(){const e=r.slice(0,Ci),n=r.slice(Ci,Ci+Au),o=r.slice(Ci+Au),i=yield crypto.subtle.decrypt(O0(e,n),t,o);return vb().decode(i)})}function O0(r,t){return{additionalData:r,iv:t,name:"AES-GCM",tagLength:128}}let Iu;function vb(){return Iu===void 0&&(Iu=new TextDecoder("utf-8")),Iu}function xb(){return tr(this,void 0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDSA",namedCurve:"P-256"},!1,["sign"])})}function Eb(){return tr(this,void 0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!1,["deriveKey","deriveBits"])})}function _b(r,t){return tr(this,void 0,void 0,function*(){const e=JSON.stringify(r),n=r.id;return bb(e,n,t)})}function Sb(r,t){return tr(this,void 0,void 0,function*(){const e=yield U0(r,t),n=JSON.parse(e);if(Object.hasOwnProperty.call(n,"error"))throw new R0(n.id,n.error.code,n.error.message);return n})}function Bb(r,t,e){return tr(this,void 0,void 0,function*(){const[n,o]=yield Promise.all([crypto.subtle.exportKey("raw",t),crypto.subtle.importKey("raw",r.slice(0,L0),{name:"ECDH",namedCurve:"P-256"},!1,[])]),i=yield crypto.subtle.deriveBits({name:"ECDH",public:o},e,256),c=yield crypto.subtle.importKey("raw",i,"HKDF",!1,["deriveKey"]);return yield crypto.subtle.deriveKey({name:"HKDF",hash:"SHA-256",salt:new Uint8Array(n),info:new Uint8Array},c,{name:"AES-GCM",length:128},!1,["encrypt","decrypt"])})}function Ab(r,t){return tr(this,void 0,void 0,function*(){const e=yield U0(r,t),n=JSON.parse(e);let o="legacy";if(Object.hasOwnProperty.call(n,"v"))switch(n.v){case 1:case"1":case"v1":o="v1";break;case"legacy":o="legacy";break;default:throw new $n(Fn.ERROR_INVALID_PROTOCOL_VERSION,`Unknown/unsupported protocol version: ${n.v}`)}return{protocol_version:o}})}function Ib(){return F0(49152+Math.floor(Math.random()*(65535-49152+1)))}function F0(r){if(r<49152||r>65535)throw new $n(Fn.ERROR_ASSOCIATION_PORT_OUT_OF_RANGE,`Association port number must be between 49152 and 65535. ${r} given.`,{port:r});return r}function Mb(r){let t="";const e=new Uint8Array(r),n=e.byteLength;for(let o=0;o<n;o++)t+=String.fromCharCode(e[o]);return window.btoa(t)}function kb(r){return r.replace(/[/+=]/g,t=>({"/":"_","+":"-","=":"."})[t])}const Tb="solana-wallet";function $0(r){return r.replace(/(^\/+|\/+$)/g,"").split("/")}function Rb(r,t){let e=null;if(t){try{e=new URL(t)}catch{}if((e==null?void 0:e.protocol)!=="https:")throw new $n(Fn.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}e||(e=new URL(`${Tb}:/`));const n=r.startsWith("/")?r:[...$0(e.pathname),...$0(r)].join("/");return new URL(n,e)}function Cb(r,t,e,n=["v1"]){return tr(this,void 0,void 0,function*(){const o=F0(t),i=yield crypto.subtle.exportKey("raw",r),c=Mb(i),u=Rb("v1/associate/local",e);return u.searchParams.set("association",kb(c)),u.searchParams.set("port",`${o}`),n.forEach(p=>{u.searchParams.set("v",p)}),u})}const ca={Firefox:0,Other:1};function w3(r){return r}function Lb(){return navigator.userAgent.indexOf("Firefox/")!==-1?ca.Firefox:ca.Other}function Ub(){return new Promise((r,t)=>{function e(){clearTimeout(o),window.removeEventListener("blur",n)}function n(){e(),r()}window.addEventListener("blur",n);const o=setTimeout(()=>{e(),t()},2e3)})}let gs=null;function Ob(r){gs==null&&(gs=document.createElement("iframe"),gs.style.display="none",document.body.appendChild(gs)),gs.contentWindow.location.href=r.toString()}function Fb(r,t){return tr(this,void 0,void 0,function*(){const e=Ib(),n=yield Cb(r,e,t);if(n.protocol==="https:")window.location.assign(n);else try{const o=Lb();switch(o){case ca.Firefox:Ob(n);break;case ca.Other:{const i=Ub();window.location.assign(n),yield i;break}default:}}catch{throw new $n(Fn.ERROR_WALLET_NOT_FOUND,"Found no installed wallet that supports the mobile wallet protocol.")}return e})}const N0={retryDelayScheduleMs:[150,150,200,500,500,750,750,1e3],timeoutMs:3e4},$b="com.solana.mobilewalletadapter.v1";function Nb(){if(typeof window>"u"||window.isSecureContext!==!0)throw new $n(Fn.ERROR_SECURE_CONTEXT_REQUIRED,"The mobile wallet adapter protocol must be used in a secure context (`https`).")}function Pb(r){let t;try{t=new URL(r)}catch{throw new $n(Fn.ERROR_FORBIDDEN_WALLET_BASE_URL,"Invalid base URL supplied by wallet")}if(t.protocol!=="https:")throw new $n(Fn.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}function P0(r){return new DataView(r).getUint32(0,!1)}function Db(r,t){return tr(this,void 0,void 0,function*(){Nb();const e=yield xb(),n=yield Fb(e.publicKey,t==null?void 0:t.baseUri),o=`ws://localhost:${n}/solana-wallet`;let i;const c=(()=>{const _=[...N0.retryDelayScheduleMs];return()=>_.length>1?_.shift():_[0]})();let u=1,p=0,b={__type:"disconnected"};return new Promise((_,B)=>{let C;const k={},O=()=>tr(this,void 0,void 0,function*(){if(b.__type!=="connecting"){console.warn(`Expected adapter state to be \`connecting\` at the moment the websocket opens. Got \`${b.__type}\`.`);return}const{associationKeypair:$}=b;C.removeEventListener("open",O);const N=yield Eb();C.send(yield ub(N.publicKey,$.privateKey)),b={__type:"hello_req_sent",associationPublicKey:$.publicKey,ecdhPrivateKey:N.privateKey}}),U=$=>{$.wasClean?b={__type:"disconnected"}:B(new $n(Fn.ERROR_SESSION_CLOSED,`The wallet session dropped unexpectedly (${$.code}: ${$.reason}).`,{closeEvent:$})),F()},R=$=>tr(this,void 0,void 0,function*(){F(),Date.now()-i>=N0.timeoutMs?B(new $n(Fn.ERROR_SESSION_TIMEOUT,`Failed to connect to the wallet websocket on port ${n}.`)):(yield new Promise(N=>{const q=c();L=window.setTimeout(N,q)}),z())}),P=$=>tr(this,void 0,void 0,function*(){const N=yield $.data.arrayBuffer();switch(b.__type){case"connected":try{const q=N.slice(0,Ci),W=P0(q);if(W!==p+1)throw new Error("Encrypted message has invalid sequence number");p=W;const et=yield Sb(N,b.sharedSecret),ht=k[et.id];delete k[et.id],ht.resolve(et.result)}catch(q){if(q instanceof R0){const W=k[q.jsonRpcMessageId];delete k[q.jsonRpcMessageId],W.reject(q)}else throw q}break;case"hello_req_sent":{const q=yield Bb(N,b.associationPublicKey,b.ecdhPrivateKey),W=N.slice(L0),et=W.byteLength!==0?yield(()=>tr(this,void 0,void 0,function*(){const Q=W.slice(0,Ci),mt=P0(Q);if(mt!==p+1)throw new Error("Encrypted message has invalid sequence number");return p=mt,Ab(W,q)}))():{protocol_version:"legacy"};b={__type:"connected",sharedSecret:q,sessionProperties:et};const ht=pb(et.protocol_version,(Q,mt)=>tr(this,void 0,void 0,function*(){const I=u++;return C.send(yield _b({id:I,jsonrpc:"2.0",method:Q,params:mt??{}},q)),new Promise((f,d)=>{k[I]={resolve(y){switch(Q){case"authorize":case"reauthorize":{const{wallet_uri_base:w}=y;if(w!=null)try{Pb(w)}catch(v){d(v);return}break}}f(y)},reject:d}})}));try{_(yield r(ht))}catch(Q){B(Q)}finally{F(),C.close()}break}}});let F,L;const z=()=>{F&&F(),b={__type:"connecting",associationKeypair:e},i===void 0&&(i=Date.now()),C=new WebSocket(o,[$b]),C.addEventListener("open",O),C.addEventListener("close",U),C.addEventListener("error",R),C.addEventListener("message",P),F=()=>{window.clearTimeout(L),C.removeEventListener("open",O),C.removeEventListener("close",U),C.removeEventListener("error",R),C.removeEventListener("message",P)}};z()})})}function zb(r){if(r.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),e=0;e<t.length;e++)t[e]=255;for(var n=0;n<r.length;n++){var o=r.charAt(n),i=o.charCodeAt(0);if(t[i]!==255)throw new TypeError(o+" is ambiguous");t[i]=n}var c=r.length,u=r.charAt(0),p=Math.log(c)/Math.log(256),b=Math.log(256)/Math.log(c);function _(k){if(k instanceof Uint8Array||(ArrayBuffer.isView(k)?k=new Uint8Array(k.buffer,k.byteOffset,k.byteLength):Array.isArray(k)&&(k=Uint8Array.from(k))),!(k instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(k.length===0)return"";for(var O=0,U=0,R=0,P=k.length;R!==P&&k[R]===0;)R++,O++;for(var F=(P-R)*b+1>>>0,L=new Uint8Array(F);R!==P;){for(var z=k[R],$=0,N=F-1;(z!==0||$<U)&&N!==-1;N--,$++)z+=256*L[N]>>>0,L[N]=z%c>>>0,z=z/c>>>0;if(z!==0)throw new Error("Non-zero carry");U=$,R++}for(var q=F-U;q!==F&&L[q]===0;)q++;for(var W=u.repeat(O);q<F;++q)W+=r.charAt(L[q]);return W}function B(k){if(typeof k!="string")throw new TypeError("Expected String");if(k.length===0)return new Uint8Array;for(var O=0,U=0,R=0;k[O]===u;)U++,O++;for(var P=(k.length-O)*p+1>>>0,F=new Uint8Array(P);k[O];){var L=t[k.charCodeAt(O)];if(L===255)return;for(var z=0,$=P-1;(L!==0||z<R)&&$!==-1;$--,z++)L+=c*F[$]>>>0,F[$]=L%256>>>0,L=L/256>>>0;if(L!==0)throw new Error("Non-zero carry");R=z,O++}for(var N=P-R;N!==P&&F[N]===0;)N++;for(var q=new Uint8Array(U+(P-N)),W=U;N!==P;)q[W++]=F[N++];return q}function C(k){var O=B(k);if(O)return O;throw new Error("Non-base"+c+" character")}return{encode:_,decodeUnsafe:B,decode:C}}var qb=zb,Wb=qb("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");const Hb=on(Wb);function Mu(r,t){var e={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&t.indexOf(n)<0&&(e[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(r);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(r,n[o])&&(e[n[o]]=r[n[o]]);return e}function ua(r,t,e,n){function o(i){return i instanceof e?i:new e(function(c){c(i)})}return new(e||(e=Promise))(function(i,c){function u(_){try{b(n.next(_))}catch(B){c(B)}}function p(_){try{b(n.throw(_))}catch(B){c(B)}}function b(_){_.done?i(_.value):o(_.value).then(u,p)}b((n=n.apply(r,t||[])).next())})}function D0(r){return window.btoa(String.fromCharCode.call(null,...r))}function ku(r){return new Uint8Array(window.atob(r).split("").map(t=>t.charCodeAt(0)))}function z0(r){const t="version"in r?r.serialize():r.serialize({requireAllSignatures:!1,verifySignatures:!1});return D0(t)}function jb(r){const e=r[0]*Eo+1;return hu.deserializeMessageVersion(r.slice(e,r.length))==="legacy"?Jr.from(r):ss.deserialize(r)}function Kb(r,t){return ua(this,void 0,void 0,function*(){return yield Db(n=>{const o=new Proxy({},{get(i,c){if(i[c]==null)switch(c){case"signAndSendTransactions":i[c]=function(u){var{minContextSlot:p,commitment:b,skipPreflight:_,maxRetries:B,waitForCommitmentToSendNextTransaction:C,transactions:k}=u,O=Mu(u,["minContextSlot","commitment","skipPreflight","maxRetries","waitForCommitmentToSendNextTransaction","transactions"]);return ua(this,void 0,void 0,function*(){const U=k.map(z0),R={min_context_slot:p,commitment:b,skip_preflight:_,max_retries:B,wait_for_commitment_to_send_next_transaction:C},{signatures:P}=yield n.signAndSendTransactions(Object.assign(Object.assign(Object.assign({},O),Object.values(R).some(L=>L!=null)?{options:R}:null),{payloads:U}));return P.map(ku).map(Hb.encode)})};break;case"signMessages":i[c]=function(u){var{payloads:p}=u,b=Mu(u,["payloads"]);return ua(this,void 0,void 0,function*(){const _=p.map(D0),{signed_payloads:B}=yield n.signMessages(Object.assign(Object.assign({},b),{payloads:_}));return B.map(ku)})};break;case"signTransactions":i[c]=function(u){var{transactions:p}=u,b=Mu(u,["transactions"]);return ua(this,void 0,void 0,function*(){const _=p.map(z0),{signed_payloads:B}=yield n.signTransactions(Object.assign(Object.assign({},b),{payloads:_}));return B.map(ku).map(jb)})};break;default:{i[c]=n[c];break}}return i[c]},defineProperty(){return!1},deleteProperty(){return!1}});return r(o)},t)})}function we(r,t,e,n){function o(i){return i instanceof e?i:new e(function(c){c(i)})}return new(e||(e=Promise))(function(i,c){function u(_){try{b(n.next(_))}catch(B){c(B)}}function p(_){try{b(n.throw(_))}catch(B){c(B)}}function b(_){_.done?i(_.value):o(_.value).then(u,p)}b((n=n.apply(r,t||[])).next())})}function fa(r){return new Uint8Array(window.atob(r).split("").map(t=>t.charCodeAt(0)))}function Gb(){return typeof window<"u"&&window.isSecureContext&&typeof document<"u"&&/android/i.test(navigator.userAgent)}const Jn="Mobile Wallet Adapter",Vb=64;function Zb(r){const t=fa(r);return new Gt(t)}function q0(r){return"version"in r}class Yb extends Qw{constructor(t){var e;super(),this.supportedTransactionVersions=new Set(["legacy",0]),this.name=Jn,this.url="https://solanamobile.com/wallets",this.icon="data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjI4IiB3aWR0aD0iMjgiIHZpZXdCb3g9Ii0zIDAgMjggMjgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iI0RDQjhGRiI+PHBhdGggZD0iTTE3LjQgMTcuNEgxNXYyLjRoMi40di0yLjRabTEuMi05LjZoLTIuNHYyLjRoMi40VjcuOFoiLz48cGF0aCBkPSJNMjEuNiAzVjBoLTIuNHYzaC0zLjZWMGgtMi40djNoLTIuNHY2LjZINC41YTIuMSAyLjEgMCAxIDEgMC00LjJoMi43VjNINC41QTQuNSA0LjUgMCAwIDAgMCA3LjVWMjRoMjEuNnYtNi42aC0yLjR2NC4ySDIuNFYxMS41Yy41LjMgMS4yLjQgMS44LjVoNy41QTYuNiA2LjYgMCAwIDAgMjQgOVYzaC0yLjRabTAgNS43YTQuMiA0LjIgMCAxIDEtOC40IDBWNS40aDguNHYzLjNaIi8+PC9nPjwvc3ZnPg==",this._connecting=!1,this._connectionGeneration=0,this._readyState=Gb()?Te.Loadable:Te.Unsupported,this._authorizationResultCache=t.authorizationResultCache,this._addressSelector=t.addressSelector,this._appIdentity=t.appIdentity,this._chain=(e=t.chain)!==null&&e!==void 0?e:t.cluster,this._onWalletNotFound=t.onWalletNotFound,this._readyState!==Te.Unsupported&&this._authorizationResultCache.get().then(n=>{n&&this.declareWalletAsInstalled()})}get publicKey(){if(this._publicKey==null&&this._selectedAddress!=null)try{this._publicKey=Zb(this._selectedAddress)}catch(t){throw new x0(t instanceof Error&&(t==null?void 0:t.message)||"Unknown error",t)}return this._publicKey?this._publicKey:null}get connected(){return!!this._authorizationResult}get connecting(){return this._connecting}get readyState(){return this._readyState}declareWalletAsInstalled(){this._readyState!==Te.Installed&&this.emit("readyStateChange",this._readyState=Te.Installed)}runWithGuard(t){return we(this,void 0,void 0,function*(){try{return yield t()}catch(e){throw this.emit("error",e),e}})}autoConnect_DO_NOT_USE_OR_YOU_WILL_BE_FIRED(){return we(this,void 0,void 0,function*(){return yield this.autoConnect()})}autoConnect(){return we(this,void 0,void 0,function*(){if(!(this.connecting||this.connected))return yield this.runWithGuard(()=>we(this,void 0,void 0,function*(){if(this._readyState!==Te.Installed&&this._readyState!==Te.Loadable)throw new Io;this._connecting=!0;try{const t=yield this._authorizationResultCache.get();t&&this.handleAuthorizationResult(t)}catch(t){throw new ls(t instanceof Error&&t.message||"Unknown error",t)}finally{this._connecting=!1}}))})}connect(){return we(this,void 0,void 0,function*(){if(!(this.connecting||this.connected))return yield this.runWithGuard(()=>we(this,void 0,void 0,function*(){if(this._readyState!==Te.Installed&&this._readyState!==Te.Loadable)throw new Io;this._connecting=!0;try{yield this.performAuthorization()}catch(t){throw new ls(t instanceof Error&&t.message||"Unknown error",t)}finally{this._connecting=!1}}))})}performAuthorization(t){return we(this,void 0,void 0,function*(){try{const e=yield this._authorizationResultCache.get();return e?(this.handleAuthorizationResult(e),e):yield this.transact(n=>we(this,void 0,void 0,function*(){const o=yield n.authorize({chain:this._chain,identity:this._appIdentity,sign_in_payload:t});return Promise.all([this._authorizationResultCache.set(o),this.handleAuthorizationResult(o)]),o}))}catch(e){throw new ls(e instanceof Error&&e.message||"Unknown error",e)}})}handleAuthorizationResult(t){var e;return we(this,void 0,void 0,function*(){const n=this._authorizationResult==null||((e=this._authorizationResult)===null||e===void 0?void 0:e.accounts.length)!==t.accounts.length||this._authorizationResult.accounts.some((o,i)=>o.address!==t.accounts[i].address);if(this._authorizationResult=t,this.declareWalletAsInstalled(),n){const o=yield this._addressSelector.select(t.accounts.map(({address:i})=>i));o!==this._selectedAddress&&(this._selectedAddress=o,delete this._publicKey,this.emit("connect",this.publicKey))}})}performReauthorization(t,e){return we(this,void 0,void 0,function*(){try{const n=yield t.authorize({auth_token:e,identity:this._appIdentity});Promise.all([this._authorizationResultCache.set(n),this.handleAuthorizationResult(n)])}catch(n){throw this.disconnect(),new v0(n instanceof Error&&(n==null?void 0:n.message)||"Unknown error",n)}})}disconnect(){return we(this,void 0,void 0,function*(){this._authorizationResultCache.clear(),this._connecting=!1,this._connectionGeneration++,delete this._authorizationResult,delete this._publicKey,delete this._selectedAddress,this.emit("disconnect")})}transact(t){var e;return we(this,void 0,void 0,function*(){const n=(e=this._authorizationResult)===null||e===void 0?void 0:e.wallet_uri_base,o=n?{baseUri:n}:void 0,i=this._connectionGeneration;try{return yield Kb(t,o)}catch(c){throw this._connectionGeneration!==i&&(yield new Promise(()=>{})),c instanceof Error&&c.name==="SolanaMobileWalletAdapterError"&&c.code==="ERROR_WALLET_NOT_FOUND"&&(yield this._onWalletNotFound(this)),c}})}assertIsAuthorized(){if(!this._authorizationResult||!this._selectedAddress)throw new En;return{authToken:this._authorizationResult.auth_token,selectedAddress:this._selectedAddress}}performSignTransactions(t){return we(this,void 0,void 0,function*(){const{authToken:e}=this.assertIsAuthorized();try{return yield this.transact(n=>we(this,void 0,void 0,function*(){return yield this.performReauthorization(n,e),yield n.signTransactions({transactions:t})}))}catch(n){throw new Ti(n==null?void 0:n.message,n)}})}sendTransaction(t,e,n){return we(this,void 0,void 0,function*(){return yield this.runWithGuard(()=>we(this,void 0,void 0,function*(){const{authToken:o}=this.assertIsAuthorized(),i=n==null?void 0:n.minContextSlot;try{return yield this.transact(c=>we(this,void 0,void 0,function*(){function u(){let B;switch(e.commitment){case"confirmed":case"finalized":case"processed":B=e.commitment;break;default:B="finalized"}let C;switch(n==null?void 0:n.preflightCommitment){case"confirmed":case"finalized":case"processed":C=n.preflightCommitment;break;case void 0:C=B;break;default:C="finalized"}return(C==="finalized"?2:C==="confirmed"?1:0)<(B==="finalized"?2:B==="confirmed"?1:0)?C:B}const[p,b,_]=yield Promise.all([c.getCapabilities(),this.performReauthorization(c,o),q0(t)?null:(()=>we(this,void 0,void 0,function*(){var B;if(t.feePayer||(t.feePayer=(B=this.publicKey)!==null&&B!==void 0?B:void 0),t.recentBlockhash==null){const{blockhash:C}=yield e.getLatestBlockhash({commitment:u()});t.recentBlockhash=C}}))()]);if(p.supports_sign_and_send_transactions)return(yield c.signAndSendTransactions({minContextSlot:i,transactions:[t]}))[0];{const[B]=yield c.signTransactions({transactions:[t]});if(q0(B))return yield e.sendTransaction(B);{const C=B.serialize();return yield e.sendRawTransaction(C,Object.assign(Object.assign({},n),{preflightCommitment:u()}))}}}))}catch(c){throw new ki(c==null?void 0:c.message,c)}}))})}signTransaction(t){return we(this,void 0,void 0,function*(){return yield this.runWithGuard(()=>we(this,void 0,void 0,function*(){const[e]=yield this.performSignTransactions([t]);return e}))})}signAllTransactions(t){return we(this,void 0,void 0,function*(){return yield this.runWithGuard(()=>we(this,void 0,void 0,function*(){return yield this.performSignTransactions(t)}))})}signMessage(t){return we(this,void 0,void 0,function*(){return yield this.runWithGuard(()=>we(this,void 0,void 0,function*(){const{authToken:e,selectedAddress:n}=this.assertIsAuthorized();try{return yield this.transact(o=>we(this,void 0,void 0,function*(){yield this.performReauthorization(o,e);const[i]=yield o.signMessages({addresses:[n],payloads:[t]});return i.slice(-Vb)}))}catch(o){throw new E0(o==null?void 0:o.message,o)}}))})}signIn(t){return we(this,void 0,void 0,function*(){return yield this.runWithGuard(()=>we(this,void 0,void 0,function*(){var e,n;if(this._readyState!==Te.Installed&&this._readyState!==Te.Loadable)throw new Io;this._connecting=!0;try{const o=yield this.performAuthorization(Object.assign(Object.assign({},t),{domain:(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:window.location.host}));if(!o.sign_in_result)throw new Error("Sign in failed, no sign in result returned by wallet");const i=o.sign_in_result.address;return{account:Object.assign(Object.assign({},(n=o.accounts.find(u=>u.address==i))!==null&&n!==void 0?n:{address:i}),{publicKey:fa(i)}),signedMessage:fa(o.sign_in_result.signed_message),signature:fa(o.sign_in_result.signature)}}catch(o){throw new ls(o instanceof Error&&o.message||"Unknown error",o)}finally{this._connecting=!1}}))})}}function Xb(){return{select(r){return we(this,void 0,void 0,function*(){return r[0]})}}}const Tu="SolanaMobileWalletAdapterDefaultAuthorizationCache";function Jb(){let r;try{r=window.localStorage}catch{}return{clear(){return we(this,void 0,void 0,function*(){if(r)try{r.removeItem(Tu)}catch{}})},get(){return we(this,void 0,void 0,function*(){if(r)try{return JSON.parse(r.getItem(Tu))||void 0}catch{}})},set(t){return we(this,void 0,void 0,function*(){if(r)try{r.setItem(Tu,JSON.stringify(t))}catch{}})}}}function Qb(r){return we(this,void 0,void 0,function*(){typeof window<"u"&&window.location.assign(r.url)})}function tv(){return Qb}globalThis&&globalThis.__classPrivateFieldSet,globalThis&&globalThis.__classPrivateFieldGet;function ev(r,t){if(r===t)return!0;const e=r.length;if(e!==t.length)return!1;for(let n=0;n<e;n++)if(r[n]!==t[n])return!1;return!0}var Ye=globalThis&&globalThis.__classPrivateFieldSet||function(r,t,e,n,o){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?r!==t||!o:!t.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?o.call(r,e):o?o.value=e:t.set(r,e),e},Tt=globalThis&&globalThis.__classPrivateFieldGet||function(r,t,e,n){if(e==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?r!==t||!n:!t.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e==="m"?n:e==="a"?n.call(r):n?n.value:t.get(r)},lr,Rr,Li,Ui,Oi,ys,la,be,ha,Ru,da,Cu,ms,Lu,W0,H0,j0,K0;class rv extends S0{constructor({wallet:t}){super(),lr.add(this),Rr.set(this,void 0),Li.set(this,void 0),Ui.set(this,void 0),Oi.set(this,void 0),ys.set(this,void 0),la.set(this,void 0),be.set(this,void 0),ha.set(this,typeof window>"u"||typeof document>"u"?Te.Unsupported:Te.Installed),Lu.set(this,e=>{if("accounts"in e){const n=Tt(this,be,"f").accounts[0];Tt(this,Rr,"f")&&!Tt(this,Oi,"f")&&n!==Tt(this,Rr,"f")&&(n?Tt(this,lr,"m",da).call(this,n):(this.emit("error",new v0),Tt(this,lr,"m",Cu).call(this)))}"features"in e&&Tt(this,lr,"m",ms).call(this)}),Ye(this,be,t,"f"),Ye(this,Rr,null,"f"),Ye(this,Li,null,"f"),Ye(this,Ui,!1,"f"),Ye(this,Oi,!1,"f"),Ye(this,ys,Tt(this,be,"f").features[I0].on("change",Tt(this,Lu,"f")),"f"),Tt(this,lr,"m",ms).call(this)}get name(){return Tt(this,be,"f").name}get url(){return"https://github.com/solana-labs/wallet-standard"}get icon(){return Tt(this,be,"f").icon}get readyState(){return Tt(this,ha,"f")}get publicKey(){return Tt(this,Li,"f")}get connecting(){return Tt(this,Ui,"f")}get supportedTransactionVersions(){return Tt(this,la,"f")}get wallet(){return Tt(this,be,"f")}get standard(){return!0}destroy(){Ye(this,Rr,null,"f"),Ye(this,Li,null,"f"),Ye(this,Ui,!1,"f"),Ye(this,Oi,!1,"f");const t=Tt(this,ys,"f");t&&(Ye(this,ys,null,"f"),t())}async autoConnect(){return Tt(this,lr,"m",Ru).call(this,{silent:!0})}async connect(){return Tt(this,lr,"m",Ru).call(this)}async disconnect(){if(A0 in Tt(this,be,"f").features)try{Ye(this,Oi,!0,"f"),await Tt(this,be,"f").features[A0].disconnect()}catch(t){this.emit("error",new Yw(t==null?void 0:t.message,t))}finally{Ye(this,Oi,!1,"f")}Tt(this,lr,"m",Cu).call(this)}async sendTransaction(t,e,n={}){try{const o=Tt(this,Rr,"f");if(!o)throw new En;let i;if(Xn in Tt(this,be,"f").features)if(o.features.includes(Xn))i=Xn;else if(fr in Tt(this,be,"f").features&&o.features.includes(fr))i=fr;else throw new Mo;else if(fr in Tt(this,be,"f").features){if(!o.features.includes(fr))throw new Mo;i=fr}else throw new fs;const c=ab(e.rpcEndpoint);if(!o.chains.includes(c))throw new ki;try{const{signers:u,...p}=n;let b;if(Ri(t)?(u!=null&&u.length&&t.sign(u),b=t.serialize()):(t=await this.prepareTransaction(t,e,p),u!=null&&u.length&&t.partialSign(...u),b=new Uint8Array(t.serialize({requireAllSignatures:!1,verifySignatures:!1}))),i===Xn){const[_]=await Tt(this,be,"f").features[Xn].signAndSendTransaction({account:o,chain:c,transaction:b,options:{preflightCommitment:Bu(p.preflightCommitment||e.commitment),skipPreflight:p.skipPreflight,maxRetries:p.maxRetries,minContextSlot:p.minContextSlot}});return or.encode(_.signature)}else{const[_]=await Tt(this,be,"f").features[fr].signTransaction({account:o,chain:c,transaction:b,options:{preflightCommitment:Bu(p.preflightCommitment||e.commitment),minContextSlot:p.minContextSlot}});return await e.sendRawTransaction(_.signedTransaction,{...p,preflightCommitment:Bu(p.preflightCommitment||e.commitment)})}}catch(u){throw u instanceof Ir?u:new ki(u==null?void 0:u.message,u)}}catch(o){throw this.emit("error",o),o}}}Rr=new WeakMap,Li=new WeakMap,Ui=new WeakMap,Oi=new WeakMap,ys=new WeakMap,la=new WeakMap,be=new WeakMap,ha=new WeakMap,Lu=new WeakMap,lr=new WeakSet,Ru=async function(t){try{if(this.connected||this.connecting)return;if(Tt(this,ha,"f")!==Te.Installed)throw new Io;if(Ye(this,Ui,!0,"f"),!Tt(this,be,"f").accounts.length)try{await Tt(this,be,"f").features[B0].connect(t)}catch(n){throw new ls(n==null?void 0:n.message,n)}const e=Tt(this,be,"f").accounts[0];if(!e)throw new Mo;Tt(this,lr,"m",da).call(this,e)}catch(e){throw this.emit("error",e),e}finally{Ye(this,Ui,!1,"f")}},da=function(t){let e;try{e=new Gt(t.address)}catch(n){throw new x0(n==null?void 0:n.message,n)}Ye(this,Rr,t,"f"),Ye(this,Li,e,"f"),Tt(this,lr,"m",ms).call(this),this.emit("connect",e)},Cu=function(){Ye(this,Rr,null,"f"),Ye(this,Li,null,"f"),Tt(this,lr,"m",ms).call(this),this.emit("disconnect")},ms=function(){var e,n;const t=Xn in Tt(this,be,"f").features?Tt(this,be,"f").features[Xn].supportedTransactionVersions:Tt(this,be,"f").features[fr].supportedTransactionVersions;Ye(this,la,ev(t,["legacy"])?null:new Set(t),"f"),fr in Tt(this,be,"f").features&&((e=Tt(this,Rr,"f"))!=null&&e.features.includes(fr))?(this.signTransaction=Tt(this,lr,"m",W0),this.signAllTransactions=Tt(this,lr,"m",H0)):(delete this.signTransaction,delete this.signAllTransactions),hs in Tt(this,be,"f").features&&((n=Tt(this,Rr,"f"))!=null&&n.features.includes(hs))?this.signMessage=Tt(this,lr,"m",j0):delete this.signMessage,Su in Tt(this,be,"f").features?this.signIn=Tt(this,lr,"m",K0):delete this.signIn},W0=async function(t){try{const e=Tt(this,Rr,"f");if(!e)throw new En;if(!(fr in Tt(this,be,"f").features))throw new fs;if(!e.features.includes(fr))throw new Mo;try{const o=(await Tt(this,be,"f").features[fr].signTransaction({account:e,transaction:Ri(t)?t.serialize():new Uint8Array(t.serialize({requireAllSignatures:!1,verifySignatures:!1}))}))[0].signedTransaction;return Ri(t)?ss.deserialize(o):Jr.from(o)}catch(n){throw n instanceof Ir?n:new Ti(n==null?void 0:n.message,n)}}catch(e){throw this.emit("error",e),e}},H0=async function(t){try{const e=Tt(this,Rr,"f");if(!e)throw new En;if(!(fr in Tt(this,be,"f").features))throw new fs;if(!e.features.includes(fr))throw new Mo;try{const n=await Tt(this,be,"f").features[fr].signTransaction(...t.map(o=>({account:e,transaction:Ri(o)?o.serialize():new Uint8Array(o.serialize({requireAllSignatures:!1,verifySignatures:!1}))})));return t.map((o,i)=>{const c=n[i].signedTransaction;return Ri(o)?ss.deserialize(c):Jr.from(c)})}catch(n){throw new Ti(n==null?void 0:n.message,n)}}catch(e){throw this.emit("error",e),e}},j0=async function(t){try{const e=Tt(this,Rr,"f");if(!e)throw new En;if(!(hs in Tt(this,be,"f").features))throw new fs;if(!e.features.includes(hs))throw new Mo;try{return(await Tt(this,be,"f").features[hs].signMessage({account:e,message:t}))[0].signature}catch(n){throw new E0(n==null?void 0:n.message,n)}}catch(e){throw this.emit("error",e),e}},K0=async function(t={}){try{if(!(Su in Tt(this,be,"f").features))throw new fs;let e;try{[e]=await Tt(this,be,"f").features[Su].signIn(t)}catch(n){throw new _0(n==null?void 0:n.message,n)}if(!e)throw new _0;return Tt(this,lr,"m",da).call(this,e.account),e}catch(e){throw this.emit("error",e),e}};const nv=tb;var iv=globalThis&&globalThis.__classPrivateFieldSet||function(r,t,e,n,o){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?r!==t||!o:!t.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?o.call(r,e):o?o.value=e:t.set(r,e),e},ov=globalThis&&globalThis.__classPrivateFieldGet||function(r,t,e,n){if(e==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?r!==t||!n:!t.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e==="m"?n:e==="a"?n.call(r):n?n.value:t.get(r)},pa;let zr;const ga=new Set,ko={};function sv(){if(zr||(zr=Object.freeze({register:G0,get:av,on:cv}),typeof window>"u"))return zr;const r=Object.freeze({register:G0});try{window.addEventListener("wallet-standard:register-wallet",({detail:t})=>t(r))}catch(t){console.error(`wallet-standard:register-wallet event listener could not be added
`,t)}try{window.dispatchEvent(new uv(r))}catch(t){console.error(`wallet-standard:app-ready event could not be dispatched
`,t)}return zr}function G0(...r){var t;return r=r.filter(e=>!ga.has(e)),r.length?(r.forEach(e=>ga.add(e)),(t=ko.register)==null||t.forEach(e=>Uu(()=>e(...r))),function(){var n;r.forEach(o=>ga.delete(o)),(n=ko.unregister)==null||n.forEach(o=>Uu(()=>o(...r)))}):()=>{}}function av(){return[...ga]}function cv(r,t){var e;return(e=ko[r])!=null&&e.push(t)||(ko[r]=[t]),function(){var o;ko[r]=(o=ko[r])==null?void 0:o.filter(i=>t!==i)}}function Uu(r){try{r()}catch(t){console.error(t)}}class uv extends Event{constructor(t){super("wallet-standard:app-ready",{bubbles:!1,cancelable:!1,composed:!1}),pa.set(this,void 0),iv(this,pa,t,"f")}get detail(){return ov(this,pa,"f")}get type(){return"wallet-standard:app-ready"}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}pa=new WeakMap;function fv(){if(zr||(zr=sv(),typeof window>"u"))return zr;const r=window.navigator.wallets||[];if(!Array.isArray(r))return console.error("window.navigator.wallets is not an array"),zr;const{register:t}=zr,e=(...n)=>n.forEach(o=>Uu(()=>o({register:t})));try{Object.defineProperty(window.navigator,"wallets",{value:Object.freeze({push:e})})}catch{return console.error("window.navigator.wallets could not be set"),zr}return e(...r),zr}function lv(r){const t=V0(()=>new Set),{get:e,on:n}=V0(()=>fv()),[o,i]=j.useState(()=>Z0(e()));j.useEffect(()=>{const u=[n("register",(...p)=>i(b=>[...b,...Z0(p)])),n("unregister",(...p)=>i(b=>b.filter(_=>p.some(B=>B===_.wallet))))];return()=>u.forEach(p=>p())},[n]);const c=hv(o);return j.useEffect(()=>{if(!c)return;const u=new Set(o);new Set(c.filter(b=>!u.has(b))).forEach(b=>b.destroy())},[c,o]),j.useEffect(()=>()=>o.forEach(u=>u.destroy()),[]),j.useMemo(()=>[...o,...r.filter(({name:u})=>o.some(p=>p.name===u)?(t.has(u)||(t.add(u),console.warn(`${u} was registered as a Standard Wallet. The Wallet Adapter for ${u} can be removed from your app.`)),!1):!0)],[o,r,t])}function V0(r){const t=j.useRef();return t.current||(t.current={value:r()}),t.current.value}function hv(r){const t=j.useRef();return j.useEffect(()=>{t.current=r}),t.current}function Z0(r){return r.filter(nv).map(t=>new rv({wallet:t}))}var To;(function(r){r[r.DESKTOP_WEB=0]="DESKTOP_WEB",r[r.MOBILE_WEB=1]="MOBILE_WEB"})(To||(To={}));function dv(r){return/(WebView|Version\/.+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+)|; wv\).+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+))/i.test(r)}function pv({adapters:r,userAgentString:t}){return r.some(e=>e.name!==Jn&&e.readyState===Te.Installed)?To.DESKTOP_WEB:t&&/android/i.test(t)&&!dv(t)?To.MOBILE_WEB:To.DESKTOP_WEB}function gv(r){return r?/devnet/i.test(r)?"devnet":/testnet/i.test(r)?"testnet":"mainnet-beta":"mainnet-beta"}function yv({children:r,wallets:t,adapter:e,isUnloadingRef:n,onAutoConnectRequest:o,onConnectError:i,onError:c,onSelectWallet:u}){const p=j.useRef(!1),[b,_]=j.useState(!1),B=j.useRef(!1),[C,k]=j.useState(!1),[O,U]=j.useState(()=>(e==null?void 0:e.publicKey)??null),[R,P]=j.useState(()=>(e==null?void 0:e.connected)??!1),F=j.useRef(c);j.useEffect(()=>(F.current=c,()=>{F.current=void 0}),[c]);const L=j.useRef((d,y)=>(n.current||(F.current?F.current(d,y):(console.error(d,y),d instanceof Io&&typeof window<"u"&&y&&window.open(y.url,"_blank"))),d)),[z,$]=j.useState(()=>t.map(d=>({adapter:d,readyState:d.readyState})).filter(({readyState:d})=>d!==Te.Unsupported));j.useEffect(()=>{$(y=>t.map((w,v)=>{const x=y[v];return x&&x.adapter===w&&x.readyState===w.readyState?x:{adapter:w,readyState:w.readyState}}).filter(({readyState:w})=>w!==Te.Unsupported));function d(y){$(w=>{const v=w.findIndex(({adapter:A})=>A===this);if(v===-1)return w;const{adapter:x}=w[v];return[...w.slice(0,v),{adapter:x,readyState:y},...w.slice(v+1)].filter(({readyState:A})=>A!==Te.Unsupported)})}return t.forEach(y=>y.on("readyStateChange",d,y)),()=>{t.forEach(y=>y.off("readyStateChange",d,y))}},[e,t]);const N=j.useMemo(()=>z.find(d=>d.adapter===e)??null,[e,z]);j.useEffect(()=>{if(!e)return;const d=v=>{U(v),p.current=!1,_(!1),P(!0),B.current=!1,k(!1)},y=()=>{n.current||(U(null),p.current=!1,_(!1),P(!1),B.current=!1,k(!1))},w=v=>{L.current(v,e)};return e.on("connect",d),e.on("disconnect",y),e.on("error",w),()=>{e.off("connect",d),e.off("disconnect",y),e.off("error",w),y()}},[e,n]);const q=j.useRef(!1);j.useEffect(()=>()=>{q.current=!1},[e]),j.useEffect(()=>{q.current||p.current||R||!o||!((N==null?void 0:N.readyState)===Te.Installed||(N==null?void 0:N.readyState)===Te.Loadable)||(p.current=!0,_(!0),q.current=!0,async function(){try{await o()}catch{i()}finally{_(!1),p.current=!1}}())},[R,o,i,N]);const W=j.useCallback(async(d,y,w)=>{if(!e)throw L.current(new M0);if(!R)throw L.current(new En,e);return await e.sendTransaction(d,y,w)},[e,R]),et=j.useMemo(()=>e&&"signTransaction"in e?async d=>{if(!R)throw L.current(new En,e);return await e.signTransaction(d)}:void 0,[e,R]),ht=j.useMemo(()=>e&&"signAllTransactions"in e?async d=>{if(!R)throw L.current(new En,e);return await e.signAllTransactions(d)}:void 0,[e,R]),Q=j.useMemo(()=>e&&"signMessage"in e?async d=>{if(!R)throw L.current(new En,e);return await e.signMessage(d)}:void 0,[e,R]),mt=j.useMemo(()=>e&&"signIn"in e?async d=>await e.signIn(d):void 0,[e]),I=j.useCallback(async()=>{if(p.current||B.current||N!=null&&N.adapter.connected)return;if(!N)throw L.current(new M0);const{adapter:d,readyState:y}=N;if(!(y===Te.Installed||y===Te.Loadable))throw L.current(new Io,d);p.current=!0,_(!0);try{await d.connect()}catch(w){throw i(),w}finally{_(!1),p.current=!1}},[i,N]),f=j.useCallback(async()=>{if(!B.current&&e){B.current=!0,k(!0);try{await e.disconnect()}finally{k(!1),B.current=!1}}},[e]);return j.createElement(k0.Provider,{value:{autoConnect:!!o,wallets:z,wallet:N,publicKey:O,connected:R,connecting:b,disconnecting:C,select:u,connect:I,disconnect:f,sendTransaction:W,signTransaction:et,signAllTransactions:ht,signMessage:Q,signIn:mt}},r)}let Ou;function mv(){var r;return Ou===void 0&&(Ou=((r=globalThis.navigator)==null?void 0:r.userAgent)??null),Ou}function ya(r){const t=mv();return pv({adapters:r,userAgentString:t})===To.MOBILE_WEB}function wv(){const r=globalThis.location;if(r)return`${r.protocol}//${r.host}`}function bv({children:r,wallets:t,autoConnect:e,localStorageKey:n="walletName",onError:o}){const{connection:i}=Kw(),c=lv(t),u=j.useMemo(()=>{if(!ya(c))return null;const F=c.find(L=>L.name===Jn);return F||new Yb({addressSelector:Xb(),appIdentity:{uri:wv()},authorizationResultCache:Jb(),cluster:gv(i==null?void 0:i.rpcEndpoint),onWalletNotFound:tv()})},[c,i==null?void 0:i.rpcEndpoint]),p=j.useMemo(()=>u==null||c.indexOf(u)!==-1?c:[u,...c],[c,u]),[b,_]=rb(n,ya(c)?Jn:null),B=j.useMemo(()=>p.find(F=>F.name===b)??null,[p,b]),C=j.useCallback(F=>{b!==F&&(B&&B.name!==Jn&&B.disconnect(),_(F))},[B,_,b]);j.useEffect(()=>{if(!B)return;function F(){U.current||b===Jn&&ya(c)||_(null)}return B.on("disconnect",F),()=>{B.off("disconnect",F)}},[B,c,_,b]);const k=j.useRef(!1),O=j.useMemo(()=>{if(!(!e||!B))return async()=>{(e===!0||await e(B))&&(k.current?await B.connect():await B.autoConnect())}},[e,B]),U=j.useRef(!1);j.useEffect(()=>{if(b===Jn&&ya(c)){U.current=!1;return}function F(){U.current=!0}return window.addEventListener("beforeunload",F),()=>{window.removeEventListener("beforeunload",F)}},[c,b]);const R=j.useCallback(()=>{B&&B.name!==Jn&&C(null)},[B,C]),P=j.useCallback(F=>{k.current=!0,C(F)},[C]);return j.createElement(yv,{wallets:p,adapter:B,isUnloadingRef:U,onAutoConnectRequest:O,onConnectError:R,onError:o,onSelectWallet:P},r)}function vv({state:r,onClick:t,children:e,className:n}){const{publicKey:o}=ps();if(!o)return null;const i=l1("btn",n);return Le.jsx("button",{className:i,onClick:t,disabled:r==="loading",children:e})}const Y0={setVisible(r){console.error(X0("call","setVisible"))},visible:!1};Object.defineProperty(Y0,"visible",{get(){return console.error(X0("read","visible")),!1}});function X0(r,t){return`You have tried to  ${r} "${t}" on a WalletModalContext without providing one. Make sure to render a WalletModalProvider as an ancestor of the component that uses WalletModalContext`}const J0=j.createContext(Y0);function Q0(){return j.useContext(J0)}function xv({onSelectWallet:r}){const{connect:t,connected:e,connecting:n,disconnect:o,disconnecting:i,publicKey:c,select:u,wallet:p,wallets:b}=ps();let _;n?_="connecting":e?_="connected":i?_="disconnecting":p?_="has-wallet":_="no-wallet";const B=j.useCallback(()=>{t().catch(()=>{})},[t]),C=j.useCallback(()=>{o().catch(()=>{})},[o]),k=j.useCallback(()=>{r({onSelectWallet:u,wallets:b})},[r,u,b]);return{buttonState:_,onConnect:_==="has-wallet"?B:void 0,onDisconnect:_!=="disconnecting"&&_!=="no-wallet"?C:void 0,onSelectWallet:k,publicKey:c??void 0,walletIcon:p==null?void 0:p.adapter.icon,walletName:p==null?void 0:p.adapter.name}}const td=r=>j.createElement("button",{className:`wallet-adapter-button ${r.className||""}`,disabled:r.disabled,style:r.style,onClick:r.onClick,tabIndex:r.tabIndex||0,type:"button"},r.startIcon&&j.createElement("i",{className:"wallet-adapter-button-start-icon"},r.startIcon),r.children,r.endIcon&&j.createElement("i",{className:"wallet-adapter-button-end-icon"},r.endIcon)),ed=({wallet:r,...t})=>r&&j.createElement("img",{src:r.adapter.icon,alt:`${r.adapter.name} icon`,...t});function Ev({walletIcon:r,walletName:t,...e}){return j.createElement(td,{...e,className:"wallet-adapter-button-trigger",startIcon:r&&t?j.createElement(ed,{wallet:{adapter:{icon:r,name:t}}}):void 0})}function _v({children:r,labels:t,...e}){const{setVisible:n}=Q0(),{buttonState:o,onConnect:i,onDisconnect:c,publicKey:u,walletIcon:p,walletName:b}=xv({onSelectWallet(){n(!0)}}),[_,B]=j.useState(!1),[C,k]=j.useState(!1),O=j.useRef(null);j.useEffect(()=>{const R=P=>{const F=O.current;!F||F.contains(P.target)||k(!1)};return document.addEventListener("mousedown",R),document.addEventListener("touchstart",R),()=>{document.removeEventListener("mousedown",R),document.removeEventListener("touchstart",R)}},[]);const U=j.useMemo(()=>{if(r)return r;if(u){const R=u.toBase58();return R.slice(0,4)+".."+R.slice(-4)}else return o==="connecting"||o==="has-wallet"?t[o]:t["no-wallet"]},[o,r,t,u]);return j.createElement("div",{className:"wallet-adapter-dropdown"},j.createElement(Ev,{...e,"aria-expanded":C,style:{pointerEvents:C?"none":"auto",...e.style},onClick:()=>{switch(o){case"no-wallet":n(!0);break;case"has-wallet":i&&i();break;case"connected":k(!0);break}},walletIcon:p,walletName:b},U),j.createElement("ul",{"aria-label":"dropdown-list",className:`wallet-adapter-dropdown-list ${C&&"wallet-adapter-dropdown-list-active"}`,ref:O,role:"menu"},u?j.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:async()=>{await navigator.clipboard.writeText(u.toBase58()),B(!0),setTimeout(()=>B(!1),400)},role:"menuitem"},_?t.copied:t["copy-address"]):null,j.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:()=>{n(!0),k(!1)},role:"menuitem"},t["change-wallet"]),c?j.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:()=>{c(),k(!1)},role:"menuitem"},t.disconnect):null))}const rd=({id:r,children:t,expanded:e=!1})=>{const n=j.useRef(null),o=j.useRef(!0),i="height 250ms ease-out",c=()=>{const p=n.current;p&&requestAnimationFrame(()=>{p.style.height=p.scrollHeight+"px"})},u=()=>{const p=n.current;p&&requestAnimationFrame(()=>{p.style.height=p.offsetHeight+"px",p.style.overflow="hidden",requestAnimationFrame(()=>{p.style.height="0"})})};return j.useLayoutEffect(()=>{e?c():u()},[e]),j.useLayoutEffect(()=>{const p=n.current;if(!p)return;function b(){p&&(p.style.overflow=e?"initial":"hidden",e&&(p.style.height="auto"))}function _(B){p&&B.target===p&&B.propertyName==="height"&&b()}return o.current&&(b(),o.current=!1),p.addEventListener("transitionend",_),()=>p.removeEventListener("transitionend",_)},[e]),j.createElement("div",{className:"wallet-adapter-collapse",id:r,ref:n,role:"region",style:{height:0,transition:o.current?void 0:i}},t)},Fu=({handleClick:r,tabIndex:t,wallet:e})=>j.createElement("li",null,j.createElement(td,{onClick:r,startIcon:j.createElement(ed,{wallet:e}),tabIndex:t},e.adapter.name,e.readyState===Te.Installed&&j.createElement("span",null,"Detected"))),Sv=()=>j.createElement("svg",{width:"97",height:"96",viewBox:"0 0 97 96",fill:"none",xmlns:"http://www.w3.org/2000/svg"},j.createElement("circle",{cx:"48.5",cy:"48",r:"48",fill:"url(#paint0_linear_880_5115)",fillOpacity:"0.1"}),j.createElement("circle",{cx:"48.5",cy:"48",r:"47",stroke:"url(#paint1_linear_880_5115)",strokeOpacity:"0.4",strokeWidth:"2"}),j.createElement("g",{clipPath:"url(#clip0_880_5115)"},j.createElement("path",{d:"M65.5769 28.1523H31.4231C27.6057 28.1523 24.5 31.258 24.5 35.0754V60.9215C24.5 64.7389 27.6057 67.8446 31.4231 67.8446H65.5769C69.3943 67.8446 72.5 64.7389 72.5 60.9215V35.0754C72.5 31.258 69.3943 28.1523 65.5769 28.1523ZM69.7308 52.1523H59.5769C57.2865 52.1523 55.4231 50.289 55.4231 47.9985C55.4231 45.708 57.2864 43.8446 59.5769 43.8446H69.7308V52.1523ZM69.7308 41.0754H59.5769C55.7595 41.0754 52.6539 44.1811 52.6539 47.9985C52.6539 51.8159 55.7595 54.9215 59.5769 54.9215H69.7308V60.9215C69.7308 63.2119 67.8674 65.0754 65.5769 65.0754H31.4231C29.1327 65.0754 27.2692 63.212 27.2692 60.9215V35.0754C27.2692 32.785 29.1326 30.9215 31.4231 30.9215H65.5769C67.8673 30.9215 69.7308 32.7849 69.7308 35.0754V41.0754Z",fill:"url(#paint2_linear_880_5115)"}),j.createElement("path",{d:"M61.4231 46.6172H59.577C58.8123 46.6172 58.1924 47.2371 58.1924 48.0018C58.1924 48.7665 58.8123 49.3863 59.577 49.3863H61.4231C62.1878 49.3863 62.8077 48.7664 62.8077 48.0018C62.8077 47.2371 62.1878 46.6172 61.4231 46.6172Z",fill:"url(#paint3_linear_880_5115)"})),j.createElement("defs",null,j.createElement("linearGradient",{id:"paint0_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},j.createElement("stop",{stopColor:"#9945FF"}),j.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),j.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),j.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),j.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),j.createElement("stop",{offset:"1",stopColor:"#00D18C"})),j.createElement("linearGradient",{id:"paint1_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},j.createElement("stop",{stopColor:"#9945FF"}),j.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),j.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),j.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),j.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),j.createElement("stop",{offset:"1",stopColor:"#00D18C"})),j.createElement("linearGradient",{id:"paint2_linear_880_5115",x1:"25.9583",y1:"68.7101",x2:"67.2337",y2:"23.7879",gradientUnits:"userSpaceOnUse"},j.createElement("stop",{stopColor:"#9945FF"}),j.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),j.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),j.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),j.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),j.createElement("stop",{offset:"1",stopColor:"#00D18C"})),j.createElement("linearGradient",{id:"paint3_linear_880_5115",x1:"58.3326",y1:"49.4467",x2:"61.0002",y2:"45.4453",gradientUnits:"userSpaceOnUse"},j.createElement("stop",{stopColor:"#9945FF"}),j.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),j.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),j.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),j.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),j.createElement("stop",{offset:"1",stopColor:"#00D18C"})),j.createElement("clipPath",{id:"clip0_880_5115"},j.createElement("rect",{width:"48",height:"48",fill:"white",transform:"translate(24.5 24)"})))),Bv=({className:r="",container:t="body"})=>{const e=j.useRef(null),{wallets:n,select:o}=ps(),{setVisible:i}=Q0(),[c,u]=j.useState(!1),[p,b]=j.useState(!1),[_,B]=j.useState(null),[C,k]=j.useMemo(()=>{const L=[],z=[];for(const $ of n)$.readyState===Te.Installed?L.push($):z.push($);return L.length?[L,z]:[z,[]]},[n]),O=j.useCallback(()=>{b(!1),setTimeout(()=>i(!1),150)},[i]),U=j.useCallback(L=>{L.preventDefault(),O()},[O]),R=j.useCallback((L,z)=>{o(z),U(L)},[o,U]),P=j.useCallback(()=>u(!c),[c]),F=j.useCallback(L=>{const z=e.current;if(!z)return;const $=z.querySelectorAll("button"),N=$[0],q=$[$.length-1];L.shiftKey?document.activeElement===N&&(q.focus(),L.preventDefault()):document.activeElement===q&&(N.focus(),L.preventDefault())},[e]);return j.useLayoutEffect(()=>{const L=$=>{$.key==="Escape"?O():$.key==="Tab"&&F($)},{overflow:z}=window.getComputedStyle(document.body);return setTimeout(()=>b(!0),0),document.body.style.overflow="hidden",window.addEventListener("keydown",L,!1),()=>{document.body.style.overflow=z,window.removeEventListener("keydown",L,!1)}},[O,F]),j.useLayoutEffect(()=>B(document.querySelector(t)),[t]),_&&s1.createPortal(j.createElement("div",{"aria-labelledby":"wallet-adapter-modal-title","aria-modal":"true",className:`wallet-adapter-modal ${p&&"wallet-adapter-modal-fade-in"} ${r}`,ref:e,role:"dialog"},j.createElement("div",{className:"wallet-adapter-modal-container"},j.createElement("div",{className:"wallet-adapter-modal-wrapper"},j.createElement("button",{onClick:U,className:"wallet-adapter-modal-button-close"},j.createElement("svg",{width:"14",height:"14"},j.createElement("path",{d:"M14 12.461 8.3 6.772l5.234-5.233L12.006 0 6.772 5.234 1.54 0 0 1.539l5.234 5.233L0 12.006l1.539 1.528L6.772 8.3l5.69 5.7L14 12.461z"}))),C.length?j.createElement(j.Fragment,null,j.createElement("h1",{className:"wallet-adapter-modal-title"},"Connect a wallet on Solana to continue"),j.createElement("ul",{className:"wallet-adapter-modal-list"},C.map(L=>j.createElement(Fu,{key:L.adapter.name,handleClick:z=>R(z,L.adapter.name),wallet:L})),k.length?j.createElement(rd,{expanded:c,id:"wallet-adapter-modal-collapse"},k.map(L=>j.createElement(Fu,{key:L.adapter.name,handleClick:z=>R(z,L.adapter.name),tabIndex:c?0:-1,wallet:L}))):null),k.length?j.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:P,tabIndex:0},j.createElement("span",null,c?"Less ":"More ","options"),j.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:`${c?"wallet-adapter-modal-list-more-icon-rotate":""}`},j.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))):null):j.createElement(j.Fragment,null,j.createElement("h1",{className:"wallet-adapter-modal-title"},"You'll need a wallet on Solana to continue"),j.createElement("div",{className:"wallet-adapter-modal-middle"},j.createElement(Sv,null)),k.length?j.createElement(j.Fragment,null,j.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:P,tabIndex:0},j.createElement("span",null,c?"Hide ":"Already have a wallet? View ","options"),j.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:`${c?"wallet-adapter-modal-list-more-icon-rotate":""}`},j.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))),j.createElement(rd,{expanded:c,id:"wallet-adapter-modal-collapse"},j.createElement("ul",{className:"wallet-adapter-modal-list"},k.map(L=>j.createElement(Fu,{key:L.adapter.name,handleClick:z=>R(z,L.adapter.name),tabIndex:c?0:-1,wallet:L}))))):null))),j.createElement("div",{className:"wallet-adapter-modal-overlay",onMouseDown:U})),_)},nd=({children:r,...t})=>{const[e,n]=j.useState(!1);return j.createElement(J0.Provider,{value:{visible:e,setVisible:n}},r,e&&j.createElement(Bv,{...t}))},Av={"change-wallet":"Change wallet",connecting:"Connecting ...","copy-address":"Copy address",copied:"Copied",disconnect:"Disconnect","has-wallet":"Connect","no-wallet":"Select Wallet"};function Iv(r){return j.createElement(_v,{...r,labels:Av})}let Mv={data:""},kv=r=>typeof window=="object"?((r?r.querySelector("#_goober"):window._goober)||Object.assign((r||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:r||Mv,Tv=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Rv=/\/\*[^]*?\*\/|  +/g,id=/\n+/g,Qn=(r,t)=>{let e="",n="",o="";for(let i in r){let c=r[i];i[0]=="@"?i[1]=="i"?e=i+" "+c+";":n+=i[1]=="f"?Qn(c,i):i+"{"+Qn(c,i[1]=="k"?"":t)+"}":typeof c=="object"?n+=Qn(c,t?t.replace(/([^,])+/g,u=>i.replace(/(^:.*)|([^,])+/g,p=>/&/.test(p)?p.replace(/&/g,u):u?u+" "+p:p)):i):c!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),o+=Qn.p?Qn.p(i,c):i+":"+c+";")}return e+(t&&o?t+"{"+o+"}":o)+n},Nn={},od=r=>{if(typeof r=="object"){let t="";for(let e in r)t+=e+od(r[e]);return t}return r},Cv=(r,t,e,n,o)=>{let i=od(r),c=Nn[i]||(Nn[i]=(p=>{let b=0,_=11;for(;b<p.length;)_=101*_+p.charCodeAt(b++)>>>0;return"go"+_})(i));if(!Nn[c]){let p=i!==r?r:(b=>{let _,B,C=[{}];for(;_=Tv.exec(b.replace(Rv,""));)_[4]?C.shift():_[3]?(B=_[3].replace(id," ").trim(),C.unshift(C[0][B]=C[0][B]||{})):C[0][_[1]]=_[2].replace(id," ").trim();return C[0]})(r);Nn[c]=Qn(o?{["@keyframes "+c]:p}:p,e?"":"."+c)}let u=e&&Nn.g?Nn.g:null;return e&&(Nn.g=Nn[c]),((p,b,_,B)=>{B?b.data=b.data.replace(B,p):b.data.indexOf(p)===-1&&(b.data=_?p+b.data:b.data+p)})(Nn[c],t,n,u),c},Lv=(r,t,e)=>r.reduce((n,o,i)=>{let c=t[i];if(c&&c.call){let u=c(e),p=u&&u.props&&u.props.className||/^go/.test(u)&&u;c=p?"."+p:u&&typeof u=="object"?u.props?"":Qn(u,""):u===!1?"":u}return n+o+(c??"")},"");function ma(r){let t=this||{},e=r.call?r(t.p):r;return Cv(e.unshift?e.raw?Lv(e,[].slice.call(arguments,1),t.p):e.reduce((n,o)=>Object.assign(n,o&&o.call?o(t.p):o),{}):e,kv(t.target),t.g,t.o,t.k)}let sd,$u,Nu;ma.bind({g:1});let Pn=ma.bind({k:1});function Uv(r,t,e,n){Qn.p=t,sd=r,$u=e,Nu=n}function ti(r,t){let e=this||{};return function(){let n=arguments;function o(i,c){let u=Object.assign({},i),p=u.className||o.className;e.p=Object.assign({theme:$u&&$u()},u),e.o=/ *go\d+/.test(p),u.className=ma.apply(e,n)+(p?" "+p:""),t&&(u.ref=c);let b=r;return r[0]&&(b=u.as||r,delete u.as),Nu&&b[0]&&Nu(u),sd(b,u)}return t?t(o):o}}var Ov=r=>typeof r=="function",wa=(r,t)=>Ov(r)?r(t):r,Fv=(()=>{let r=0;return()=>(++r).toString()})(),ad=(()=>{let r;return()=>{if(r===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");r=!t||t.matches}return r}})(),$v=20,ba=new Map,Nv=1e3,cd=r=>{if(ba.has(r))return;let t=setTimeout(()=>{ba.delete(r),Fi({type:4,toastId:r})},Nv);ba.set(r,t)},Pv=r=>{let t=ba.get(r);t&&clearTimeout(t)},Pu=(r,t)=>{switch(t.type){case 0:return{...r,toasts:[t.toast,...r.toasts].slice(0,$v)};case 1:return t.toast.id&&Pv(t.toast.id),{...r,toasts:r.toasts.map(i=>i.id===t.toast.id?{...i,...t.toast}:i)};case 2:let{toast:e}=t;return r.toasts.find(i=>i.id===e.id)?Pu(r,{type:1,toast:e}):Pu(r,{type:0,toast:e});case 3:let{toastId:n}=t;return n?cd(n):r.toasts.forEach(i=>{cd(i.id)}),{...r,toasts:r.toasts.map(i=>i.id===n||n===void 0?{...i,visible:!1}:i)};case 4:return t.toastId===void 0?{...r,toasts:[]}:{...r,toasts:r.toasts.filter(i=>i.id!==t.toastId)};case 5:return{...r,pausedAt:t.time};case 6:let o=t.time-(r.pausedAt||0);return{...r,pausedAt:void 0,toasts:r.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+o}))}}},va=[],xa={toasts:[],pausedAt:void 0},Fi=r=>{xa=Pu(xa,r),va.forEach(t=>{t(xa)})},Dv={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},zv=(r={})=>{let[t,e]=j.useState(xa);j.useEffect(()=>(va.push(e),()=>{let o=va.indexOf(e);o>-1&&va.splice(o,1)}),[t]);let n=t.toasts.map(o=>{var i,c;return{...r,...r[o.type],...o,duration:o.duration||((i=r[o.type])==null?void 0:i.duration)||(r==null?void 0:r.duration)||Dv[o.type],style:{...r.style,...(c=r[o.type])==null?void 0:c.style,...o.style}}});return{...t,toasts:n}},qv=(r,t="blank",e)=>({createdAt:Date.now(),visible:!0,type:t,ariaProps:{role:"status","aria-live":"polite"},message:r,pauseDuration:0,...e,id:(e==null?void 0:e.id)||Fv()}),ws=r=>(t,e)=>{let n=qv(t,r,e);return Fi({type:2,toast:n}),n.id},qr=(r,t)=>ws("blank")(r,t);qr.error=ws("error"),qr.success=ws("success"),qr.loading=ws("loading"),qr.custom=ws("custom"),qr.dismiss=r=>{Fi({type:3,toastId:r})},qr.remove=r=>Fi({type:4,toastId:r}),qr.promise=(r,t,e)=>{let n=qr.loading(t.loading,{...e,...e==null?void 0:e.loading});return r.then(o=>(qr.success(wa(t.success,o),{id:n,...e,...e==null?void 0:e.success}),o)).catch(o=>{qr.error(wa(t.error,o),{id:n,...e,...e==null?void 0:e.error})}),r};var Wv=(r,t)=>{Fi({type:1,toast:{id:r,height:t}})},Hv=()=>{Fi({type:5,time:Date.now()})},jv=r=>{let{toasts:t,pausedAt:e}=zv(r);j.useEffect(()=>{if(e)return;let i=Date.now(),c=t.map(u=>{if(u.duration===1/0)return;let p=(u.duration||0)+u.pauseDuration-(i-u.createdAt);if(p<0){u.visible&&qr.dismiss(u.id);return}return setTimeout(()=>qr.dismiss(u.id),p)});return()=>{c.forEach(u=>u&&clearTimeout(u))}},[t,e]);let n=j.useCallback(()=>{e&&Fi({type:6,time:Date.now()})},[e]),o=j.useCallback((i,c)=>{let{reverseOrder:u=!1,gutter:p=8,defaultPosition:b}=c||{},_=t.filter(k=>(k.position||b)===(i.position||b)&&k.height),B=_.findIndex(k=>k.id===i.id),C=_.filter((k,O)=>O<B&&k.visible).length;return _.filter(k=>k.visible).slice(...u?[C+1]:[0,C]).reduce((k,O)=>k+(O.height||0)+p,0)},[t]);return{toasts:t,handlers:{updateHeight:Wv,startPause:Hv,endPause:n,calculateOffset:o}}},Kv=Pn`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Gv=Pn`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Vv=Pn`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Zv=ti("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${r=>r.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Kv} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Gv} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${r=>r.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Vv} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Yv=Pn`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Xv=ti("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${r=>r.secondary||"#e0e0e0"};
  border-right-color: ${r=>r.primary||"#616161"};
  animation: ${Yv} 1s linear infinite;
`,Jv=Pn`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Qv=Pn`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,tx=ti("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${r=>r.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Jv} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Qv} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${r=>r.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,ex=ti("div")`
  position: absolute;
`,rx=ti("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,nx=Pn`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,ix=ti("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${nx} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,ox=({toast:r})=>{let{icon:t,type:e,iconTheme:n}=r;return t!==void 0?typeof t=="string"?nr.createElement(ix,null,t):t:e==="blank"?null:nr.createElement(rx,null,nr.createElement(Xv,{...n}),e!=="loading"&&nr.createElement(ex,null,e==="error"?nr.createElement(Zv,{...n}):nr.createElement(tx,{...n})))},sx=r=>`
0% {transform: translate3d(0,${r*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,ax=r=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${r*-150}%,-1px) scale(.6); opacity:0;}
`,cx="0%{opacity:0;} 100%{opacity:1;}",ux="0%{opacity:1;} 100%{opacity:0;}",fx=ti("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,lx=ti("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,hx=(r,t)=>{let e=r.includes("top")?1:-1,[n,o]=ad()?[cx,ux]:[sx(e),ax(e)];return{animation:t?`${Pn(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Pn(o)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},dx=nr.memo(({toast:r,position:t,style:e,children:n})=>{let o=r.height?hx(r.position||t||"top-center",r.visible):{opacity:0},i=nr.createElement(ox,{toast:r}),c=nr.createElement(lx,{...r.ariaProps},wa(r.message,r));return nr.createElement(fx,{className:r.className,style:{...o,...e,...r.style}},typeof n=="function"?n({icon:i,message:c}):nr.createElement(nr.Fragment,null,i,c))});Uv(nr.createElement);var px=({id:r,className:t,style:e,onHeightUpdate:n,children:o})=>{let i=nr.useCallback(c=>{if(c){let u=()=>{let p=c.getBoundingClientRect().height;n(r,p)};u(),new MutationObserver(u).observe(c,{subtree:!0,childList:!0,characterData:!0})}},[r,n]);return nr.createElement("div",{ref:i,className:t,style:e},o)},gx=(r,t)=>{let e=r.includes("top"),n=e?{top:0}:{bottom:0},o=r.includes("center")?{justifyContent:"center"}:r.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:ad()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(e?1:-1)}px)`,...n,...o}},yx=ma`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Ea=16,mx=({reverseOrder:r,position:t="top-center",toastOptions:e,gutter:n,children:o,containerStyle:i,containerClassName:c})=>{let{toasts:u,handlers:p}=jv(e);return nr.createElement("div",{style:{position:"fixed",zIndex:9999,top:Ea,left:Ea,right:Ea,bottom:Ea,pointerEvents:"none",...i},className:c,onMouseEnter:p.startPause,onMouseLeave:p.endPause},u.map(b=>{let _=b.position||t,B=p.calculateOffset(b,{reverseOrder:r,gutter:n,defaultPosition:t}),C=gx(_,B);return nr.createElement(px,{id:b.id,key:b.id,onHeightUpdate:p.updateHeight,className:b.visible?yx:"",style:C},b.type==="custom"?wa(b.message,b):o?o(b):nr.createElement(dx,{toast:b,position:_}))}))},Ro=qr;async function _a(r,t){const e=await fetch(r,t);if(e.status!==200)throw new Error(e.statusText);return await e.json()}_u(ds.Mainnet),_u(ds.Testnet),_u(ds.Devnet),`${process.env.HELIUS_API_KEY}`;const wx=`https://mainnet.helius-rpc.com/?api-key=${process.env.HELIUS_API_KEY}`;function ud(){const{publicKey:r,signTransaction:t,connected:e}=ps(),[n,o]=j.useState(""),[i,c]=j.useState(""),[u,p]=j.useState("initial");async function b({isToken:_=!1,address:B,amount:C,tokenAddress:k}){if(e&&r&&t&&u!=="loading"){console.log("PK: ",r),p("loading");const O=Ro.loading("Creating transaction...",{id:`buttonToast${_?"Token":""}`});try{let{tx:U}=await _a("/api/tx/create",{method:"POST",body:JSON.stringify({payerAddress:r.toBase58(),receiverAddress:B?new Gt(B).toBase58():void 0,amount:C,type:_?"token":"sol",tokenAddress:k}),headers:{"Content-type":"application/json; charset=UTF-8"}});console.log("payload: ",{method:"POST",body:JSON.stringify({payerAddress:r.toBase58(),receiverAddress:B?new Gt(B).toBase58():void 0,amount:C,type:_?"token":"sol",tokenAddress:k}),headers:{"Content-type":"application/json; charset=UTF-8"}});const R=Jr.from(Buffer.from(U,"base64")),F=(await t(R)).serialize().toString("base64");let{txSignature:L}=await _a("/api/tx/send",{method:"POST",body:JSON.stringify({signedTx:F}),headers:{"Content-type":"application/json; charset=UTF-8"}});p("success"),Ro.success(N=>Le.jsx("a",{href:`https://solscan.io/tx/${L}`,target:"_blank",rel:"noreferrer",children:"Transaction created"}),{id:O,duration:1e4});const z=Ro.loading("Confirming transaction...");(await _a("/api/tx/confirm",{method:"POST",body:JSON.stringify({txSignature:L}),headers:{"Content-type":"application/json; charset=UTF-8"}})).confirmed?Ro.success("Transaction confirmed",{id:z}):Ro.success("Error confirming transaction",{id:z})}catch{p("error"),Ro.error("Error creating transaction Here",{id:O})}}}return{token:i,amount:n,txState:u,onTxClick:b,setToken:c,setAmount:o,setTxState:p}}function bx(){const{connected:r}=ps(),{amount:t,setAmount:e,token:n,setToken:o,onTxClick:i}=ud();return Le.jsxs("div",{className:"w-screen h-screen flex flex-col justify-center items-center",children:[Le.jsx("h2",{className:"text-3xl",children:"Solana Namespace Toolkit"}),Le.jsx("hr",{style:{color:"gray",backgroundColor:"gray",height:35}}),Le.jsx("p",{children:"1. Trigger Wallet Connect"}),Le.jsx(Iv,{className:"btn"}),Le.jsx("hr",{style:{color:"gray",backgroundColor:"gray",height:35}}),Le.jsx("p",{children:"2. Transfer Tokens to Address"}),r?Le.jsxs("div",{className:"w-full flex flex-col justify-center items-center",children:[Le.jsx("label",{children:"Amount"}),Le.jsx("input",{type:"text",className:"w-[20%] mb-5",onChange:c=>e(c.target.value)}),Le.jsx("label",{children:"Address"}),Le.jsx("input",{type:"text",className:"w-[20%] mb-5",onChange:c=>o(c.target.value)}),Le.jsx("button",{className:"border-b border-emerald-300 p-1",onClick:()=>i({isToken:!0,address:"HPaeP1UwhNtiDexKrjeJNWmam7QnTKQNnuvMx3Ama2f7",amount:t,tokenAddress:n}),children:"Submit"})]}):Le.jsx("p",{children:"Not Connected"}),Le.jsx("div",{className:"mb-5"}),Le.jsx("p",{children:"SILLY: 7EYnhQoR9YM3N7UoaKRoA44Uy8JeaZV3qyouov87awMs"})]})}var fd={exports:{}};(function(r){var t=Object.prototype.hasOwnProperty,e="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(e=!1));function o(p,b,_){this.fn=p,this.context=b,this.once=_||!1}function i(p,b,_,B,C){if(typeof _!="function")throw new TypeError("The listener must be a function");var k=new o(_,B||p,C),O=e?e+b:b;return p._events[O]?p._events[O].fn?p._events[O]=[p._events[O],k]:p._events[O].push(k):(p._events[O]=k,p._eventsCount++),p}function c(p,b){--p._eventsCount===0?p._events=new n:delete p._events[b]}function u(){this._events=new n,this._eventsCount=0}u.prototype.eventNames=function(){var b=[],_,B;if(this._eventsCount===0)return b;for(B in _=this._events)t.call(_,B)&&b.push(e?B.slice(1):B);return Object.getOwnPropertySymbols?b.concat(Object.getOwnPropertySymbols(_)):b},u.prototype.listeners=function(b){var _=e?e+b:b,B=this._events[_];if(!B)return[];if(B.fn)return[B.fn];for(var C=0,k=B.length,O=new Array(k);C<k;C++)O[C]=B[C].fn;return O},u.prototype.listenerCount=function(b){var _=e?e+b:b,B=this._events[_];return B?B.fn?1:B.length:0},u.prototype.emit=function(b,_,B,C,k,O){var U=e?e+b:b;if(!this._events[U])return!1;var R=this._events[U],P=arguments.length,F,L;if(R.fn){switch(R.once&&this.removeListener(b,R.fn,void 0,!0),P){case 1:return R.fn.call(R.context),!0;case 2:return R.fn.call(R.context,_),!0;case 3:return R.fn.call(R.context,_,B),!0;case 4:return R.fn.call(R.context,_,B,C),!0;case 5:return R.fn.call(R.context,_,B,C,k),!0;case 6:return R.fn.call(R.context,_,B,C,k,O),!0}for(L=1,F=new Array(P-1);L<P;L++)F[L-1]=arguments[L];R.fn.apply(R.context,F)}else{var z=R.length,$;for(L=0;L<z;L++)switch(R[L].once&&this.removeListener(b,R[L].fn,void 0,!0),P){case 1:R[L].fn.call(R[L].context);break;case 2:R[L].fn.call(R[L].context,_);break;case 3:R[L].fn.call(R[L].context,_,B);break;case 4:R[L].fn.call(R[L].context,_,B,C);break;default:if(!F)for($=1,F=new Array(P-1);$<P;$++)F[$-1]=arguments[$];R[L].fn.apply(R[L].context,F)}}return!0},u.prototype.on=function(b,_,B){return i(this,b,_,B,!1)},u.prototype.once=function(b,_,B){return i(this,b,_,B,!0)},u.prototype.removeListener=function(b,_,B,C){var k=e?e+b:b;if(!this._events[k])return this;if(!_)return c(this,k),this;var O=this._events[k];if(O.fn)O.fn===_&&(!C||O.once)&&(!B||O.context===B)&&c(this,k);else{for(var U=0,R=[],P=O.length;U<P;U++)(O[U].fn!==_||C&&!O[U].once||B&&O[U].context!==B)&&R.push(O[U]);R.length?this._events[k]=R.length===1?R[0]:R:c(this,k)}return this},u.prototype.removeAllListeners=function(b){var _;return b?(_=e?e+b:b,this._events[_]&&c(this,_)):(this._events=new n,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=e,u.EventEmitter=u,r.exports=u})(fd);var Du=fd.exports;const vx=on(Du);class fn extends Error{constructor(t,e){super(t),this.error=e}}class xx extends fn{constructor(){super(...arguments),this.name="WalletNotReadyError"}}class Ex extends fn{constructor(){super(...arguments),this.name="WalletConnectionError"}}class _x extends fn{constructor(){super(...arguments),this.name="WalletDisconnectedError"}}class Sx extends fn{constructor(){super(...arguments),this.name="WalletDisconnectionError"}}class Bx extends fn{constructor(){super(...arguments),this.name="WalletAccountError"}}class ld extends fn{constructor(){super(...arguments),this.name="WalletPublicKeyError"}}class bs extends fn{constructor(){super(...arguments),this.name="WalletNotConnectedError"}}class vs extends fn{constructor(){super(...arguments),this.name="WalletSendTransactionError"}}class Ax extends fn{constructor(){super(...arguments),this.name="WalletSignMessageError"}}class Co extends fn{constructor(){super(...arguments),this.name="WalletSignTransactionError"}}var _n;(function(r){r.Installed="Installed",r.NotDetected="NotDetected",r.Loadable="Loadable",r.Unsupported="Unsupported"})(_n||(_n={}));class Ix extends vx{get connected(){return!!this.publicKey}async autoConnect(){await this.connect()}async prepareTransaction(t,e,n={}){const o=this.publicKey;if(!o)throw new bs;return t.feePayer=t.feePayer||o,t.recentBlockhash=t.recentBlockhash||(await e.getLatestBlockhash({commitment:n.preflightCommitment,minContextSlot:n.minContextSlot})).blockhash,t}}function Mx(r){if(typeof window>"u"||typeof document>"u")return;const t=[];function e(){if(r())for(const i of t)i()}const n=setInterval(e,1e3);t.push(()=>clearInterval(n)),document.readyState==="loading"&&(document.addEventListener("DOMContentLoaded",e,{once:!0}),t.push(()=>document.removeEventListener("DOMContentLoaded",e))),document.readyState!=="complete"&&(window.addEventListener("load",e,{once:!0}),t.push(()=>window.removeEventListener("load",e))),e()}function kx(){if(!navigator)return!1;const r=navigator.userAgent.toLowerCase(),t=r.includes("iphone")||r.includes("ipad"),e=r.includes("safari");return t&&e}var hd;(function(r){r.Mainnet="mainnet-beta",r.Testnet="testnet",r.Devnet="devnet"})(hd||(hd={}));function zu(r){return"version"in r}class Tx extends Ix{async sendTransaction(t,e,n={}){let o=!0;try{if(zu(t)){if(!this.supportedTransactionVersions)throw new vs("Sending versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(t.version))throw new vs(`Sending transaction version ${t.version} isn't supported by this wallet`);try{t=await this.signTransaction(t);const i=t.serialize();return await e.sendRawTransaction(i,n)}catch(i){throw i instanceof Co?(o=!1,i):new vs(i==null?void 0:i.message,i)}}else try{const{signers:i,...c}=n;t=await this.prepareTransaction(t,e,c),i!=null&&i.length&&t.partialSign(...i),t=await this.signTransaction(t);const u=t.serialize();return await e.sendRawTransaction(u,c)}catch(i){throw i instanceof Co?(o=!1,i):new vs(i==null?void 0:i.message,i)}}catch(i){throw o&&this.emit("error",i),i}}async signAllTransactions(t){for(const n of t)if(zu(n)){if(!this.supportedTransactionVersions)throw new Co("Signing versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(n.version))throw new Co(`Signing transaction version ${n.version} isn't supported by this wallet`)}const e=[];for(const n of t)e.push(await this.signTransaction(n));return e}}class Rx extends Tx{}var Ke={},xs={};xs.byteLength=Ux,xs.toByteArray=Fx,xs.fromByteArray=Px;for(var Sn=[],Qr=[],Cx=typeof Uint8Array<"u"?Uint8Array:Array,qu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Lo=0,Lx=qu.length;Lo<Lx;++Lo)Sn[Lo]=qu[Lo],Qr[qu.charCodeAt(Lo)]=Lo;Qr["-".charCodeAt(0)]=62,Qr["_".charCodeAt(0)]=63;function dd(r){var t=r.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var e=r.indexOf("=");e===-1&&(e=t);var n=e===t?0:4-e%4;return[e,n]}function Ux(r){var t=dd(r),e=t[0],n=t[1];return(e+n)*3/4-n}function Ox(r,t,e){return(t+e)*3/4-e}function Fx(r){var t,e=dd(r),n=e[0],o=e[1],i=new Cx(Ox(r,n,o)),c=0,u=o>0?n-4:n,p;for(p=0;p<u;p+=4)t=Qr[r.charCodeAt(p)]<<18|Qr[r.charCodeAt(p+1)]<<12|Qr[r.charCodeAt(p+2)]<<6|Qr[r.charCodeAt(p+3)],i[c++]=t>>16&255,i[c++]=t>>8&255,i[c++]=t&255;return o===2&&(t=Qr[r.charCodeAt(p)]<<2|Qr[r.charCodeAt(p+1)]>>4,i[c++]=t&255),o===1&&(t=Qr[r.charCodeAt(p)]<<10|Qr[r.charCodeAt(p+1)]<<4|Qr[r.charCodeAt(p+2)]>>2,i[c++]=t>>8&255,i[c++]=t&255),i}function $x(r){return Sn[r>>18&63]+Sn[r>>12&63]+Sn[r>>6&63]+Sn[r&63]}function Nx(r,t,e){for(var n,o=[],i=t;i<e;i+=3)n=(r[i]<<16&16711680)+(r[i+1]<<8&65280)+(r[i+2]&255),o.push($x(n));return o.join("")}function Px(r){for(var t,e=r.length,n=e%3,o=[],i=16383,c=0,u=e-n;c<u;c+=i)o.push(Nx(r,c,c+i>u?u:c+i));return n===1?(t=r[e-1],o.push(Sn[t>>2]+Sn[t<<4&63]+"==")):n===2&&(t=(r[e-2]<<8)+r[e-1],o.push(Sn[t>>10]+Sn[t>>4&63]+Sn[t<<2&63]+"=")),o.join("")}var Sa={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Sa.read=function(r,t,e,n,o){var i,c,u=o*8-n-1,p=(1<<u)-1,b=p>>1,_=-7,B=e?o-1:0,C=e?-1:1,k=r[t+B];for(B+=C,i=k&(1<<-_)-1,k>>=-_,_+=u;_>0;i=i*256+r[t+B],B+=C,_-=8);for(c=i&(1<<-_)-1,i>>=-_,_+=n;_>0;c=c*256+r[t+B],B+=C,_-=8);if(i===0)i=1-b;else{if(i===p)return c?NaN:(k?-1:1)*(1/0);c=c+Math.pow(2,n),i=i-b}return(k?-1:1)*c*Math.pow(2,i-n)},Sa.write=function(r,t,e,n,o,i){var c,u,p,b=i*8-o-1,_=(1<<b)-1,B=_>>1,C=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,k=n?0:i-1,O=n?1:-1,U=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(u=isNaN(t)?1:0,c=_):(c=Math.floor(Math.log(t)/Math.LN2),t*(p=Math.pow(2,-c))<1&&(c--,p*=2),c+B>=1?t+=C/p:t+=C*Math.pow(2,1-B),t*p>=2&&(c++,p/=2),c+B>=_?(u=0,c=_):c+B>=1?(u=(t*p-1)*Math.pow(2,o),c=c+B):(u=t*Math.pow(2,B-1)*Math.pow(2,o),c=0));o>=8;r[e+k]=u&255,k+=O,u/=256,o-=8);for(c=c<<o|u,b+=o;b>0;r[e+k]=c&255,k+=O,c/=256,b-=8);r[e+k-O]|=U*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(r){const t=xs,e=Sa,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;r.Buffer=u,r.SlowBuffer=F,r.INSPECT_MAX_BYTES=50;const o=2147483647;r.kMaxLength=o,u.TYPED_ARRAY_SUPPORT=i(),!u.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{const h=new Uint8Array(1),s={foo:function(){return 42}};return Object.setPrototypeOf(s,Uint8Array.prototype),Object.setPrototypeOf(h,s),h.foo()===42}catch{return!1}}Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}});function c(h){if(h>o)throw new RangeError('The value "'+h+'" is invalid for option "size"');const s=new Uint8Array(h);return Object.setPrototypeOf(s,u.prototype),s}function u(h,s,a){if(typeof h=="number"){if(typeof s=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return B(h)}return p(h,s,a)}u.poolSize=8192;function p(h,s,a){if(typeof h=="string")return C(h,s);if(ArrayBuffer.isView(h))return O(h);if(h==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof h);if(Yt(h,ArrayBuffer)||h&&Yt(h.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Yt(h,SharedArrayBuffer)||h&&Yt(h.buffer,SharedArrayBuffer)))return U(h,s,a);if(typeof h=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const g=h.valueOf&&h.valueOf();if(g!=null&&g!==h)return u.from(g,s,a);const S=R(h);if(S)return S;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof h[Symbol.toPrimitive]=="function")return u.from(h[Symbol.toPrimitive]("string"),s,a);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof h)}u.from=function(h,s,a){return p(h,s,a)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array);function b(h){if(typeof h!="number")throw new TypeError('"size" argument must be of type number');if(h<0)throw new RangeError('The value "'+h+'" is invalid for option "size"')}function _(h,s,a){return b(h),h<=0?c(h):s!==void 0?typeof a=="string"?c(h).fill(s,a):c(h).fill(s):c(h)}u.alloc=function(h,s,a){return _(h,s,a)};function B(h){return b(h),c(h<0?0:P(h)|0)}u.allocUnsafe=function(h){return B(h)},u.allocUnsafeSlow=function(h){return B(h)};function C(h,s){if((typeof s!="string"||s==="")&&(s="utf8"),!u.isEncoding(s))throw new TypeError("Unknown encoding: "+s);const a=L(h,s)|0;let g=c(a);const S=g.write(h,s);return S!==a&&(g=g.slice(0,S)),g}function k(h){const s=h.length<0?0:P(h.length)|0,a=c(s);for(let g=0;g<s;g+=1)a[g]=h[g]&255;return a}function O(h){if(Yt(h,Uint8Array)){const s=new Uint8Array(h);return U(s.buffer,s.byteOffset,s.byteLength)}return k(h)}function U(h,s,a){if(s<0||h.byteLength<s)throw new RangeError('"offset" is outside of buffer bounds');if(h.byteLength<s+(a||0))throw new RangeError('"length" is outside of buffer bounds');let g;return s===void 0&&a===void 0?g=new Uint8Array(h):a===void 0?g=new Uint8Array(h,s):g=new Uint8Array(h,s,a),Object.setPrototypeOf(g,u.prototype),g}function R(h){if(u.isBuffer(h)){const s=P(h.length)|0,a=c(s);return a.length===0||h.copy(a,0,0,s),a}if(h.length!==void 0)return typeof h.length!="number"||Ot(h.length)?c(0):k(h);if(h.type==="Buffer"&&Array.isArray(h.data))return k(h.data)}function P(h){if(h>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return h|0}function F(h){return+h!=h&&(h=0),u.alloc(+h)}u.isBuffer=function(s){return s!=null&&s._isBuffer===!0&&s!==u.prototype},u.compare=function(s,a){if(Yt(s,Uint8Array)&&(s=u.from(s,s.offset,s.byteLength)),Yt(a,Uint8Array)&&(a=u.from(a,a.offset,a.byteLength)),!u.isBuffer(s)||!u.isBuffer(a))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(s===a)return 0;let g=s.length,S=a.length;for(let M=0,T=Math.min(g,S);M<T;++M)if(s[M]!==a[M]){g=s[M],S=a[M];break}return g<S?-1:S<g?1:0},u.isEncoding=function(s){switch(String(s).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(s,a){if(!Array.isArray(s))throw new TypeError('"list" argument must be an Array of Buffers');if(s.length===0)return u.alloc(0);let g;if(a===void 0)for(a=0,g=0;g<s.length;++g)a+=s[g].length;const S=u.allocUnsafe(a);let M=0;for(g=0;g<s.length;++g){let T=s[g];if(Yt(T,Uint8Array))M+T.length>S.length?(u.isBuffer(T)||(T=u.from(T)),T.copy(S,M)):Uint8Array.prototype.set.call(S,T,M);else if(u.isBuffer(T))T.copy(S,M);else throw new TypeError('"list" argument must be an Array of Buffers');M+=T.length}return S};function L(h,s){if(u.isBuffer(h))return h.length;if(ArrayBuffer.isView(h)||Yt(h,ArrayBuffer))return h.byteLength;if(typeof h!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof h);const a=h.length,g=arguments.length>2&&arguments[2]===!0;if(!g&&a===0)return 0;let S=!1;for(;;)switch(s){case"ascii":case"latin1":case"binary":return a;case"utf8":case"utf-8":return Ut(h).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return a*2;case"hex":return a>>>1;case"base64":return Ft(h).length;default:if(S)return g?-1:Ut(h).length;s=(""+s).toLowerCase(),S=!0}}u.byteLength=L;function z(h,s,a){let g=!1;if((s===void 0||s<0)&&(s=0),s>this.length||((a===void 0||a>this.length)&&(a=this.length),a<=0)||(a>>>=0,s>>>=0,a<=s))return"";for(h||(h="utf8");;)switch(h){case"hex":return x(this,s,a);case"utf8":case"utf-8":return f(this,s,a);case"ascii":return w(this,s,a);case"latin1":case"binary":return v(this,s,a);case"base64":return I(this,s,a);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,s,a);default:if(g)throw new TypeError("Unknown encoding: "+h);h=(h+"").toLowerCase(),g=!0}}u.prototype._isBuffer=!0;function $(h,s,a){const g=h[s];h[s]=h[a],h[a]=g}u.prototype.swap16=function(){const s=this.length;if(s%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let a=0;a<s;a+=2)$(this,a,a+1);return this},u.prototype.swap32=function(){const s=this.length;if(s%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let a=0;a<s;a+=4)$(this,a,a+3),$(this,a+1,a+2);return this},u.prototype.swap64=function(){const s=this.length;if(s%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let a=0;a<s;a+=8)$(this,a,a+7),$(this,a+1,a+6),$(this,a+2,a+5),$(this,a+3,a+4);return this},u.prototype.toString=function(){const s=this.length;return s===0?"":arguments.length===0?f(this,0,s):z.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(s){if(!u.isBuffer(s))throw new TypeError("Argument must be a Buffer");return this===s?!0:u.compare(this,s)===0},u.prototype.inspect=function(){let s="";const a=r.INSPECT_MAX_BYTES;return s=this.toString("hex",0,a).replace(/(.{2})/g,"$1 ").trim(),this.length>a&&(s+=" ... "),"<Buffer "+s+">"},n&&(u.prototype[n]=u.prototype.inspect),u.prototype.compare=function(s,a,g,S,M){if(Yt(s,Uint8Array)&&(s=u.from(s,s.offset,s.byteLength)),!u.isBuffer(s))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof s);if(a===void 0&&(a=0),g===void 0&&(g=s?s.length:0),S===void 0&&(S=0),M===void 0&&(M=this.length),a<0||g>s.length||S<0||M>this.length)throw new RangeError("out of range index");if(S>=M&&a>=g)return 0;if(S>=M)return-1;if(a>=g)return 1;if(a>>>=0,g>>>=0,S>>>=0,M>>>=0,this===s)return 0;let T=M-S,tt=g-a;const it=Math.min(T,tt),rt=this.slice(S,M),wt=s.slice(a,g);for(let J=0;J<it;++J)if(rt[J]!==wt[J]){T=rt[J],tt=wt[J];break}return T<tt?-1:tt<T?1:0};function N(h,s,a,g,S){if(h.length===0)return-1;if(typeof a=="string"?(g=a,a=0):a>2147483647?a=2147483647:a<-2147483648&&(a=-2147483648),a=+a,Ot(a)&&(a=S?0:h.length-1),a<0&&(a=h.length+a),a>=h.length){if(S)return-1;a=h.length-1}else if(a<0)if(S)a=0;else return-1;if(typeof s=="string"&&(s=u.from(s,g)),u.isBuffer(s))return s.length===0?-1:q(h,s,a,g,S);if(typeof s=="number")return s=s&255,typeof Uint8Array.prototype.indexOf=="function"?S?Uint8Array.prototype.indexOf.call(h,s,a):Uint8Array.prototype.lastIndexOf.call(h,s,a):q(h,[s],a,g,S);throw new TypeError("val must be string, number or Buffer")}function q(h,s,a,g,S){let M=1,T=h.length,tt=s.length;if(g!==void 0&&(g=String(g).toLowerCase(),g==="ucs2"||g==="ucs-2"||g==="utf16le"||g==="utf-16le")){if(h.length<2||s.length<2)return-1;M=2,T/=2,tt/=2,a/=2}function it(wt,J){return M===1?wt[J]:wt.readUInt16BE(J*M)}let rt;if(S){let wt=-1;for(rt=a;rt<T;rt++)if(it(h,rt)===it(s,wt===-1?0:rt-wt)){if(wt===-1&&(wt=rt),rt-wt+1===tt)return wt*M}else wt!==-1&&(rt-=rt-wt),wt=-1}else for(a+tt>T&&(a=T-tt),rt=a;rt>=0;rt--){let wt=!0;for(let J=0;J<tt;J++)if(it(h,rt+J)!==it(s,J)){wt=!1;break}if(wt)return rt}return-1}u.prototype.includes=function(s,a,g){return this.indexOf(s,a,g)!==-1},u.prototype.indexOf=function(s,a,g){return N(this,s,a,g,!0)},u.prototype.lastIndexOf=function(s,a,g){return N(this,s,a,g,!1)};function W(h,s,a,g){a=Number(a)||0;const S=h.length-a;g?(g=Number(g),g>S&&(g=S)):g=S;const M=s.length;g>M/2&&(g=M/2);let T;for(T=0;T<g;++T){const tt=parseInt(s.substr(T*2,2),16);if(Ot(tt))return T;h[a+T]=tt}return T}function et(h,s,a,g){return Ct(Ut(s,h.length-a),h,a,g)}function ht(h,s,a,g){return Ct(qt(s),h,a,g)}function Q(h,s,a,g){return Ct(Ft(s),h,a,g)}function mt(h,s,a,g){return Ct(sr(s,h.length-a),h,a,g)}u.prototype.write=function(s,a,g,S){if(a===void 0)S="utf8",g=this.length,a=0;else if(g===void 0&&typeof a=="string")S=a,g=this.length,a=0;else if(isFinite(a))a=a>>>0,isFinite(g)?(g=g>>>0,S===void 0&&(S="utf8")):(S=g,g=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const M=this.length-a;if((g===void 0||g>M)&&(g=M),s.length>0&&(g<0||a<0)||a>this.length)throw new RangeError("Attempt to write outside buffer bounds");S||(S="utf8");let T=!1;for(;;)switch(S){case"hex":return W(this,s,a,g);case"utf8":case"utf-8":return et(this,s,a,g);case"ascii":case"latin1":case"binary":return ht(this,s,a,g);case"base64":return Q(this,s,a,g);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return mt(this,s,a,g);default:if(T)throw new TypeError("Unknown encoding: "+S);S=(""+S).toLowerCase(),T=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function I(h,s,a){return s===0&&a===h.length?t.fromByteArray(h):t.fromByteArray(h.slice(s,a))}function f(h,s,a){a=Math.min(h.length,a);const g=[];let S=s;for(;S<a;){const M=h[S];let T=null,tt=M>239?4:M>223?3:M>191?2:1;if(S+tt<=a){let it,rt,wt,J;switch(tt){case 1:M<128&&(T=M);break;case 2:it=h[S+1],(it&192)===128&&(J=(M&31)<<6|it&63,J>127&&(T=J));break;case 3:it=h[S+1],rt=h[S+2],(it&192)===128&&(rt&192)===128&&(J=(M&15)<<12|(it&63)<<6|rt&63,J>2047&&(J<55296||J>57343)&&(T=J));break;case 4:it=h[S+1],rt=h[S+2],wt=h[S+3],(it&192)===128&&(rt&192)===128&&(wt&192)===128&&(J=(M&15)<<18|(it&63)<<12|(rt&63)<<6|wt&63,J>65535&&J<1114112&&(T=J))}}T===null?(T=65533,tt=1):T>65535&&(T-=65536,g.push(T>>>10&1023|55296),T=56320|T&1023),g.push(T),S+=tt}return y(g)}const d=4096;function y(h){const s=h.length;if(s<=d)return String.fromCharCode.apply(String,h);let a="",g=0;for(;g<s;)a+=String.fromCharCode.apply(String,h.slice(g,g+=d));return a}function w(h,s,a){let g="";a=Math.min(h.length,a);for(let S=s;S<a;++S)g+=String.fromCharCode(h[S]&127);return g}function v(h,s,a){let g="";a=Math.min(h.length,a);for(let S=s;S<a;++S)g+=String.fromCharCode(h[S]);return g}function x(h,s,a){const g=h.length;(!s||s<0)&&(s=0),(!a||a<0||a>g)&&(a=g);let S="";for(let M=s;M<a;++M)S+=$t[h[M]];return S}function A(h,s,a){const g=h.slice(s,a);let S="";for(let M=0;M<g.length-1;M+=2)S+=String.fromCharCode(g[M]+g[M+1]*256);return S}u.prototype.slice=function(s,a){const g=this.length;s=~~s,a=a===void 0?g:~~a,s<0?(s+=g,s<0&&(s=0)):s>g&&(s=g),a<0?(a+=g,a<0&&(a=0)):a>g&&(a=g),a<s&&(a=s);const S=this.subarray(s,a);return Object.setPrototypeOf(S,u.prototype),S};function m(h,s,a){if(h%1!==0||h<0)throw new RangeError("offset is not uint");if(h+s>a)throw new RangeError("Trying to access beyond buffer length")}u.prototype.readUintLE=u.prototype.readUIntLE=function(s,a,g){s=s>>>0,a=a>>>0,g||m(s,a,this.length);let S=this[s],M=1,T=0;for(;++T<a&&(M*=256);)S+=this[s+T]*M;return S},u.prototype.readUintBE=u.prototype.readUIntBE=function(s,a,g){s=s>>>0,a=a>>>0,g||m(s,a,this.length);let S=this[s+--a],M=1;for(;a>0&&(M*=256);)S+=this[s+--a]*M;return S},u.prototype.readUint8=u.prototype.readUInt8=function(s,a){return s=s>>>0,a||m(s,1,this.length),this[s]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(s,a){return s=s>>>0,a||m(s,2,this.length),this[s]|this[s+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(s,a){return s=s>>>0,a||m(s,2,this.length),this[s]<<8|this[s+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(s,a){return s=s>>>0,a||m(s,4,this.length),(this[s]|this[s+1]<<8|this[s+2]<<16)+this[s+3]*16777216},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(s,a){return s=s>>>0,a||m(s,4,this.length),this[s]*16777216+(this[s+1]<<16|this[s+2]<<8|this[s+3])},u.prototype.readBigUInt64LE=he(function(s){s=s>>>0,Wt(s,"offset");const a=this[s],g=this[s+7];(a===void 0||g===void 0)&&xt(s,this.length-8);const S=a+this[++s]*2**8+this[++s]*2**16+this[++s]*2**24,M=this[++s]+this[++s]*2**8+this[++s]*2**16+g*2**24;return BigInt(S)+(BigInt(M)<<BigInt(32))}),u.prototype.readBigUInt64BE=he(function(s){s=s>>>0,Wt(s,"offset");const a=this[s],g=this[s+7];(a===void 0||g===void 0)&&xt(s,this.length-8);const S=a*2**24+this[++s]*2**16+this[++s]*2**8+this[++s],M=this[++s]*2**24+this[++s]*2**16+this[++s]*2**8+g;return(BigInt(S)<<BigInt(32))+BigInt(M)}),u.prototype.readIntLE=function(s,a,g){s=s>>>0,a=a>>>0,g||m(s,a,this.length);let S=this[s],M=1,T=0;for(;++T<a&&(M*=256);)S+=this[s+T]*M;return M*=128,S>=M&&(S-=Math.pow(2,8*a)),S},u.prototype.readIntBE=function(s,a,g){s=s>>>0,a=a>>>0,g||m(s,a,this.length);let S=a,M=1,T=this[s+--S];for(;S>0&&(M*=256);)T+=this[s+--S]*M;return M*=128,T>=M&&(T-=Math.pow(2,8*a)),T},u.prototype.readInt8=function(s,a){return s=s>>>0,a||m(s,1,this.length),this[s]&128?(255-this[s]+1)*-1:this[s]},u.prototype.readInt16LE=function(s,a){s=s>>>0,a||m(s,2,this.length);const g=this[s]|this[s+1]<<8;return g&32768?g|4294901760:g},u.prototype.readInt16BE=function(s,a){s=s>>>0,a||m(s,2,this.length);const g=this[s+1]|this[s]<<8;return g&32768?g|4294901760:g},u.prototype.readInt32LE=function(s,a){return s=s>>>0,a||m(s,4,this.length),this[s]|this[s+1]<<8|this[s+2]<<16|this[s+3]<<24},u.prototype.readInt32BE=function(s,a){return s=s>>>0,a||m(s,4,this.length),this[s]<<24|this[s+1]<<16|this[s+2]<<8|this[s+3]},u.prototype.readBigInt64LE=he(function(s){s=s>>>0,Wt(s,"offset");const a=this[s],g=this[s+7];(a===void 0||g===void 0)&&xt(s,this.length-8);const S=this[s+4]+this[s+5]*2**8+this[s+6]*2**16+(g<<24);return(BigInt(S)<<BigInt(32))+BigInt(a+this[++s]*2**8+this[++s]*2**16+this[++s]*2**24)}),u.prototype.readBigInt64BE=he(function(s){s=s>>>0,Wt(s,"offset");const a=this[s],g=this[s+7];(a===void 0||g===void 0)&&xt(s,this.length-8);const S=(a<<24)+this[++s]*2**16+this[++s]*2**8+this[++s];return(BigInt(S)<<BigInt(32))+BigInt(this[++s]*2**24+this[++s]*2**16+this[++s]*2**8+g)}),u.prototype.readFloatLE=function(s,a){return s=s>>>0,a||m(s,4,this.length),e.read(this,s,!0,23,4)},u.prototype.readFloatBE=function(s,a){return s=s>>>0,a||m(s,4,this.length),e.read(this,s,!1,23,4)},u.prototype.readDoubleLE=function(s,a){return s=s>>>0,a||m(s,8,this.length),e.read(this,s,!0,52,8)},u.prototype.readDoubleBE=function(s,a){return s=s>>>0,a||m(s,8,this.length),e.read(this,s,!1,52,8)};function l(h,s,a,g,S,M){if(!u.isBuffer(h))throw new TypeError('"buffer" argument must be a Buffer instance');if(s>S||s<M)throw new RangeError('"value" argument is out of bounds');if(a+g>h.length)throw new RangeError("Index out of range")}u.prototype.writeUintLE=u.prototype.writeUIntLE=function(s,a,g,S){if(s=+s,a=a>>>0,g=g>>>0,!S){const tt=Math.pow(2,8*g)-1;l(this,s,a,g,tt,0)}let M=1,T=0;for(this[a]=s&255;++T<g&&(M*=256);)this[a+T]=s/M&255;return a+g},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(s,a,g,S){if(s=+s,a=a>>>0,g=g>>>0,!S){const tt=Math.pow(2,8*g)-1;l(this,s,a,g,tt,0)}let M=g-1,T=1;for(this[a+M]=s&255;--M>=0&&(T*=256);)this[a+M]=s/T&255;return a+g},u.prototype.writeUint8=u.prototype.writeUInt8=function(s,a,g){return s=+s,a=a>>>0,g||l(this,s,a,1,255,0),this[a]=s&255,a+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(s,a,g){return s=+s,a=a>>>0,g||l(this,s,a,2,65535,0),this[a]=s&255,this[a+1]=s>>>8,a+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(s,a,g){return s=+s,a=a>>>0,g||l(this,s,a,2,65535,0),this[a]=s>>>8,this[a+1]=s&255,a+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(s,a,g){return s=+s,a=a>>>0,g||l(this,s,a,4,4294967295,0),this[a+3]=s>>>24,this[a+2]=s>>>16,this[a+1]=s>>>8,this[a]=s&255,a+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(s,a,g){return s=+s,a=a>>>0,g||l(this,s,a,4,4294967295,0),this[a]=s>>>24,this[a+1]=s>>>16,this[a+2]=s>>>8,this[a+3]=s&255,a+4};function E(h,s,a,g,S){_t(s,g,S,h,a,7);let M=Number(s&BigInt(4294967295));h[a++]=M,M=M>>8,h[a++]=M,M=M>>8,h[a++]=M,M=M>>8,h[a++]=M;let T=Number(s>>BigInt(32)&BigInt(4294967295));return h[a++]=T,T=T>>8,h[a++]=T,T=T>>8,h[a++]=T,T=T>>8,h[a++]=T,a}function H(h,s,a,g,S){_t(s,g,S,h,a,7);let M=Number(s&BigInt(4294967295));h[a+7]=M,M=M>>8,h[a+6]=M,M=M>>8,h[a+5]=M,M=M>>8,h[a+4]=M;let T=Number(s>>BigInt(32)&BigInt(4294967295));return h[a+3]=T,T=T>>8,h[a+2]=T,T=T>>8,h[a+1]=T,T=T>>8,h[a]=T,a+8}u.prototype.writeBigUInt64LE=he(function(s,a=0){return E(this,s,a,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeBigUInt64BE=he(function(s,a=0){return H(this,s,a,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeIntLE=function(s,a,g,S){if(s=+s,a=a>>>0,!S){const it=Math.pow(2,8*g-1);l(this,s,a,g,it-1,-it)}let M=0,T=1,tt=0;for(this[a]=s&255;++M<g&&(T*=256);)s<0&&tt===0&&this[a+M-1]!==0&&(tt=1),this[a+M]=(s/T>>0)-tt&255;return a+g},u.prototype.writeIntBE=function(s,a,g,S){if(s=+s,a=a>>>0,!S){const it=Math.pow(2,8*g-1);l(this,s,a,g,it-1,-it)}let M=g-1,T=1,tt=0;for(this[a+M]=s&255;--M>=0&&(T*=256);)s<0&&tt===0&&this[a+M+1]!==0&&(tt=1),this[a+M]=(s/T>>0)-tt&255;return a+g},u.prototype.writeInt8=function(s,a,g){return s=+s,a=a>>>0,g||l(this,s,a,1,127,-128),s<0&&(s=255+s+1),this[a]=s&255,a+1},u.prototype.writeInt16LE=function(s,a,g){return s=+s,a=a>>>0,g||l(this,s,a,2,32767,-32768),this[a]=s&255,this[a+1]=s>>>8,a+2},u.prototype.writeInt16BE=function(s,a,g){return s=+s,a=a>>>0,g||l(this,s,a,2,32767,-32768),this[a]=s>>>8,this[a+1]=s&255,a+2},u.prototype.writeInt32LE=function(s,a,g){return s=+s,a=a>>>0,g||l(this,s,a,4,2147483647,-2147483648),this[a]=s&255,this[a+1]=s>>>8,this[a+2]=s>>>16,this[a+3]=s>>>24,a+4},u.prototype.writeInt32BE=function(s,a,g){return s=+s,a=a>>>0,g||l(this,s,a,4,2147483647,-2147483648),s<0&&(s=4294967295+s+1),this[a]=s>>>24,this[a+1]=s>>>16,this[a+2]=s>>>8,this[a+3]=s&255,a+4},u.prototype.writeBigInt64LE=he(function(s,a=0){return E(this,s,a,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),u.prototype.writeBigInt64BE=he(function(s,a=0){return H(this,s,a,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function K(h,s,a,g,S,M){if(a+g>h.length)throw new RangeError("Index out of range");if(a<0)throw new RangeError("Index out of range")}function G(h,s,a,g,S){return s=+s,a=a>>>0,S||K(h,s,a,4),e.write(h,s,a,g,23,4),a+4}u.prototype.writeFloatLE=function(s,a,g){return G(this,s,a,!0,g)},u.prototype.writeFloatBE=function(s,a,g){return G(this,s,a,!1,g)};function lt(h,s,a,g,S){return s=+s,a=a>>>0,S||K(h,s,a,8),e.write(h,s,a,g,52,8),a+8}u.prototype.writeDoubleLE=function(s,a,g){return lt(this,s,a,!0,g)},u.prototype.writeDoubleBE=function(s,a,g){return lt(this,s,a,!1,g)},u.prototype.copy=function(s,a,g,S){if(!u.isBuffer(s))throw new TypeError("argument should be a Buffer");if(g||(g=0),!S&&S!==0&&(S=this.length),a>=s.length&&(a=s.length),a||(a=0),S>0&&S<g&&(S=g),S===g||s.length===0||this.length===0)return 0;if(a<0)throw new RangeError("targetStart out of bounds");if(g<0||g>=this.length)throw new RangeError("Index out of range");if(S<0)throw new RangeError("sourceEnd out of bounds");S>this.length&&(S=this.length),s.length-a<S-g&&(S=s.length-a+g);const M=S-g;return this===s&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(a,g,S):Uint8Array.prototype.set.call(s,this.subarray(g,S),a),M},u.prototype.fill=function(s,a,g,S){if(typeof s=="string"){if(typeof a=="string"?(S=a,a=0,g=this.length):typeof g=="string"&&(S=g,g=this.length),S!==void 0&&typeof S!="string")throw new TypeError("encoding must be a string");if(typeof S=="string"&&!u.isEncoding(S))throw new TypeError("Unknown encoding: "+S);if(s.length===1){const T=s.charCodeAt(0);(S==="utf8"&&T<128||S==="latin1")&&(s=T)}}else typeof s=="number"?s=s&255:typeof s=="boolean"&&(s=Number(s));if(a<0||this.length<a||this.length<g)throw new RangeError("Out of range index");if(g<=a)return this;a=a>>>0,g=g===void 0?this.length:g>>>0,s||(s=0);let M;if(typeof s=="number")for(M=a;M<g;++M)this[M]=s;else{const T=u.isBuffer(s)?s:u.from(s,S),tt=T.length;if(tt===0)throw new TypeError('The value "'+s+'" is invalid for argument "value"');for(M=0;M<g-a;++M)this[M+a]=T[M%tt]}return this};const ot={};function ft(h,s,a){ot[h]=class extends a{constructor(){super(),Object.defineProperty(this,"message",{value:s.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${h}]`,this.stack,delete this.name}get code(){return h}set code(S){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:S,writable:!0})}toString(){return`${this.name} [${h}]: ${this.message}`}}}ft("ERR_BUFFER_OUT_OF_BOUNDS",function(h){return h?`${h} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ft("ERR_INVALID_ARG_TYPE",function(h,s){return`The "${h}" argument must be of type number. Received type ${typeof s}`},TypeError),ft("ERR_OUT_OF_RANGE",function(h,s,a){let g=`The value of "${h}" is out of range.`,S=a;return Number.isInteger(a)&&Math.abs(a)>2**32?S=Zt(String(a)):typeof a=="bigint"&&(S=String(a),(a>BigInt(2)**BigInt(32)||a<-(BigInt(2)**BigInt(32)))&&(S=Zt(S)),S+="n"),g+=` It must be ${s}. Received ${S}`,g},RangeError);function Zt(h){let s="",a=h.length;const g=h[0]==="-"?1:0;for(;a>=g+4;a-=3)s=`_${h.slice(a-3,a)}${s}`;return`${h.slice(0,a)}${s}`}function Bt(h,s,a){Wt(s,"offset"),(h[s]===void 0||h[s+a]===void 0)&&xt(s,h.length-(a+1))}function _t(h,s,a,g,S,M){if(h>a||h<s){const T=typeof s=="bigint"?"n":"";let tt;throw M>3?s===0||s===BigInt(0)?tt=`>= 0${T} and < 2${T} ** ${(M+1)*8}${T}`:tt=`>= -(2${T} ** ${(M+1)*8-1}${T}) and < 2 ** ${(M+1)*8-1}${T}`:tt=`>= ${s}${T} and <= ${a}${T}`,new ot.ERR_OUT_OF_RANGE("value",tt,h)}Bt(g,S,M)}function Wt(h,s){if(typeof h!="number")throw new ot.ERR_INVALID_ARG_TYPE(s,"number",h)}function xt(h,s,a){throw Math.floor(h)!==h?(Wt(h,a),new ot.ERR_OUT_OF_RANGE(a||"offset","an integer",h)):s<0?new ot.ERR_BUFFER_OUT_OF_BOUNDS:new ot.ERR_OUT_OF_RANGE(a||"offset",`>= ${a?1:0} and <= ${s}`,h)}const Rt=/[^+/0-9A-Za-z-_]/g;function je(h){if(h=h.split("=")[0],h=h.trim().replace(Rt,""),h.length<2)return"";for(;h.length%4!==0;)h=h+"=";return h}function Ut(h,s){s=s||1/0;let a;const g=h.length;let S=null;const M=[];for(let T=0;T<g;++T){if(a=h.charCodeAt(T),a>55295&&a<57344){if(!S){if(a>56319){(s-=3)>-1&&M.push(239,191,189);continue}else if(T+1===g){(s-=3)>-1&&M.push(239,191,189);continue}S=a;continue}if(a<56320){(s-=3)>-1&&M.push(239,191,189),S=a;continue}a=(S-55296<<10|a-56320)+65536}else S&&(s-=3)>-1&&M.push(239,191,189);if(S=null,a<128){if((s-=1)<0)break;M.push(a)}else if(a<2048){if((s-=2)<0)break;M.push(a>>6|192,a&63|128)}else if(a<65536){if((s-=3)<0)break;M.push(a>>12|224,a>>6&63|128,a&63|128)}else if(a<1114112){if((s-=4)<0)break;M.push(a>>18|240,a>>12&63|128,a>>6&63|128,a&63|128)}else throw new Error("Invalid code point")}return M}function qt(h){const s=[];for(let a=0;a<h.length;++a)s.push(h.charCodeAt(a)&255);return s}function sr(h,s){let a,g,S;const M=[];for(let T=0;T<h.length&&!((s-=2)<0);++T)a=h.charCodeAt(T),g=a>>8,S=a%256,M.push(S),M.push(g);return M}function Ft(h){return t.toByteArray(je(h))}function Ct(h,s,a,g){let S;for(S=0;S<g&&!(S+a>=s.length||S>=h.length);++S)s[S+a]=h[S];return S}function Yt(h,s){return h instanceof s||h!=null&&h.constructor!=null&&h.constructor.name!=null&&h.constructor.name===s.name}function Ot(h){return h!==h}const $t=function(){const h="0123456789abcdef",s=new Array(256);for(let a=0;a<16;++a){const g=a*16;for(let S=0;S<16;++S)s[g+S]=h[a]+h[S]}return s}();function he(h){return typeof BigInt>"u"?Nt:h}function Nt(){throw new Error("BigInt not supported")}})(Ke);function Wu(r){if(!Number.isSafeInteger(r)||r<0)throw new Error(`Wrong positive integer: ${r}`)}function Dx(r){if(typeof r!="boolean")throw new Error(`Expected boolean, not ${r}`)}function pd(r,...t){if(!(r instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(t.length>0&&!t.includes(r.length))throw new TypeError(`Expected Uint8Array of length ${t}, not of length=${r.length}`)}function zx(r){if(typeof r!="function"||typeof r.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Wu(r.outputLen),Wu(r.blockLen)}function qx(r,t=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(t&&r.finished)throw new Error("Hash#digest() has already been called")}function Wx(r,t){pd(r);const e=t.outputLen;if(r.length<e)throw new Error(`digestInto() expects output buffer of length at least ${e}`)}const Wr={number:Wu,bool:Dx,bytes:pd,hash:zx,exists:qx,output:Wx};/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Hx=r=>new Uint32Array(r.buffer,r.byteOffset,Math.floor(r.byteLength/4)),Hu=r=>new DataView(r.buffer,r.byteOffset,r.byteLength),Bn=(r,t)=>r<<32-t|r>>>t;if(!(new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68))throw new Error("Non little-endian hardware is not supported");Array.from({length:256},(r,t)=>t.toString(16).padStart(2,"0"));function jx(r){if(typeof r!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof r}`);return new TextEncoder().encode(r)}function Es(r){if(typeof r=="string"&&(r=jx(r)),!(r instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof r})`);return r}class ju{clone(){return this._cloneInto()}}function $i(r){const t=n=>r().update(Es(n)).digest(),e=r();return t.outputLen=e.outputLen,t.blockLen=e.blockLen,t.create=()=>r(),t}function Kx(r){const t=(n,o)=>r(o).update(Es(n)).digest(),e=r({});return t.outputLen=e.outputLen,t.blockLen=e.blockLen,t.create=n=>r(n),t}function Gx(r,t,e,n){if(typeof r.setBigUint64=="function")return r.setBigUint64(t,e,n);const o=BigInt(32),i=BigInt(4294967295),c=Number(e>>o&i),u=Number(e&i),p=n?4:0,b=n?0:4;r.setUint32(t+p,c,n),r.setUint32(t+b,u,n)}class gd extends ju{constructor(t,e,n,o){super(),this.blockLen=t,this.outputLen=e,this.padOffset=n,this.isLE=o,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=Hu(this.buffer)}update(t){Wr.exists(this);const{view:e,buffer:n,blockLen:o}=this;t=Es(t);const i=t.length;for(let c=0;c<i;){const u=Math.min(o-this.pos,i-c);if(u===o){const p=Hu(t);for(;o<=i-c;c+=o)this.process(p,c);continue}n.set(t.subarray(c,c+u),this.pos),this.pos+=u,c+=u,this.pos===o&&(this.process(e,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Wr.exists(this),Wr.output(t,this),this.finished=!0;const{buffer:e,view:n,blockLen:o,isLE:i}=this;let{pos:c}=this;e[c++]=128,this.buffer.subarray(c).fill(0),this.padOffset>o-c&&(this.process(n,0),c=0);for(let B=c;B<o;B++)e[B]=0;Gx(n,o-8,BigInt(this.length*8),i),this.process(n,0);const u=Hu(t),p=this.outputLen;if(p%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const b=p/4,_=this.get();if(b>_.length)throw new Error("_sha2: outputLen bigger than state");for(let B=0;B<b;B++)u.setUint32(4*B,_[B],i)}digest(){const{buffer:t,outputLen:e}=this;this.digestInto(t);const n=t.slice(0,e);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:e,buffer:n,length:o,finished:i,destroyed:c,pos:u}=this;return t.length=o,t.pos=u,t.finished=i,t.destroyed=c,o%e&&t.buffer.set(n),t}}const Ba=BigInt(2**32-1),Ku=BigInt(32);function yd(r,t=!1){return t?{h:Number(r&Ba),l:Number(r>>Ku&Ba)}:{h:Number(r>>Ku&Ba)|0,l:Number(r&Ba)|0}}function Vx(r,t=!1){let e=new Uint32Array(r.length),n=new Uint32Array(r.length);for(let o=0;o<r.length;o++){const{h:i,l:c}=yd(r[o],t);[e[o],n[o]]=[i,c]}return[e,n]}const Zx=(r,t)=>BigInt(r>>>0)<<Ku|BigInt(t>>>0),Yx=(r,t,e)=>r>>>e,Xx=(r,t,e)=>r<<32-e|t>>>e,Jx=(r,t,e)=>r>>>e|t<<32-e,Qx=(r,t,e)=>r<<32-e|t>>>e,t2=(r,t,e)=>r<<64-e|t>>>e-32,e2=(r,t,e)=>r>>>e-32|t<<64-e,r2=(r,t)=>t,n2=(r,t)=>r,i2=(r,t,e)=>r<<e|t>>>32-e,o2=(r,t,e)=>t<<e|r>>>32-e,s2=(r,t,e)=>t<<e-32|r>>>64-e,a2=(r,t,e)=>r<<e-32|t>>>64-e;function c2(r,t,e,n){const o=(t>>>0)+(n>>>0);return{h:r+e+(o/2**32|0)|0,l:o|0}}const Vt={fromBig:yd,split:Vx,toBig:Zx,shrSH:Yx,shrSL:Xx,rotrSH:Jx,rotrSL:Qx,rotrBH:t2,rotrBL:e2,rotr32H:r2,rotr32L:n2,rotlSH:i2,rotlSL:o2,rotlBH:s2,rotlBL:a2,add:c2,add3L:(r,t,e)=>(r>>>0)+(t>>>0)+(e>>>0),add3H:(r,t,e,n)=>t+e+n+(r/2**32|0)|0,add4L:(r,t,e,n)=>(r>>>0)+(t>>>0)+(e>>>0)+(n>>>0),add4H:(r,t,e,n,o)=>t+e+n+o+(r/2**32|0)|0,add5H:(r,t,e,n,o,i)=>t+e+n+o+i+(r/2**32|0)|0,add5L:(r,t,e,n,o)=>(r>>>0)+(t>>>0)+(e>>>0)+(n>>>0)+(o>>>0)},[u2,f2]=Vt.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(r=>BigInt(r))),ei=new Uint32Array(80),ri=new Uint32Array(80);class Aa extends gd{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:t,Al:e,Bh:n,Bl:o,Ch:i,Cl:c,Dh:u,Dl:p,Eh:b,El:_,Fh:B,Fl:C,Gh:k,Gl:O,Hh:U,Hl:R}=this;return[t,e,n,o,i,c,u,p,b,_,B,C,k,O,U,R]}set(t,e,n,o,i,c,u,p,b,_,B,C,k,O,U,R){this.Ah=t|0,this.Al=e|0,this.Bh=n|0,this.Bl=o|0,this.Ch=i|0,this.Cl=c|0,this.Dh=u|0,this.Dl=p|0,this.Eh=b|0,this.El=_|0,this.Fh=B|0,this.Fl=C|0,this.Gh=k|0,this.Gl=O|0,this.Hh=U|0,this.Hl=R|0}process(t,e){for(let L=0;L<16;L++,e+=4)ei[L]=t.getUint32(e),ri[L]=t.getUint32(e+=4);for(let L=16;L<80;L++){const z=ei[L-15]|0,$=ri[L-15]|0,N=Vt.rotrSH(z,$,1)^Vt.rotrSH(z,$,8)^Vt.shrSH(z,$,7),q=Vt.rotrSL(z,$,1)^Vt.rotrSL(z,$,8)^Vt.shrSL(z,$,7),W=ei[L-2]|0,et=ri[L-2]|0,ht=Vt.rotrSH(W,et,19)^Vt.rotrBH(W,et,61)^Vt.shrSH(W,et,6),Q=Vt.rotrSL(W,et,19)^Vt.rotrBL(W,et,61)^Vt.shrSL(W,et,6),mt=Vt.add4L(q,Q,ri[L-7],ri[L-16]),I=Vt.add4H(mt,N,ht,ei[L-7],ei[L-16]);ei[L]=I|0,ri[L]=mt|0}let{Ah:n,Al:o,Bh:i,Bl:c,Ch:u,Cl:p,Dh:b,Dl:_,Eh:B,El:C,Fh:k,Fl:O,Gh:U,Gl:R,Hh:P,Hl:F}=this;for(let L=0;L<80;L++){const z=Vt.rotrSH(B,C,14)^Vt.rotrSH(B,C,18)^Vt.rotrBH(B,C,41),$=Vt.rotrSL(B,C,14)^Vt.rotrSL(B,C,18)^Vt.rotrBL(B,C,41),N=B&k^~B&U,q=C&O^~C&R,W=Vt.add5L(F,$,q,f2[L],ri[L]),et=Vt.add5H(W,P,z,N,u2[L],ei[L]),ht=W|0,Q=Vt.rotrSH(n,o,28)^Vt.rotrBH(n,o,34)^Vt.rotrBH(n,o,39),mt=Vt.rotrSL(n,o,28)^Vt.rotrBL(n,o,34)^Vt.rotrBL(n,o,39),I=n&i^n&u^i&u,f=o&c^o&p^c&p;P=U|0,F=R|0,U=k|0,R=O|0,k=B|0,O=C|0,{h:B,l:C}=Vt.add(b|0,_|0,et|0,ht|0),b=u|0,_=p|0,u=i|0,p=c|0,i=n|0,c=o|0;const d=Vt.add3L(ht,mt,f);n=Vt.add3H(d,et,Q,I),o=d|0}({h:n,l:o}=Vt.add(this.Ah|0,this.Al|0,n|0,o|0)),{h:i,l:c}=Vt.add(this.Bh|0,this.Bl|0,i|0,c|0),{h:u,l:p}=Vt.add(this.Ch|0,this.Cl|0,u|0,p|0),{h:b,l:_}=Vt.add(this.Dh|0,this.Dl|0,b|0,_|0),{h:B,l:C}=Vt.add(this.Eh|0,this.El|0,B|0,C|0),{h:k,l:O}=Vt.add(this.Fh|0,this.Fl|0,k|0,O|0),{h:U,l:R}=Vt.add(this.Gh|0,this.Gl|0,U|0,R|0),{h:P,l:F}=Vt.add(this.Hh|0,this.Hl|0,P|0,F|0),this.set(n,o,i,c,u,p,b,_,B,C,k,O,U,R,P,F)}roundClean(){ei.fill(0),ri.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class l2 extends Aa{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}}class h2 extends Aa{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class d2 extends Aa{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}const p2=$i(()=>new Aa);$i(()=>new l2),$i(()=>new h2),$i(()=>new d2);/*! noble-ed25519 - MIT License (c) 2019 Paul Miller (paulmillr.com) */const hr=BigInt(0),ye=BigInt(1),Uo=BigInt(2),md=BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),Ge=Object.freeze({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),P:BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),l:md,n:md,h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960")}),wd=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000"),_s=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt("6853475219497561581579357271197624642482790079785650197046958215289687604742");const g2=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),y2=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),m2=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),w2=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952");class Me{constructor(t,e,n,o){this.x=t,this.y=e,this.z=n,this.t=o}static fromAffine(t){if(!(t instanceof Cr))throw new TypeError("ExtendedPoint#fromAffine: expected Point");return t.equals(Cr.ZERO)?Me.ZERO:new Me(t.x,t.y,ye,st(t.x*t.y))}static toAffineBatch(t){const e=x2(t.map(n=>n.z));return t.map((n,o)=>n.toAffine(e[o]))}static normalizeZ(t){return this.toAffineBatch(t).map(this.fromAffine)}equals(t){bd(t);const{x:e,y:n,z:o}=this,{x:i,y:c,z:u}=t,p=st(e*u),b=st(i*o),_=st(n*u),B=st(c*o);return p===b&&_===B}negate(){return new Me(st(-this.x),this.y,this.z,st(-this.t))}double(){const{x:t,y:e,z:n}=this,{a:o}=Ge,i=st(t*t),c=st(e*e),u=st(Uo*st(n*n)),p=st(o*i),b=t+e,_=st(st(b*b)-i-c),B=p+c,C=B-u,k=p-c,O=st(_*C),U=st(B*k),R=st(_*k),P=st(C*B);return new Me(O,U,P,R)}add(t){bd(t);const{x:e,y:n,z:o,t:i}=this,{x:c,y:u,z:p,t:b}=t,_=st((n-e)*(u+c)),B=st((n+e)*(u-c)),C=st(B-_);if(C===hr)return this.double();const k=st(o*Uo*b),O=st(i*Uo*p),U=O+k,R=B+_,P=O-k,F=st(U*C),L=st(R*P),z=st(U*P),$=st(C*R);return new Me(F,L,$,z)}subtract(t){return this.add(t.negate())}precomputeWindow(t){const e=1+256/t,n=[];let o=this,i=o;for(let c=0;c<e;c++){i=o,n.push(i);for(let u=1;u<2**(t-1);u++)i=i.add(o),n.push(i);o=i.double()}return n}wNAF(t,e){!e&&this.equals(Me.BASE)&&(e=Cr.BASE);const n=e&&e._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let o=e&&Zu.get(e);o||(o=this.precomputeWindow(n),e&&n!==1&&(o=Me.normalizeZ(o),Zu.set(e,o)));let i=Me.ZERO,c=Me.ZERO;const u=1+256/n,p=2**(n-1),b=BigInt(2**n-1),_=2**n,B=BigInt(n);for(let C=0;C<u;C++){const k=C*p;let O=Number(t&b);if(t>>=B,O>p&&(O-=_,t+=ye),O===0){let U=o[k];C%2&&(U=U.negate()),c=c.add(U)}else{let U=o[k+Math.abs(O)-1];O<0&&(U=U.negate()),i=i.add(U)}}return Me.normalizeZ([i,c])[0]}multiply(t,e){return this.wNAF(Qu(t,Ge.l),e)}multiplyUnsafe(t){let e=Qu(t,Ge.l,!1);const n=Me.BASE,o=Me.ZERO;if(e===hr)return o;if(this.equals(o)||e===ye)return this;if(this.equals(n))return this.wNAF(e);let i=o,c=this;for(;e>hr;)e&ye&&(i=i.add(c)),c=c.double(),e>>=ye;return i}isSmallOrder(){return this.multiplyUnsafe(Ge.h).equals(Me.ZERO)}isTorsionFree(){return this.multiplyUnsafe(Ge.l).equals(Me.ZERO)}toAffine(t=Ta(this.z)){const{x:e,y:n,z:o}=this,i=st(e*t),c=st(n*t);if(st(o*t)!==ye)throw new Error("invZ was invalid");return new Cr(i,c)}fromRistrettoBytes(){Vu()}toRistrettoBytes(){Vu()}fromRistrettoHash(){Vu()}}Me.BASE=new Me(Ge.Gx,Ge.Gy,ye,st(Ge.Gx*Ge.Gy)),Me.ZERO=new Me(hr,ye,ye,hr);function bd(r){if(!(r instanceof Me))throw new TypeError("ExtendedPoint expected")}function Gu(r){if(!(r instanceof tn))throw new TypeError("RistrettoPoint expected")}function Vu(){throw new Error("Legacy method: switch to RistrettoPoint")}class tn{constructor(t){this.ep=t}static calcElligatorRistrettoMap(t){const{d:e}=Ge,n=st(_s*t*t),o=st((n+ye)*m2);let i=BigInt(-1);const c=st((i-e*n)*st(n+e));let{isValid:u,value:p}=Ju(o,c),b=st(p*t);ni(b)||(b=st(-b)),u||(p=b),u||(i=n);const _=st(i*(n-ye)*w2-c),B=p*p,C=st((p+p)*c),k=st(_*g2),O=st(ye-B),U=st(ye+B);return new Me(st(C*U),st(O*k),st(k*U),st(C*O))}static hashToCurve(t){t=Ss(t,64);const e=Xu(t.slice(0,32)),n=this.calcElligatorRistrettoMap(e),o=Xu(t.slice(32,64)),i=this.calcElligatorRistrettoMap(o);return new tn(n.add(i))}static fromHex(t){t=Ss(t,32);const{a:e,d:n}=Ge,o="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",i=Xu(t);if(!S2(Ma(i),t)||ni(i))throw new Error(o);const c=st(i*i),u=st(ye+e*c),p=st(ye-e*c),b=st(u*u),_=st(p*p),B=st(e*n*b-_),{isValid:C,value:k}=Ed(st(B*_)),O=st(k*p),U=st(k*O*B);let R=st((i+i)*O);ni(R)&&(R=st(-R));const P=st(u*U),F=st(R*P);if(!C||ni(F)||P===hr)throw new Error(o);return new tn(new Me(R,P,ye,F))}toRawBytes(){let{x:t,y:e,z:n,t:o}=this.ep;const i=st(st(n+e)*st(n-e)),c=st(t*e),u=st(c*c),{value:p}=Ed(st(i*u)),b=st(p*i),_=st(p*c),B=st(b*_*o);let C;if(ni(o*B)){let O=st(e*_s),U=st(t*_s);t=O,e=U,C=st(b*y2)}else C=_;ni(t*B)&&(e=st(-e));let k=st((n-e)*C);return ni(k)&&(k=st(-k)),Ma(k)}toHex(){return Ia(this.toRawBytes())}toString(){return this.toHex()}equals(t){Gu(t);const e=this.ep,n=t.ep,o=st(e.x*n.y)===st(e.y*n.x),i=st(e.y*n.y)===st(e.x*n.x);return o||i}add(t){return Gu(t),new tn(this.ep.add(t.ep))}subtract(t){return Gu(t),new tn(this.ep.subtract(t.ep))}multiply(t){return new tn(this.ep.multiply(t))}multiplyUnsafe(t){return new tn(this.ep.multiplyUnsafe(t))}}tn.BASE=new tn(Me.BASE),tn.ZERO=new tn(Me.ZERO);const Zu=new WeakMap;let Cr=class ol{constructor(t,e){this.x=t,this.y=e}_setWindowSize(t){this._WINDOW_SIZE=t,Zu.delete(this)}static fromHex(t,e=!0){const{d:n,P:o}=Ge;t=Ss(t,32);const i=t.slice();i[31]=t[31]&-129;const c=ka(i);if(e&&c>=o)throw new Error("Expected 0 < hex < P");if(!e&&c>=wd)throw new Error("Expected 0 < hex < 2**256");const u=st(c*c),p=st(u-ye),b=st(n*u+ye);let{isValid:_,value:B}=Ju(p,b);if(!_)throw new Error("Point.fromHex: invalid y coordinate");const C=(B&ye)===ye;return(t[31]&128)!==0!==C&&(B=st(-B)),new ol(B,c)}static async fromPrivateKey(t){return(await _d(t)).point}toRawBytes(){const t=Ma(this.y);return t[31]|=this.x&ye?128:0,t}toHex(){return Ia(this.toRawBytes())}toX25519(){const{y:t}=this,e=st((ye+t)*Ta(ye-t));return Ma(e)}isTorsionFree(){return Me.fromAffine(this).isTorsionFree()}equals(t){return this.x===t.x&&this.y===t.y}negate(){return new ol(st(-this.x),this.y)}add(t){return Me.fromAffine(this).add(Me.fromAffine(t)).toAffine()}subtract(t){return this.add(t.negate())}multiply(t){return Me.fromAffine(this).multiply(t,this).toAffine()}};Cr.BASE=new Cr(Ge.Gx,Ge.Gy),Cr.ZERO=new Cr(hr,ye);function vd(...r){if(!r.every(n=>n instanceof Uint8Array))throw new Error("Expected Uint8Array list");if(r.length===1)return r[0];const t=r.reduce((n,o)=>n+o.length,0),e=new Uint8Array(t);for(let n=0,o=0;n<r.length;n++){const i=r[n];e.set(i,o),o+=i.length}return e}const b2=Array.from({length:256},(r,t)=>t.toString(16).padStart(2,"0"));function Ia(r){if(!(r instanceof Uint8Array))throw new Error("Uint8Array expected");let t="";for(let e=0;e<r.length;e++)t+=b2[r[e]];return t}function Yu(r){if(typeof r!="string")throw new TypeError("hexToBytes: expected string, got "+typeof r);if(r.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const t=new Uint8Array(r.length/2);for(let e=0;e<t.length;e++){const n=e*2,o=r.slice(n,n+2),i=Number.parseInt(o,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");t[e]=i}return t}function xd(r){const e=r.toString(16).padStart(64,"0");return Yu(e)}function Ma(r){return xd(r).reverse()}function ni(r){return(st(r)&ye)===ye}function ka(r){if(!(r instanceof Uint8Array))throw new Error("Expected Uint8Array");return BigInt("0x"+Ia(Uint8Array.from(r).reverse()))}const v2=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function Xu(r){return st(ka(r)&v2)}function st(r,t=Ge.P){const e=r%t;return e>=hr?e:t+e}function Ta(r,t=Ge.P){if(r===hr||t<=hr)throw new Error(`invert: expected positive integers, got n=${r} mod=${t}`);let e=st(r,t),n=t,o=hr,i=ye;for(;e!==hr;){const u=n/e,p=n%e,b=o-i*u;n=e,e=p,o=i,i=b}if(n!==ye)throw new Error("invert: does not exist");return st(o,t)}function x2(r,t=Ge.P){const e=new Array(r.length),n=r.reduce((i,c,u)=>c===hr?i:(e[u]=i,st(i*c,t)),ye),o=Ta(n,t);return r.reduceRight((i,c,u)=>c===hr?i:(e[u]=st(i*e[u],t),st(i*c,t)),o),e}function An(r,t){const{P:e}=Ge;let n=r;for(;t-- >hr;)n*=n,n%=e;return n}function E2(r){const{P:t}=Ge,e=BigInt(5),n=BigInt(10),o=BigInt(20),i=BigInt(40),c=BigInt(80),p=r*r%t*r%t,b=An(p,Uo)*p%t,_=An(b,ye)*r%t,B=An(_,e)*_%t,C=An(B,n)*B%t,k=An(C,o)*C%t,O=An(k,i)*k%t,U=An(O,c)*O%t,R=An(U,c)*O%t,P=An(R,n)*B%t;return{pow_p_5_8:An(P,Uo)*r%t,b2:p}}function Ju(r,t){const e=st(t*t*t),n=st(e*e*t),o=E2(r*n).pow_p_5_8;let i=st(r*e*o);const c=st(t*i*i),u=i,p=st(i*_s),b=c===r,_=c===st(-r),B=c===st(-r*_s);return b&&(i=u),(_||B)&&(i=p),ni(i)&&(i=st(-i)),{isValid:b||_,value:i}}function Ed(r){return Ju(ye,r)}function _2(r){return st(ka(r),Ge.l)}function S2(r,t){if(r.length!==t.length)return!1;for(let e=0;e<r.length;e++)if(r[e]!==t[e])return!1;return!0}function Ss(r,t){const e=r instanceof Uint8Array?Uint8Array.from(r):Yu(r);if(typeof t=="number"&&e.length!==t)throw new Error(`Expected ${t} bytes`);return e}function Qu(r,t,e=!0){if(!t)throw new TypeError("Specify max value");if(typeof r=="number"&&Number.isSafeInteger(r)&&(r=BigInt(r)),typeof r=="bigint"&&r<t){if(e){if(hr<r)return r}else if(hr<=r)return r}throw new TypeError("Expected valid scalar: 0 < scalar < max")}function B2(r){return r[0]&=248,r[31]&=127,r[31]|=64,r}function A2(r){if(r=typeof r=="bigint"||typeof r=="number"?xd(Qu(r,wd)):Ss(r),r.length!==32)throw new Error("Expected 32 bytes");return r}function I2(r){const t=B2(r.slice(0,32)),e=r.slice(32,64),n=_2(t),o=Cr.BASE.multiply(n),i=o.toRawBytes();return{head:t,prefix:e,scalar:n,point:o,pointBytes:i}}let tf;async function _d(r){return I2(await Oo.sha512(A2(r)))}Cr.BASE._setWindowSize(8);const ii={node:xc,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},Oo={bytesToHex:Ia,hexToBytes:Yu,concatBytes:vd,getExtendedPublicKey:_d,mod:st,invert:Ta,TORSION_SUBGROUP:["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"],hashToPrivateScalar:r=>{if(r=Ss(r),r.length<40||r.length>1024)throw new Error("Expected 40-1024 bytes of private key as per FIPS 186");return st(ka(r),Ge.l-ye)+ye},randomBytes:(r=32)=>{if(ii.web)return ii.web.getRandomValues(new Uint8Array(r));if(ii.node){const{randomBytes:t}=ii.node;return new Uint8Array(t(r).buffer)}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>Oo.randomBytes(32),sha512:async(...r)=>{const t=vd(...r);if(ii.web){const e=await ii.web.subtle.digest("SHA-512",t.buffer);return new Uint8Array(e)}else{if(ii.node)return Uint8Array.from(ii.node.createHash("sha512").update(t).digest());throw new Error("The environment doesn't have sha512 function")}},precompute(r=8,t=Cr.BASE){const e=t.equals(Cr.BASE)?t:new Cr(t.x,t.y);return e._setWindowSize(r),e.multiply(Uo),e},sha512Sync:void 0};Object.defineProperties(Oo,{sha512Sync:{configurable:!1,get(){return tf},set(r){tf||(tf=r)}}});var ef={exports:{}};ef.exports,function(r){(function(t,e){function n(I,f){if(!I)throw new Error(f||"Assertion failed")}function o(I,f){I.super_=f;var d=function(){};d.prototype=f.prototype,I.prototype=new d,I.prototype.constructor=I}function i(I,f,d){if(i.isBN(I))return I;this.negative=0,this.words=null,this.length=0,this.red=null,I!==null&&((f==="le"||f==="be")&&(d=f,f=10),this._init(I||0,f||10,d||"be"))}typeof t=="object"?t.exports=i:e.BN=i,i.BN=i,i.wordSize=26;var c;try{typeof window<"u"&&typeof window.Buffer<"u"?c=window.Buffer:c=Ll.Buffer}catch{}i.isBN=function(f){return f instanceof i?!0:f!==null&&typeof f=="object"&&f.constructor.wordSize===i.wordSize&&Array.isArray(f.words)},i.max=function(f,d){return f.cmp(d)>0?f:d},i.min=function(f,d){return f.cmp(d)<0?f:d},i.prototype._init=function(f,d,y){if(typeof f=="number")return this._initNumber(f,d,y);if(typeof f=="object")return this._initArray(f,d,y);d==="hex"&&(d=16),n(d===(d|0)&&d>=2&&d<=36),f=f.toString().replace(/\s+/g,"");var w=0;f[0]==="-"&&(w++,this.negative=1),w<f.length&&(d===16?this._parseHex(f,w,y):(this._parseBase(f,d,w),y==="le"&&this._initArray(this.toArray(),d,y)))},i.prototype._initNumber=function(f,d,y){f<0&&(this.negative=1,f=-f),f<67108864?(this.words=[f&67108863],this.length=1):f<4503599627370496?(this.words=[f&67108863,f/67108864&67108863],this.length=2):(n(f<9007199254740992),this.words=[f&67108863,f/67108864&67108863,1],this.length=3),y==="le"&&this._initArray(this.toArray(),d,y)},i.prototype._initArray=function(f,d,y){if(n(typeof f.length=="number"),f.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(f.length/3),this.words=new Array(this.length);for(var w=0;w<this.length;w++)this.words[w]=0;var v,x,A=0;if(y==="be")for(w=f.length-1,v=0;w>=0;w-=3)x=f[w]|f[w-1]<<8|f[w-2]<<16,this.words[v]|=x<<A&67108863,this.words[v+1]=x>>>26-A&67108863,A+=24,A>=26&&(A-=26,v++);else if(y==="le")for(w=0,v=0;w<f.length;w+=3)x=f[w]|f[w+1]<<8|f[w+2]<<16,this.words[v]|=x<<A&67108863,this.words[v+1]=x>>>26-A&67108863,A+=24,A>=26&&(A-=26,v++);return this._strip()};function u(I,f){var d=I.charCodeAt(f);if(d>=48&&d<=57)return d-48;if(d>=65&&d<=70)return d-55;if(d>=97&&d<=102)return d-87;n(!1,"Invalid character in "+I)}function p(I,f,d){var y=u(I,d);return d-1>=f&&(y|=u(I,d-1)<<4),y}i.prototype._parseHex=function(f,d,y){this.length=Math.ceil((f.length-d)/6),this.words=new Array(this.length);for(var w=0;w<this.length;w++)this.words[w]=0;var v=0,x=0,A;if(y==="be")for(w=f.length-1;w>=d;w-=2)A=p(f,d,w)<<v,this.words[x]|=A&67108863,v>=18?(v-=18,x+=1,this.words[x]|=A>>>26):v+=8;else{var m=f.length-d;for(w=m%2===0?d+1:d;w<f.length;w+=2)A=p(f,d,w)<<v,this.words[x]|=A&67108863,v>=18?(v-=18,x+=1,this.words[x]|=A>>>26):v+=8}this._strip()};function b(I,f,d,y){for(var w=0,v=0,x=Math.min(I.length,d),A=f;A<x;A++){var m=I.charCodeAt(A)-48;w*=y,m>=49?v=m-49+10:m>=17?v=m-17+10:v=m,n(m>=0&&v<y,"Invalid character"),w+=v}return w}i.prototype._parseBase=function(f,d,y){this.words=[0],this.length=1;for(var w=0,v=1;v<=67108863;v*=d)w++;w--,v=v/d|0;for(var x=f.length-y,A=x%w,m=Math.min(x,x-A)+y,l=0,E=y;E<m;E+=w)l=b(f,E,E+w,d),this.imuln(v),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l);if(A!==0){var H=1;for(l=b(f,E,f.length,d),E=0;E<A;E++)H*=d;this.imuln(H),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l)}this._strip()},i.prototype.copy=function(f){f.words=new Array(this.length);for(var d=0;d<this.length;d++)f.words[d]=this.words[d];f.length=this.length,f.negative=this.negative,f.red=this.red};function _(I,f){I.words=f.words,I.length=f.length,I.negative=f.negative,I.red=f.red}if(i.prototype._move=function(f){_(f,this)},i.prototype.clone=function(){var f=new i(null);return this.copy(f),f},i.prototype._expand=function(f){for(;this.length<f;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=B}catch{i.prototype.inspect=B}else i.prototype.inspect=B;function B(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var C=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],k=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],O=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(f,d){f=f||10,d=d|0||1;var y;if(f===16||f==="hex"){y="";for(var w=0,v=0,x=0;x<this.length;x++){var A=this.words[x],m=((A<<w|v)&16777215).toString(16);v=A>>>24-w&16777215,w+=2,w>=26&&(w-=26,x--),v!==0||x!==this.length-1?y=C[6-m.length]+m+y:y=m+y}for(v!==0&&(y=v.toString(16)+y);y.length%d!==0;)y="0"+y;return this.negative!==0&&(y="-"+y),y}if(f===(f|0)&&f>=2&&f<=36){var l=k[f],E=O[f];y="";var H=this.clone();for(H.negative=0;!H.isZero();){var K=H.modrn(E).toString(f);H=H.idivn(E),H.isZero()?y=K+y:y=C[l-K.length]+K+y}for(this.isZero()&&(y="0"+y);y.length%d!==0;)y="0"+y;return this.negative!==0&&(y="-"+y),y}n(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var f=this.words[0];return this.length===2?f+=this.words[1]*67108864:this.length===3&&this.words[2]===1?f+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-f:f},i.prototype.toJSON=function(){return this.toString(16,2)},c&&(i.prototype.toBuffer=function(f,d){return this.toArrayLike(c,f,d)}),i.prototype.toArray=function(f,d){return this.toArrayLike(Array,f,d)};var U=function(f,d){return f.allocUnsafe?f.allocUnsafe(d):new f(d)};i.prototype.toArrayLike=function(f,d,y){this._strip();var w=this.byteLength(),v=y||Math.max(1,w);n(w<=v,"byte array longer than desired length"),n(v>0,"Requested array length <= 0");var x=U(f,v),A=d==="le"?"LE":"BE";return this["_toArrayLike"+A](x,w),x},i.prototype._toArrayLikeLE=function(f,d){for(var y=0,w=0,v=0,x=0;v<this.length;v++){var A=this.words[v]<<x|w;f[y++]=A&255,y<f.length&&(f[y++]=A>>8&255),y<f.length&&(f[y++]=A>>16&255),x===6?(y<f.length&&(f[y++]=A>>24&255),w=0,x=0):(w=A>>>24,x+=2)}if(y<f.length)for(f[y++]=w;y<f.length;)f[y++]=0},i.prototype._toArrayLikeBE=function(f,d){for(var y=f.length-1,w=0,v=0,x=0;v<this.length;v++){var A=this.words[v]<<x|w;f[y--]=A&255,y>=0&&(f[y--]=A>>8&255),y>=0&&(f[y--]=A>>16&255),x===6?(y>=0&&(f[y--]=A>>24&255),w=0,x=0):(w=A>>>24,x+=2)}if(y>=0)for(f[y--]=w;y>=0;)f[y--]=0},Math.clz32?i.prototype._countBits=function(f){return 32-Math.clz32(f)}:i.prototype._countBits=function(f){var d=f,y=0;return d>=4096&&(y+=13,d>>>=13),d>=64&&(y+=7,d>>>=7),d>=8&&(y+=4,d>>>=4),d>=2&&(y+=2,d>>>=2),y+d},i.prototype._zeroBits=function(f){if(f===0)return 26;var d=f,y=0;return d&8191||(y+=13,d>>>=13),d&127||(y+=7,d>>>=7),d&15||(y+=4,d>>>=4),d&3||(y+=2,d>>>=2),d&1||y++,y},i.prototype.bitLength=function(){var f=this.words[this.length-1],d=this._countBits(f);return(this.length-1)*26+d};function R(I){for(var f=new Array(I.bitLength()),d=0;d<f.length;d++){var y=d/26|0,w=d%26;f[d]=I.words[y]>>>w&1}return f}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var f=0,d=0;d<this.length;d++){var y=this._zeroBits(this.words[d]);if(f+=y,y!==26)break}return f},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(f){return this.negative!==0?this.abs().inotn(f).iaddn(1):this.clone()},i.prototype.fromTwos=function(f){return this.testn(f-1)?this.notn(f).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(f){for(;this.length<f.length;)this.words[this.length++]=0;for(var d=0;d<f.length;d++)this.words[d]=this.words[d]|f.words[d];return this._strip()},i.prototype.ior=function(f){return n((this.negative|f.negative)===0),this.iuor(f)},i.prototype.or=function(f){return this.length>f.length?this.clone().ior(f):f.clone().ior(this)},i.prototype.uor=function(f){return this.length>f.length?this.clone().iuor(f):f.clone().iuor(this)},i.prototype.iuand=function(f){var d;this.length>f.length?d=f:d=this;for(var y=0;y<d.length;y++)this.words[y]=this.words[y]&f.words[y];return this.length=d.length,this._strip()},i.prototype.iand=function(f){return n((this.negative|f.negative)===0),this.iuand(f)},i.prototype.and=function(f){return this.length>f.length?this.clone().iand(f):f.clone().iand(this)},i.prototype.uand=function(f){return this.length>f.length?this.clone().iuand(f):f.clone().iuand(this)},i.prototype.iuxor=function(f){var d,y;this.length>f.length?(d=this,y=f):(d=f,y=this);for(var w=0;w<y.length;w++)this.words[w]=d.words[w]^y.words[w];if(this!==d)for(;w<d.length;w++)this.words[w]=d.words[w];return this.length=d.length,this._strip()},i.prototype.ixor=function(f){return n((this.negative|f.negative)===0),this.iuxor(f)},i.prototype.xor=function(f){return this.length>f.length?this.clone().ixor(f):f.clone().ixor(this)},i.prototype.uxor=function(f){return this.length>f.length?this.clone().iuxor(f):f.clone().iuxor(this)},i.prototype.inotn=function(f){n(typeof f=="number"&&f>=0);var d=Math.ceil(f/26)|0,y=f%26;this._expand(d),y>0&&d--;for(var w=0;w<d;w++)this.words[w]=~this.words[w]&67108863;return y>0&&(this.words[w]=~this.words[w]&67108863>>26-y),this._strip()},i.prototype.notn=function(f){return this.clone().inotn(f)},i.prototype.setn=function(f,d){n(typeof f=="number"&&f>=0);var y=f/26|0,w=f%26;return this._expand(y+1),d?this.words[y]=this.words[y]|1<<w:this.words[y]=this.words[y]&~(1<<w),this._strip()},i.prototype.iadd=function(f){var d;if(this.negative!==0&&f.negative===0)return this.negative=0,d=this.isub(f),this.negative^=1,this._normSign();if(this.negative===0&&f.negative!==0)return f.negative=0,d=this.isub(f),f.negative=1,d._normSign();var y,w;this.length>f.length?(y=this,w=f):(y=f,w=this);for(var v=0,x=0;x<w.length;x++)d=(y.words[x]|0)+(w.words[x]|0)+v,this.words[x]=d&67108863,v=d>>>26;for(;v!==0&&x<y.length;x++)d=(y.words[x]|0)+v,this.words[x]=d&67108863,v=d>>>26;if(this.length=y.length,v!==0)this.words[this.length]=v,this.length++;else if(y!==this)for(;x<y.length;x++)this.words[x]=y.words[x];return this},i.prototype.add=function(f){var d;return f.negative!==0&&this.negative===0?(f.negative=0,d=this.sub(f),f.negative^=1,d):f.negative===0&&this.negative!==0?(this.negative=0,d=f.sub(this),this.negative=1,d):this.length>f.length?this.clone().iadd(f):f.clone().iadd(this)},i.prototype.isub=function(f){if(f.negative!==0){f.negative=0;var d=this.iadd(f);return f.negative=1,d._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(f),this.negative=1,this._normSign();var y=this.cmp(f);if(y===0)return this.negative=0,this.length=1,this.words[0]=0,this;var w,v;y>0?(w=this,v=f):(w=f,v=this);for(var x=0,A=0;A<v.length;A++)d=(w.words[A]|0)-(v.words[A]|0)+x,x=d>>26,this.words[A]=d&67108863;for(;x!==0&&A<w.length;A++)d=(w.words[A]|0)+x,x=d>>26,this.words[A]=d&67108863;if(x===0&&A<w.length&&w!==this)for(;A<w.length;A++)this.words[A]=w.words[A];return this.length=Math.max(this.length,A),w!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(f){return this.clone().isub(f)};function P(I,f,d){d.negative=f.negative^I.negative;var y=I.length+f.length|0;d.length=y,y=y-1|0;var w=I.words[0]|0,v=f.words[0]|0,x=w*v,A=x&67108863,m=x/67108864|0;d.words[0]=A;for(var l=1;l<y;l++){for(var E=m>>>26,H=m&67108863,K=Math.min(l,f.length-1),G=Math.max(0,l-I.length+1);G<=K;G++){var lt=l-G|0;w=I.words[lt]|0,v=f.words[G]|0,x=w*v+H,E+=x/67108864|0,H=x&67108863}d.words[l]=H|0,m=E|0}return m!==0?d.words[l]=m|0:d.length--,d._strip()}var F=function(f,d,y){var w=f.words,v=d.words,x=y.words,A=0,m,l,E,H=w[0]|0,K=H&8191,G=H>>>13,lt=w[1]|0,ot=lt&8191,ft=lt>>>13,Zt=w[2]|0,Bt=Zt&8191,_t=Zt>>>13,Wt=w[3]|0,xt=Wt&8191,Rt=Wt>>>13,je=w[4]|0,Ut=je&8191,qt=je>>>13,sr=w[5]|0,Ft=sr&8191,Ct=sr>>>13,Yt=w[6]|0,Ot=Yt&8191,$t=Yt>>>13,he=w[7]|0,Nt=he&8191,h=he>>>13,s=w[8]|0,a=s&8191,g=s>>>13,S=w[9]|0,M=S&8191,T=S>>>13,tt=v[0]|0,it=tt&8191,rt=tt>>>13,wt=v[1]|0,J=wt&8191,Xt=wt>>>13,hi=v[2]|0,Kt=hi&8191,Jt=hi>>>13,qn=v[3]|0,Qt=qn&8191,re=qn>>>13,di=v[4]|0,ne=di&8191,te=di>>>13,pi=v[5]|0,ie=pi&8191,oe=pi>>>13,gi=v[6]|0,se=gi&8191,ae=gi>>>13,Xi=v[7]|0,ce=Xi&8191,D=Xi>>>13,at=v[8]|0,nt=at&8191,dt=at>>>13,pe=v[9]|0,St=pe&8191,bt=pe>>>13;y.negative=f.negative^d.negative,y.length=19,m=Math.imul(K,it),l=Math.imul(K,rt),l=l+Math.imul(G,it)|0,E=Math.imul(G,rt);var ee=(A+m|0)+((l&8191)<<13)|0;A=(E+(l>>>13)|0)+(ee>>>26)|0,ee&=67108863,m=Math.imul(ot,it),l=Math.imul(ot,rt),l=l+Math.imul(ft,it)|0,E=Math.imul(ft,rt),m=m+Math.imul(K,J)|0,l=l+Math.imul(K,Xt)|0,l=l+Math.imul(G,J)|0,E=E+Math.imul(G,Xt)|0;var ze=(A+m|0)+((l&8191)<<13)|0;A=(E+(l>>>13)|0)+(ze>>>26)|0,ze&=67108863,m=Math.imul(Bt,it),l=Math.imul(Bt,rt),l=l+Math.imul(_t,it)|0,E=Math.imul(_t,rt),m=m+Math.imul(ot,J)|0,l=l+Math.imul(ot,Xt)|0,l=l+Math.imul(ft,J)|0,E=E+Math.imul(ft,Xt)|0,m=m+Math.imul(K,Kt)|0,l=l+Math.imul(K,Jt)|0,l=l+Math.imul(G,Kt)|0,E=E+Math.imul(G,Jt)|0;var Ie=(A+m|0)+((l&8191)<<13)|0;A=(E+(l>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,m=Math.imul(xt,it),l=Math.imul(xt,rt),l=l+Math.imul(Rt,it)|0,E=Math.imul(Rt,rt),m=m+Math.imul(Bt,J)|0,l=l+Math.imul(Bt,Xt)|0,l=l+Math.imul(_t,J)|0,E=E+Math.imul(_t,Xt)|0,m=m+Math.imul(ot,Kt)|0,l=l+Math.imul(ot,Jt)|0,l=l+Math.imul(ft,Kt)|0,E=E+Math.imul(ft,Jt)|0,m=m+Math.imul(K,Qt)|0,l=l+Math.imul(K,re)|0,l=l+Math.imul(G,Qt)|0,E=E+Math.imul(G,re)|0;var ke=(A+m|0)+((l&8191)<<13)|0;A=(E+(l>>>13)|0)+(ke>>>26)|0,ke&=67108863,m=Math.imul(Ut,it),l=Math.imul(Ut,rt),l=l+Math.imul(qt,it)|0,E=Math.imul(qt,rt),m=m+Math.imul(xt,J)|0,l=l+Math.imul(xt,Xt)|0,l=l+Math.imul(Rt,J)|0,E=E+Math.imul(Rt,Xt)|0,m=m+Math.imul(Bt,Kt)|0,l=l+Math.imul(Bt,Jt)|0,l=l+Math.imul(_t,Kt)|0,E=E+Math.imul(_t,Jt)|0,m=m+Math.imul(ot,Qt)|0,l=l+Math.imul(ot,re)|0,l=l+Math.imul(ft,Qt)|0,E=E+Math.imul(ft,re)|0,m=m+Math.imul(K,ne)|0,l=l+Math.imul(K,te)|0,l=l+Math.imul(G,ne)|0,E=E+Math.imul(G,te)|0;var Je=(A+m|0)+((l&8191)<<13)|0;A=(E+(l>>>13)|0)+(Je>>>26)|0,Je&=67108863,m=Math.imul(Ft,it),l=Math.imul(Ft,rt),l=l+Math.imul(Ct,it)|0,E=Math.imul(Ct,rt),m=m+Math.imul(Ut,J)|0,l=l+Math.imul(Ut,Xt)|0,l=l+Math.imul(qt,J)|0,E=E+Math.imul(qt,Xt)|0,m=m+Math.imul(xt,Kt)|0,l=l+Math.imul(xt,Jt)|0,l=l+Math.imul(Rt,Kt)|0,E=E+Math.imul(Rt,Jt)|0,m=m+Math.imul(Bt,Qt)|0,l=l+Math.imul(Bt,re)|0,l=l+Math.imul(_t,Qt)|0,E=E+Math.imul(_t,re)|0,m=m+Math.imul(ot,ne)|0,l=l+Math.imul(ot,te)|0,l=l+Math.imul(ft,ne)|0,E=E+Math.imul(ft,te)|0,m=m+Math.imul(K,ie)|0,l=l+Math.imul(K,oe)|0,l=l+Math.imul(G,ie)|0,E=E+Math.imul(G,oe)|0;var Or=(A+m|0)+((l&8191)<<13)|0;A=(E+(l>>>13)|0)+(Or>>>26)|0,Or&=67108863,m=Math.imul(Ot,it),l=Math.imul(Ot,rt),l=l+Math.imul($t,it)|0,E=Math.imul($t,rt),m=m+Math.imul(Ft,J)|0,l=l+Math.imul(Ft,Xt)|0,l=l+Math.imul(Ct,J)|0,E=E+Math.imul(Ct,Xt)|0,m=m+Math.imul(Ut,Kt)|0,l=l+Math.imul(Ut,Jt)|0,l=l+Math.imul(qt,Kt)|0,E=E+Math.imul(qt,Jt)|0,m=m+Math.imul(xt,Qt)|0,l=l+Math.imul(xt,re)|0,l=l+Math.imul(Rt,Qt)|0,E=E+Math.imul(Rt,re)|0,m=m+Math.imul(Bt,ne)|0,l=l+Math.imul(Bt,te)|0,l=l+Math.imul(_t,ne)|0,E=E+Math.imul(_t,te)|0,m=m+Math.imul(ot,ie)|0,l=l+Math.imul(ot,oe)|0,l=l+Math.imul(ft,ie)|0,E=E+Math.imul(ft,oe)|0,m=m+Math.imul(K,se)|0,l=l+Math.imul(K,ae)|0,l=l+Math.imul(G,se)|0,E=E+Math.imul(G,ae)|0;var Tn=(A+m|0)+((l&8191)<<13)|0;A=(E+(l>>>13)|0)+(Tn>>>26)|0,Tn&=67108863,m=Math.imul(Nt,it),l=Math.imul(Nt,rt),l=l+Math.imul(h,it)|0,E=Math.imul(h,rt),m=m+Math.imul(Ot,J)|0,l=l+Math.imul(Ot,Xt)|0,l=l+Math.imul($t,J)|0,E=E+Math.imul($t,Xt)|0,m=m+Math.imul(Ft,Kt)|0,l=l+Math.imul(Ft,Jt)|0,l=l+Math.imul(Ct,Kt)|0,E=E+Math.imul(Ct,Jt)|0,m=m+Math.imul(Ut,Qt)|0,l=l+Math.imul(Ut,re)|0,l=l+Math.imul(qt,Qt)|0,E=E+Math.imul(qt,re)|0,m=m+Math.imul(xt,ne)|0,l=l+Math.imul(xt,te)|0,l=l+Math.imul(Rt,ne)|0,E=E+Math.imul(Rt,te)|0,m=m+Math.imul(Bt,ie)|0,l=l+Math.imul(Bt,oe)|0,l=l+Math.imul(_t,ie)|0,E=E+Math.imul(_t,oe)|0,m=m+Math.imul(ot,se)|0,l=l+Math.imul(ot,ae)|0,l=l+Math.imul(ft,se)|0,E=E+Math.imul(ft,ae)|0,m=m+Math.imul(K,ce)|0,l=l+Math.imul(K,D)|0,l=l+Math.imul(G,ce)|0,E=E+Math.imul(G,D)|0;var yr=(A+m|0)+((l&8191)<<13)|0;A=(E+(l>>>13)|0)+(yr>>>26)|0,yr&=67108863,m=Math.imul(a,it),l=Math.imul(a,rt),l=l+Math.imul(g,it)|0,E=Math.imul(g,rt),m=m+Math.imul(Nt,J)|0,l=l+Math.imul(Nt,Xt)|0,l=l+Math.imul(h,J)|0,E=E+Math.imul(h,Xt)|0,m=m+Math.imul(Ot,Kt)|0,l=l+Math.imul(Ot,Jt)|0,l=l+Math.imul($t,Kt)|0,E=E+Math.imul($t,Jt)|0,m=m+Math.imul(Ft,Qt)|0,l=l+Math.imul(Ft,re)|0,l=l+Math.imul(Ct,Qt)|0,E=E+Math.imul(Ct,re)|0,m=m+Math.imul(Ut,ne)|0,l=l+Math.imul(Ut,te)|0,l=l+Math.imul(qt,ne)|0,E=E+Math.imul(qt,te)|0,m=m+Math.imul(xt,ie)|0,l=l+Math.imul(xt,oe)|0,l=l+Math.imul(Rt,ie)|0,E=E+Math.imul(Rt,oe)|0,m=m+Math.imul(Bt,se)|0,l=l+Math.imul(Bt,ae)|0,l=l+Math.imul(_t,se)|0,E=E+Math.imul(_t,ae)|0,m=m+Math.imul(ot,ce)|0,l=l+Math.imul(ot,D)|0,l=l+Math.imul(ft,ce)|0,E=E+Math.imul(ft,D)|0,m=m+Math.imul(K,nt)|0,l=l+Math.imul(K,dt)|0,l=l+Math.imul(G,nt)|0,E=E+Math.imul(G,dt)|0;var Ji=(A+m|0)+((l&8191)<<13)|0;A=(E+(l>>>13)|0)+(Ji>>>26)|0,Ji&=67108863,m=Math.imul(M,it),l=Math.imul(M,rt),l=l+Math.imul(T,it)|0,E=Math.imul(T,rt),m=m+Math.imul(a,J)|0,l=l+Math.imul(a,Xt)|0,l=l+Math.imul(g,J)|0,E=E+Math.imul(g,Xt)|0,m=m+Math.imul(Nt,Kt)|0,l=l+Math.imul(Nt,Jt)|0,l=l+Math.imul(h,Kt)|0,E=E+Math.imul(h,Jt)|0,m=m+Math.imul(Ot,Qt)|0,l=l+Math.imul(Ot,re)|0,l=l+Math.imul($t,Qt)|0,E=E+Math.imul($t,re)|0,m=m+Math.imul(Ft,ne)|0,l=l+Math.imul(Ft,te)|0,l=l+Math.imul(Ct,ne)|0,E=E+Math.imul(Ct,te)|0,m=m+Math.imul(Ut,ie)|0,l=l+Math.imul(Ut,oe)|0,l=l+Math.imul(qt,ie)|0,E=E+Math.imul(qt,oe)|0,m=m+Math.imul(xt,se)|0,l=l+Math.imul(xt,ae)|0,l=l+Math.imul(Rt,se)|0,E=E+Math.imul(Rt,ae)|0,m=m+Math.imul(Bt,ce)|0,l=l+Math.imul(Bt,D)|0,l=l+Math.imul(_t,ce)|0,E=E+Math.imul(_t,D)|0,m=m+Math.imul(ot,nt)|0,l=l+Math.imul(ot,dt)|0,l=l+Math.imul(ft,nt)|0,E=E+Math.imul(ft,dt)|0,m=m+Math.imul(K,St)|0,l=l+Math.imul(K,bt)|0,l=l+Math.imul(G,St)|0,E=E+Math.imul(G,bt)|0;var Qi=(A+m|0)+((l&8191)<<13)|0;A=(E+(l>>>13)|0)+(Qi>>>26)|0,Qi&=67108863,m=Math.imul(M,J),l=Math.imul(M,Xt),l=l+Math.imul(T,J)|0,E=Math.imul(T,Xt),m=m+Math.imul(a,Kt)|0,l=l+Math.imul(a,Jt)|0,l=l+Math.imul(g,Kt)|0,E=E+Math.imul(g,Jt)|0,m=m+Math.imul(Nt,Qt)|0,l=l+Math.imul(Nt,re)|0,l=l+Math.imul(h,Qt)|0,E=E+Math.imul(h,re)|0,m=m+Math.imul(Ot,ne)|0,l=l+Math.imul(Ot,te)|0,l=l+Math.imul($t,ne)|0,E=E+Math.imul($t,te)|0,m=m+Math.imul(Ft,ie)|0,l=l+Math.imul(Ft,oe)|0,l=l+Math.imul(Ct,ie)|0,E=E+Math.imul(Ct,oe)|0,m=m+Math.imul(Ut,se)|0,l=l+Math.imul(Ut,ae)|0,l=l+Math.imul(qt,se)|0,E=E+Math.imul(qt,ae)|0,m=m+Math.imul(xt,ce)|0,l=l+Math.imul(xt,D)|0,l=l+Math.imul(Rt,ce)|0,E=E+Math.imul(Rt,D)|0,m=m+Math.imul(Bt,nt)|0,l=l+Math.imul(Bt,dt)|0,l=l+Math.imul(_t,nt)|0,E=E+Math.imul(_t,dt)|0,m=m+Math.imul(ot,St)|0,l=l+Math.imul(ot,bt)|0,l=l+Math.imul(ft,St)|0,E=E+Math.imul(ft,bt)|0;var to=(A+m|0)+((l&8191)<<13)|0;A=(E+(l>>>13)|0)+(to>>>26)|0,to&=67108863,m=Math.imul(M,Kt),l=Math.imul(M,Jt),l=l+Math.imul(T,Kt)|0,E=Math.imul(T,Jt),m=m+Math.imul(a,Qt)|0,l=l+Math.imul(a,re)|0,l=l+Math.imul(g,Qt)|0,E=E+Math.imul(g,re)|0,m=m+Math.imul(Nt,ne)|0,l=l+Math.imul(Nt,te)|0,l=l+Math.imul(h,ne)|0,E=E+Math.imul(h,te)|0,m=m+Math.imul(Ot,ie)|0,l=l+Math.imul(Ot,oe)|0,l=l+Math.imul($t,ie)|0,E=E+Math.imul($t,oe)|0,m=m+Math.imul(Ft,se)|0,l=l+Math.imul(Ft,ae)|0,l=l+Math.imul(Ct,se)|0,E=E+Math.imul(Ct,ae)|0,m=m+Math.imul(Ut,ce)|0,l=l+Math.imul(Ut,D)|0,l=l+Math.imul(qt,ce)|0,E=E+Math.imul(qt,D)|0,m=m+Math.imul(xt,nt)|0,l=l+Math.imul(xt,dt)|0,l=l+Math.imul(Rt,nt)|0,E=E+Math.imul(Rt,dt)|0,m=m+Math.imul(Bt,St)|0,l=l+Math.imul(Bt,bt)|0,l=l+Math.imul(_t,St)|0,E=E+Math.imul(_t,bt)|0;var eo=(A+m|0)+((l&8191)<<13)|0;A=(E+(l>>>13)|0)+(eo>>>26)|0,eo&=67108863,m=Math.imul(M,Qt),l=Math.imul(M,re),l=l+Math.imul(T,Qt)|0,E=Math.imul(T,re),m=m+Math.imul(a,ne)|0,l=l+Math.imul(a,te)|0,l=l+Math.imul(g,ne)|0,E=E+Math.imul(g,te)|0,m=m+Math.imul(Nt,ie)|0,l=l+Math.imul(Nt,oe)|0,l=l+Math.imul(h,ie)|0,E=E+Math.imul(h,oe)|0,m=m+Math.imul(Ot,se)|0,l=l+Math.imul(Ot,ae)|0,l=l+Math.imul($t,se)|0,E=E+Math.imul($t,ae)|0,m=m+Math.imul(Ft,ce)|0,l=l+Math.imul(Ft,D)|0,l=l+Math.imul(Ct,ce)|0,E=E+Math.imul(Ct,D)|0,m=m+Math.imul(Ut,nt)|0,l=l+Math.imul(Ut,dt)|0,l=l+Math.imul(qt,nt)|0,E=E+Math.imul(qt,dt)|0,m=m+Math.imul(xt,St)|0,l=l+Math.imul(xt,bt)|0,l=l+Math.imul(Rt,St)|0,E=E+Math.imul(Rt,bt)|0;var ro=(A+m|0)+((l&8191)<<13)|0;A=(E+(l>>>13)|0)+(ro>>>26)|0,ro&=67108863,m=Math.imul(M,ne),l=Math.imul(M,te),l=l+Math.imul(T,ne)|0,E=Math.imul(T,te),m=m+Math.imul(a,ie)|0,l=l+Math.imul(a,oe)|0,l=l+Math.imul(g,ie)|0,E=E+Math.imul(g,oe)|0,m=m+Math.imul(Nt,se)|0,l=l+Math.imul(Nt,ae)|0,l=l+Math.imul(h,se)|0,E=E+Math.imul(h,ae)|0,m=m+Math.imul(Ot,ce)|0,l=l+Math.imul(Ot,D)|0,l=l+Math.imul($t,ce)|0,E=E+Math.imul($t,D)|0,m=m+Math.imul(Ft,nt)|0,l=l+Math.imul(Ft,dt)|0,l=l+Math.imul(Ct,nt)|0,E=E+Math.imul(Ct,dt)|0,m=m+Math.imul(Ut,St)|0,l=l+Math.imul(Ut,bt)|0,l=l+Math.imul(qt,St)|0,E=E+Math.imul(qt,bt)|0;var no=(A+m|0)+((l&8191)<<13)|0;A=(E+(l>>>13)|0)+(no>>>26)|0,no&=67108863,m=Math.imul(M,ie),l=Math.imul(M,oe),l=l+Math.imul(T,ie)|0,E=Math.imul(T,oe),m=m+Math.imul(a,se)|0,l=l+Math.imul(a,ae)|0,l=l+Math.imul(g,se)|0,E=E+Math.imul(g,ae)|0,m=m+Math.imul(Nt,ce)|0,l=l+Math.imul(Nt,D)|0,l=l+Math.imul(h,ce)|0,E=E+Math.imul(h,D)|0,m=m+Math.imul(Ot,nt)|0,l=l+Math.imul(Ot,dt)|0,l=l+Math.imul($t,nt)|0,E=E+Math.imul($t,dt)|0,m=m+Math.imul(Ft,St)|0,l=l+Math.imul(Ft,bt)|0,l=l+Math.imul(Ct,St)|0,E=E+Math.imul(Ct,bt)|0;var io=(A+m|0)+((l&8191)<<13)|0;A=(E+(l>>>13)|0)+(io>>>26)|0,io&=67108863,m=Math.imul(M,se),l=Math.imul(M,ae),l=l+Math.imul(T,se)|0,E=Math.imul(T,ae),m=m+Math.imul(a,ce)|0,l=l+Math.imul(a,D)|0,l=l+Math.imul(g,ce)|0,E=E+Math.imul(g,D)|0,m=m+Math.imul(Nt,nt)|0,l=l+Math.imul(Nt,dt)|0,l=l+Math.imul(h,nt)|0,E=E+Math.imul(h,dt)|0,m=m+Math.imul(Ot,St)|0,l=l+Math.imul(Ot,bt)|0,l=l+Math.imul($t,St)|0,E=E+Math.imul($t,bt)|0;var oo=(A+m|0)+((l&8191)<<13)|0;A=(E+(l>>>13)|0)+(oo>>>26)|0,oo&=67108863,m=Math.imul(M,ce),l=Math.imul(M,D),l=l+Math.imul(T,ce)|0,E=Math.imul(T,D),m=m+Math.imul(a,nt)|0,l=l+Math.imul(a,dt)|0,l=l+Math.imul(g,nt)|0,E=E+Math.imul(g,dt)|0,m=m+Math.imul(Nt,St)|0,l=l+Math.imul(Nt,bt)|0,l=l+Math.imul(h,St)|0,E=E+Math.imul(h,bt)|0;var so=(A+m|0)+((l&8191)<<13)|0;A=(E+(l>>>13)|0)+(so>>>26)|0,so&=67108863,m=Math.imul(M,nt),l=Math.imul(M,dt),l=l+Math.imul(T,nt)|0,E=Math.imul(T,dt),m=m+Math.imul(a,St)|0,l=l+Math.imul(a,bt)|0,l=l+Math.imul(g,St)|0,E=E+Math.imul(g,bt)|0;var ao=(A+m|0)+((l&8191)<<13)|0;A=(E+(l>>>13)|0)+(ao>>>26)|0,ao&=67108863,m=Math.imul(M,St),l=Math.imul(M,bt),l=l+Math.imul(T,St)|0,E=Math.imul(T,bt);var co=(A+m|0)+((l&8191)<<13)|0;return A=(E+(l>>>13)|0)+(co>>>26)|0,co&=67108863,x[0]=ee,x[1]=ze,x[2]=Ie,x[3]=ke,x[4]=Je,x[5]=Or,x[6]=Tn,x[7]=yr,x[8]=Ji,x[9]=Qi,x[10]=to,x[11]=eo,x[12]=ro,x[13]=no,x[14]=io,x[15]=oo,x[16]=so,x[17]=ao,x[18]=co,A!==0&&(x[19]=A,y.length++),y};Math.imul||(F=P);function L(I,f,d){d.negative=f.negative^I.negative,d.length=I.length+f.length;for(var y=0,w=0,v=0;v<d.length-1;v++){var x=w;w=0;for(var A=y&67108863,m=Math.min(v,f.length-1),l=Math.max(0,v-I.length+1);l<=m;l++){var E=v-l,H=I.words[E]|0,K=f.words[l]|0,G=H*K,lt=G&67108863;x=x+(G/67108864|0)|0,lt=lt+A|0,A=lt&67108863,x=x+(lt>>>26)|0,w+=x>>>26,x&=67108863}d.words[v]=A,y=x,x=w}return y!==0?d.words[v]=y:d.length--,d._strip()}function z(I,f,d){return L(I,f,d)}i.prototype.mulTo=function(f,d){var y,w=this.length+f.length;return this.length===10&&f.length===10?y=F(this,f,d):w<63?y=P(this,f,d):w<1024?y=L(this,f,d):y=z(this,f,d),y},i.prototype.mul=function(f){var d=new i(null);return d.words=new Array(this.length+f.length),this.mulTo(f,d)},i.prototype.mulf=function(f){var d=new i(null);return d.words=new Array(this.length+f.length),z(this,f,d)},i.prototype.imul=function(f){return this.clone().mulTo(f,this)},i.prototype.imuln=function(f){var d=f<0;d&&(f=-f),n(typeof f=="number"),n(f<67108864);for(var y=0,w=0;w<this.length;w++){var v=(this.words[w]|0)*f,x=(v&67108863)+(y&67108863);y>>=26,y+=v/67108864|0,y+=x>>>26,this.words[w]=x&67108863}return y!==0&&(this.words[w]=y,this.length++),d?this.ineg():this},i.prototype.muln=function(f){return this.clone().imuln(f)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(f){var d=R(f);if(d.length===0)return new i(1);for(var y=this,w=0;w<d.length&&d[w]===0;w++,y=y.sqr());if(++w<d.length)for(var v=y.sqr();w<d.length;w++,v=v.sqr())d[w]!==0&&(y=y.mul(v));return y},i.prototype.iushln=function(f){n(typeof f=="number"&&f>=0);var d=f%26,y=(f-d)/26,w=67108863>>>26-d<<26-d,v;if(d!==0){var x=0;for(v=0;v<this.length;v++){var A=this.words[v]&w,m=(this.words[v]|0)-A<<d;this.words[v]=m|x,x=A>>>26-d}x&&(this.words[v]=x,this.length++)}if(y!==0){for(v=this.length-1;v>=0;v--)this.words[v+y]=this.words[v];for(v=0;v<y;v++)this.words[v]=0;this.length+=y}return this._strip()},i.prototype.ishln=function(f){return n(this.negative===0),this.iushln(f)},i.prototype.iushrn=function(f,d,y){n(typeof f=="number"&&f>=0);var w;d?w=(d-d%26)/26:w=0;var v=f%26,x=Math.min((f-v)/26,this.length),A=67108863^67108863>>>v<<v,m=y;if(w-=x,w=Math.max(0,w),m){for(var l=0;l<x;l++)m.words[l]=this.words[l];m.length=x}if(x!==0)if(this.length>x)for(this.length-=x,l=0;l<this.length;l++)this.words[l]=this.words[l+x];else this.words[0]=0,this.length=1;var E=0;for(l=this.length-1;l>=0&&(E!==0||l>=w);l--){var H=this.words[l]|0;this.words[l]=E<<26-v|H>>>v,E=H&A}return m&&E!==0&&(m.words[m.length++]=E),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(f,d,y){return n(this.negative===0),this.iushrn(f,d,y)},i.prototype.shln=function(f){return this.clone().ishln(f)},i.prototype.ushln=function(f){return this.clone().iushln(f)},i.prototype.shrn=function(f){return this.clone().ishrn(f)},i.prototype.ushrn=function(f){return this.clone().iushrn(f)},i.prototype.testn=function(f){n(typeof f=="number"&&f>=0);var d=f%26,y=(f-d)/26,w=1<<d;if(this.length<=y)return!1;var v=this.words[y];return!!(v&w)},i.prototype.imaskn=function(f){n(typeof f=="number"&&f>=0);var d=f%26,y=(f-d)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=y)return this;if(d!==0&&y++,this.length=Math.min(y,this.length),d!==0){var w=67108863^67108863>>>d<<d;this.words[this.length-1]&=w}return this._strip()},i.prototype.maskn=function(f){return this.clone().imaskn(f)},i.prototype.iaddn=function(f){return n(typeof f=="number"),n(f<67108864),f<0?this.isubn(-f):this.negative!==0?this.length===1&&(this.words[0]|0)<=f?(this.words[0]=f-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(f),this.negative=1,this):this._iaddn(f)},i.prototype._iaddn=function(f){this.words[0]+=f;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},i.prototype.isubn=function(f){if(n(typeof f=="number"),n(f<67108864),f<0)return this.iaddn(-f);if(this.negative!==0)return this.negative=0,this.iaddn(f),this.negative=1,this;if(this.words[0]-=f,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this._strip()},i.prototype.addn=function(f){return this.clone().iaddn(f)},i.prototype.subn=function(f){return this.clone().isubn(f)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(f,d,y){var w=f.length+y,v;this._expand(w);var x,A=0;for(v=0;v<f.length;v++){x=(this.words[v+y]|0)+A;var m=(f.words[v]|0)*d;x-=m&67108863,A=(x>>26)-(m/67108864|0),this.words[v+y]=x&67108863}for(;v<this.length-y;v++)x=(this.words[v+y]|0)+A,A=x>>26,this.words[v+y]=x&67108863;if(A===0)return this._strip();for(n(A===-1),A=0,v=0;v<this.length;v++)x=-(this.words[v]|0)+A,A=x>>26,this.words[v]=x&67108863;return this.negative=1,this._strip()},i.prototype._wordDiv=function(f,d){var y=this.length-f.length,w=this.clone(),v=f,x=v.words[v.length-1]|0,A=this._countBits(x);y=26-A,y!==0&&(v=v.ushln(y),w.iushln(y),x=v.words[v.length-1]|0);var m=w.length-v.length,l;if(d!=="mod"){l=new i(null),l.length=m+1,l.words=new Array(l.length);for(var E=0;E<l.length;E++)l.words[E]=0}var H=w.clone()._ishlnsubmul(v,1,m);H.negative===0&&(w=H,l&&(l.words[m]=1));for(var K=m-1;K>=0;K--){var G=(w.words[v.length+K]|0)*67108864+(w.words[v.length+K-1]|0);for(G=Math.min(G/x|0,67108863),w._ishlnsubmul(v,G,K);w.negative!==0;)G--,w.negative=0,w._ishlnsubmul(v,1,K),w.isZero()||(w.negative^=1);l&&(l.words[K]=G)}return l&&l._strip(),w._strip(),d!=="div"&&y!==0&&w.iushrn(y),{div:l||null,mod:w}},i.prototype.divmod=function(f,d,y){if(n(!f.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var w,v,x;return this.negative!==0&&f.negative===0?(x=this.neg().divmod(f,d),d!=="mod"&&(w=x.div.neg()),d!=="div"&&(v=x.mod.neg(),y&&v.negative!==0&&v.iadd(f)),{div:w,mod:v}):this.negative===0&&f.negative!==0?(x=this.divmod(f.neg(),d),d!=="mod"&&(w=x.div.neg()),{div:w,mod:x.mod}):this.negative&f.negative?(x=this.neg().divmod(f.neg(),d),d!=="div"&&(v=x.mod.neg(),y&&v.negative!==0&&v.isub(f)),{div:x.div,mod:v}):f.length>this.length||this.cmp(f)<0?{div:new i(0),mod:this}:f.length===1?d==="div"?{div:this.divn(f.words[0]),mod:null}:d==="mod"?{div:null,mod:new i(this.modrn(f.words[0]))}:{div:this.divn(f.words[0]),mod:new i(this.modrn(f.words[0]))}:this._wordDiv(f,d)},i.prototype.div=function(f){return this.divmod(f,"div",!1).div},i.prototype.mod=function(f){return this.divmod(f,"mod",!1).mod},i.prototype.umod=function(f){return this.divmod(f,"mod",!0).mod},i.prototype.divRound=function(f){var d=this.divmod(f);if(d.mod.isZero())return d.div;var y=d.div.negative!==0?d.mod.isub(f):d.mod,w=f.ushrn(1),v=f.andln(1),x=y.cmp(w);return x<0||v===1&&x===0?d.div:d.div.negative!==0?d.div.isubn(1):d.div.iaddn(1)},i.prototype.modrn=function(f){var d=f<0;d&&(f=-f),n(f<=67108863);for(var y=(1<<26)%f,w=0,v=this.length-1;v>=0;v--)w=(y*w+(this.words[v]|0))%f;return d?-w:w},i.prototype.modn=function(f){return this.modrn(f)},i.prototype.idivn=function(f){var d=f<0;d&&(f=-f),n(f<=67108863);for(var y=0,w=this.length-1;w>=0;w--){var v=(this.words[w]|0)+y*67108864;this.words[w]=v/f|0,y=v%f}return this._strip(),d?this.ineg():this},i.prototype.divn=function(f){return this.clone().idivn(f)},i.prototype.egcd=function(f){n(f.negative===0),n(!f.isZero());var d=this,y=f.clone();d.negative!==0?d=d.umod(f):d=d.clone();for(var w=new i(1),v=new i(0),x=new i(0),A=new i(1),m=0;d.isEven()&&y.isEven();)d.iushrn(1),y.iushrn(1),++m;for(var l=y.clone(),E=d.clone();!d.isZero();){for(var H=0,K=1;!(d.words[0]&K)&&H<26;++H,K<<=1);if(H>0)for(d.iushrn(H);H-- >0;)(w.isOdd()||v.isOdd())&&(w.iadd(l),v.isub(E)),w.iushrn(1),v.iushrn(1);for(var G=0,lt=1;!(y.words[0]&lt)&&G<26;++G,lt<<=1);if(G>0)for(y.iushrn(G);G-- >0;)(x.isOdd()||A.isOdd())&&(x.iadd(l),A.isub(E)),x.iushrn(1),A.iushrn(1);d.cmp(y)>=0?(d.isub(y),w.isub(x),v.isub(A)):(y.isub(d),x.isub(w),A.isub(v))}return{a:x,b:A,gcd:y.iushln(m)}},i.prototype._invmp=function(f){n(f.negative===0),n(!f.isZero());var d=this,y=f.clone();d.negative!==0?d=d.umod(f):d=d.clone();for(var w=new i(1),v=new i(0),x=y.clone();d.cmpn(1)>0&&y.cmpn(1)>0;){for(var A=0,m=1;!(d.words[0]&m)&&A<26;++A,m<<=1);if(A>0)for(d.iushrn(A);A-- >0;)w.isOdd()&&w.iadd(x),w.iushrn(1);for(var l=0,E=1;!(y.words[0]&E)&&l<26;++l,E<<=1);if(l>0)for(y.iushrn(l);l-- >0;)v.isOdd()&&v.iadd(x),v.iushrn(1);d.cmp(y)>=0?(d.isub(y),w.isub(v)):(y.isub(d),v.isub(w))}var H;return d.cmpn(1)===0?H=w:H=v,H.cmpn(0)<0&&H.iadd(f),H},i.prototype.gcd=function(f){if(this.isZero())return f.abs();if(f.isZero())return this.abs();var d=this.clone(),y=f.clone();d.negative=0,y.negative=0;for(var w=0;d.isEven()&&y.isEven();w++)d.iushrn(1),y.iushrn(1);do{for(;d.isEven();)d.iushrn(1);for(;y.isEven();)y.iushrn(1);var v=d.cmp(y);if(v<0){var x=d;d=y,y=x}else if(v===0||y.cmpn(1)===0)break;d.isub(y)}while(!0);return y.iushln(w)},i.prototype.invm=function(f){return this.egcd(f).a.umod(f)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(f){return this.words[0]&f},i.prototype.bincn=function(f){n(typeof f=="number");var d=f%26,y=(f-d)/26,w=1<<d;if(this.length<=y)return this._expand(y+1),this.words[y]|=w,this;for(var v=w,x=y;v!==0&&x<this.length;x++){var A=this.words[x]|0;A+=v,v=A>>>26,A&=67108863,this.words[x]=A}return v!==0&&(this.words[x]=v,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(f){var d=f<0;if(this.negative!==0&&!d)return-1;if(this.negative===0&&d)return 1;this._strip();var y;if(this.length>1)y=1;else{d&&(f=-f),n(f<=67108863,"Number is too big");var w=this.words[0]|0;y=w===f?0:w<f?-1:1}return this.negative!==0?-y|0:y},i.prototype.cmp=function(f){if(this.negative!==0&&f.negative===0)return-1;if(this.negative===0&&f.negative!==0)return 1;var d=this.ucmp(f);return this.negative!==0?-d|0:d},i.prototype.ucmp=function(f){if(this.length>f.length)return 1;if(this.length<f.length)return-1;for(var d=0,y=this.length-1;y>=0;y--){var w=this.words[y]|0,v=f.words[y]|0;if(w!==v){w<v?d=-1:w>v&&(d=1);break}}return d},i.prototype.gtn=function(f){return this.cmpn(f)===1},i.prototype.gt=function(f){return this.cmp(f)===1},i.prototype.gten=function(f){return this.cmpn(f)>=0},i.prototype.gte=function(f){return this.cmp(f)>=0},i.prototype.ltn=function(f){return this.cmpn(f)===-1},i.prototype.lt=function(f){return this.cmp(f)===-1},i.prototype.lten=function(f){return this.cmpn(f)<=0},i.prototype.lte=function(f){return this.cmp(f)<=0},i.prototype.eqn=function(f){return this.cmpn(f)===0},i.prototype.eq=function(f){return this.cmp(f)===0},i.red=function(f){return new Q(f)},i.prototype.toRed=function(f){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),f.convertTo(this)._forceRed(f)},i.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(f){return this.red=f,this},i.prototype.forceRed=function(f){return n(!this.red,"Already a number in reduction context"),this._forceRed(f)},i.prototype.redAdd=function(f){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,f)},i.prototype.redIAdd=function(f){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,f)},i.prototype.redSub=function(f){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,f)},i.prototype.redISub=function(f){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,f)},i.prototype.redShl=function(f){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,f)},i.prototype.redMul=function(f){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.mul(this,f)},i.prototype.redIMul=function(f){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.imul(this,f)},i.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(f){return n(this.red&&!f.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,f)};var $={k256:null,p224:null,p192:null,p25519:null};function N(I,f){this.name=I,this.p=new i(f,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}N.prototype._tmp=function(){var f=new i(null);return f.words=new Array(Math.ceil(this.n/13)),f},N.prototype.ireduce=function(f){var d=f,y;do this.split(d,this.tmp),d=this.imulK(d),d=d.iadd(this.tmp),y=d.bitLength();while(y>this.n);var w=y<this.n?-1:d.ucmp(this.p);return w===0?(d.words[0]=0,d.length=1):w>0?d.isub(this.p):d.strip!==void 0?d.strip():d._strip(),d},N.prototype.split=function(f,d){f.iushrn(this.n,0,d)},N.prototype.imulK=function(f){return f.imul(this.k)};function q(){N.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}o(q,N),q.prototype.split=function(f,d){for(var y=4194303,w=Math.min(f.length,9),v=0;v<w;v++)d.words[v]=f.words[v];if(d.length=w,f.length<=9){f.words[0]=0,f.length=1;return}var x=f.words[9];for(d.words[d.length++]=x&y,v=10;v<f.length;v++){var A=f.words[v]|0;f.words[v-10]=(A&y)<<4|x>>>22,x=A}x>>>=22,f.words[v-10]=x,x===0&&f.length>10?f.length-=10:f.length-=9},q.prototype.imulK=function(f){f.words[f.length]=0,f.words[f.length+1]=0,f.length+=2;for(var d=0,y=0;y<f.length;y++){var w=f.words[y]|0;d+=w*977,f.words[y]=d&67108863,d=w*64+(d/67108864|0)}return f.words[f.length-1]===0&&(f.length--,f.words[f.length-1]===0&&f.length--),f};function W(){N.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}o(W,N);function et(){N.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}o(et,N);function ht(){N.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}o(ht,N),ht.prototype.imulK=function(f){for(var d=0,y=0;y<f.length;y++){var w=(f.words[y]|0)*19+d,v=w&67108863;w>>>=26,f.words[y]=v,d=w}return d!==0&&(f.words[f.length++]=d),f},i._prime=function(f){if($[f])return $[f];var d;if(f==="k256")d=new q;else if(f==="p224")d=new W;else if(f==="p192")d=new et;else if(f==="p25519")d=new ht;else throw new Error("Unknown prime "+f);return $[f]=d,d};function Q(I){if(typeof I=="string"){var f=i._prime(I);this.m=f.p,this.prime=f}else n(I.gtn(1),"modulus must be greater than 1"),this.m=I,this.prime=null}Q.prototype._verify1=function(f){n(f.negative===0,"red works only with positives"),n(f.red,"red works only with red numbers")},Q.prototype._verify2=function(f,d){n((f.negative|d.negative)===0,"red works only with positives"),n(f.red&&f.red===d.red,"red works only with red numbers")},Q.prototype.imod=function(f){return this.prime?this.prime.ireduce(f)._forceRed(this):(_(f,f.umod(this.m)._forceRed(this)),f)},Q.prototype.neg=function(f){return f.isZero()?f.clone():this.m.sub(f)._forceRed(this)},Q.prototype.add=function(f,d){this._verify2(f,d);var y=f.add(d);return y.cmp(this.m)>=0&&y.isub(this.m),y._forceRed(this)},Q.prototype.iadd=function(f,d){this._verify2(f,d);var y=f.iadd(d);return y.cmp(this.m)>=0&&y.isub(this.m),y},Q.prototype.sub=function(f,d){this._verify2(f,d);var y=f.sub(d);return y.cmpn(0)<0&&y.iadd(this.m),y._forceRed(this)},Q.prototype.isub=function(f,d){this._verify2(f,d);var y=f.isub(d);return y.cmpn(0)<0&&y.iadd(this.m),y},Q.prototype.shl=function(f,d){return this._verify1(f),this.imod(f.ushln(d))},Q.prototype.imul=function(f,d){return this._verify2(f,d),this.imod(f.imul(d))},Q.prototype.mul=function(f,d){return this._verify2(f,d),this.imod(f.mul(d))},Q.prototype.isqr=function(f){return this.imul(f,f.clone())},Q.prototype.sqr=function(f){return this.mul(f,f)},Q.prototype.sqrt=function(f){if(f.isZero())return f.clone();var d=this.m.andln(3);if(n(d%2===1),d===3){var y=this.m.add(new i(1)).iushrn(2);return this.pow(f,y)}for(var w=this.m.subn(1),v=0;!w.isZero()&&w.andln(1)===0;)v++,w.iushrn(1);n(!w.isZero());var x=new i(1).toRed(this),A=x.redNeg(),m=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new i(2*l*l).toRed(this);this.pow(l,m).cmp(A)!==0;)l.redIAdd(A);for(var E=this.pow(l,w),H=this.pow(f,w.addn(1).iushrn(1)),K=this.pow(f,w),G=v;K.cmp(x)!==0;){for(var lt=K,ot=0;lt.cmp(x)!==0;ot++)lt=lt.redSqr();n(ot<G);var ft=this.pow(E,new i(1).iushln(G-ot-1));H=H.redMul(ft),E=ft.redSqr(),K=K.redMul(E),G=ot}return H},Q.prototype.invm=function(f){var d=f._invmp(this.m);return d.negative!==0?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},Q.prototype.pow=function(f,d){if(d.isZero())return new i(1).toRed(this);if(d.cmpn(1)===0)return f.clone();var y=4,w=new Array(1<<y);w[0]=new i(1).toRed(this),w[1]=f;for(var v=2;v<w.length;v++)w[v]=this.mul(w[v-1],f);var x=w[0],A=0,m=0,l=d.bitLength()%26;for(l===0&&(l=26),v=d.length-1;v>=0;v--){for(var E=d.words[v],H=l-1;H>=0;H--){var K=E>>H&1;if(x!==w[0]&&(x=this.sqr(x)),K===0&&A===0){m=0;continue}A<<=1,A|=K,m++,!(m!==y&&(v!==0||H!==0))&&(x=this.mul(x,w[A]),m=0,A=0)}l=26}return x},Q.prototype.convertTo=function(f){var d=f.umod(this.m);return d===f?d.clone():d},Q.prototype.convertFrom=function(f){var d=f.clone();return d.red=null,d},i.mont=function(f){return new mt(f)};function mt(I){Q.call(this,I),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}o(mt,Q),mt.prototype.convertTo=function(f){return this.imod(f.ushln(this.shift))},mt.prototype.convertFrom=function(f){var d=this.imod(f.mul(this.rinv));return d.red=null,d},mt.prototype.imul=function(f,d){if(f.isZero()||d.isZero())return f.words[0]=0,f.length=1,f;var y=f.imul(d),w=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=y.isub(w).iushrn(this.shift),x=v;return v.cmp(this.m)>=0?x=v.isub(this.m):v.cmpn(0)<0&&(x=v.iadd(this.m)),x._forceRed(this)},mt.prototype.mul=function(f,d){if(f.isZero()||d.isZero())return new i(0)._forceRed(this);var y=f.mul(d),w=y.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=y.isub(w).iushrn(this.shift),x=v;return v.cmp(this.m)>=0?x=v.isub(this.m):v.cmpn(0)<0&&(x=v.iadd(this.m)),x._forceRed(this)},mt.prototype.invm=function(f){var d=this.imod(f._invmp(this.m).mul(this.r2));return d._forceRed(this)}})(r,qe)}(ef);var Sd=ef.exports;const Bd=on(Sd);var rf={exports:{}},nf={};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(r){const t=xs,e=Sa,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;r.Buffer=u,r.SlowBuffer=F,r.INSPECT_MAX_BYTES=50;const o=2147483647;r.kMaxLength=o,u.TYPED_ARRAY_SUPPORT=i(),!u.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{const h=new Uint8Array(1),s={foo:function(){return 42}};return Object.setPrototypeOf(s,Uint8Array.prototype),Object.setPrototypeOf(h,s),h.foo()===42}catch{return!1}}Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}});function c(h){if(h>o)throw new RangeError('The value "'+h+'" is invalid for option "size"');const s=new Uint8Array(h);return Object.setPrototypeOf(s,u.prototype),s}function u(h,s,a){if(typeof h=="number"){if(typeof s=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return B(h)}return p(h,s,a)}u.poolSize=8192;function p(h,s,a){if(typeof h=="string")return C(h,s);if(ArrayBuffer.isView(h))return O(h);if(h==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof h);if(Yt(h,ArrayBuffer)||h&&Yt(h.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Yt(h,SharedArrayBuffer)||h&&Yt(h.buffer,SharedArrayBuffer)))return U(h,s,a);if(typeof h=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const g=h.valueOf&&h.valueOf();if(g!=null&&g!==h)return u.from(g,s,a);const S=R(h);if(S)return S;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof h[Symbol.toPrimitive]=="function")return u.from(h[Symbol.toPrimitive]("string"),s,a);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof h)}u.from=function(h,s,a){return p(h,s,a)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array);function b(h){if(typeof h!="number")throw new TypeError('"size" argument must be of type number');if(h<0)throw new RangeError('The value "'+h+'" is invalid for option "size"')}function _(h,s,a){return b(h),h<=0?c(h):s!==void 0?typeof a=="string"?c(h).fill(s,a):c(h).fill(s):c(h)}u.alloc=function(h,s,a){return _(h,s,a)};function B(h){return b(h),c(h<0?0:P(h)|0)}u.allocUnsafe=function(h){return B(h)},u.allocUnsafeSlow=function(h){return B(h)};function C(h,s){if((typeof s!="string"||s==="")&&(s="utf8"),!u.isEncoding(s))throw new TypeError("Unknown encoding: "+s);const a=L(h,s)|0;let g=c(a);const S=g.write(h,s);return S!==a&&(g=g.slice(0,S)),g}function k(h){const s=h.length<0?0:P(h.length)|0,a=c(s);for(let g=0;g<s;g+=1)a[g]=h[g]&255;return a}function O(h){if(Yt(h,Uint8Array)){const s=new Uint8Array(h);return U(s.buffer,s.byteOffset,s.byteLength)}return k(h)}function U(h,s,a){if(s<0||h.byteLength<s)throw new RangeError('"offset" is outside of buffer bounds');if(h.byteLength<s+(a||0))throw new RangeError('"length" is outside of buffer bounds');let g;return s===void 0&&a===void 0?g=new Uint8Array(h):a===void 0?g=new Uint8Array(h,s):g=new Uint8Array(h,s,a),Object.setPrototypeOf(g,u.prototype),g}function R(h){if(u.isBuffer(h)){const s=P(h.length)|0,a=c(s);return a.length===0||h.copy(a,0,0,s),a}if(h.length!==void 0)return typeof h.length!="number"||Ot(h.length)?c(0):k(h);if(h.type==="Buffer"&&Array.isArray(h.data))return k(h.data)}function P(h){if(h>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return h|0}function F(h){return+h!=h&&(h=0),u.alloc(+h)}u.isBuffer=function(s){return s!=null&&s._isBuffer===!0&&s!==u.prototype},u.compare=function(s,a){if(Yt(s,Uint8Array)&&(s=u.from(s,s.offset,s.byteLength)),Yt(a,Uint8Array)&&(a=u.from(a,a.offset,a.byteLength)),!u.isBuffer(s)||!u.isBuffer(a))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(s===a)return 0;let g=s.length,S=a.length;for(let M=0,T=Math.min(g,S);M<T;++M)if(s[M]!==a[M]){g=s[M],S=a[M];break}return g<S?-1:S<g?1:0},u.isEncoding=function(s){switch(String(s).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(s,a){if(!Array.isArray(s))throw new TypeError('"list" argument must be an Array of Buffers');if(s.length===0)return u.alloc(0);let g;if(a===void 0)for(a=0,g=0;g<s.length;++g)a+=s[g].length;const S=u.allocUnsafe(a);let M=0;for(g=0;g<s.length;++g){let T=s[g];if(Yt(T,Uint8Array))M+T.length>S.length?(u.isBuffer(T)||(T=u.from(T)),T.copy(S,M)):Uint8Array.prototype.set.call(S,T,M);else if(u.isBuffer(T))T.copy(S,M);else throw new TypeError('"list" argument must be an Array of Buffers');M+=T.length}return S};function L(h,s){if(u.isBuffer(h))return h.length;if(ArrayBuffer.isView(h)||Yt(h,ArrayBuffer))return h.byteLength;if(typeof h!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof h);const a=h.length,g=arguments.length>2&&arguments[2]===!0;if(!g&&a===0)return 0;let S=!1;for(;;)switch(s){case"ascii":case"latin1":case"binary":return a;case"utf8":case"utf-8":return Ut(h).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return a*2;case"hex":return a>>>1;case"base64":return Ft(h).length;default:if(S)return g?-1:Ut(h).length;s=(""+s).toLowerCase(),S=!0}}u.byteLength=L;function z(h,s,a){let g=!1;if((s===void 0||s<0)&&(s=0),s>this.length||((a===void 0||a>this.length)&&(a=this.length),a<=0)||(a>>>=0,s>>>=0,a<=s))return"";for(h||(h="utf8");;)switch(h){case"hex":return x(this,s,a);case"utf8":case"utf-8":return f(this,s,a);case"ascii":return w(this,s,a);case"latin1":case"binary":return v(this,s,a);case"base64":return I(this,s,a);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,s,a);default:if(g)throw new TypeError("Unknown encoding: "+h);h=(h+"").toLowerCase(),g=!0}}u.prototype._isBuffer=!0;function $(h,s,a){const g=h[s];h[s]=h[a],h[a]=g}u.prototype.swap16=function(){const s=this.length;if(s%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let a=0;a<s;a+=2)$(this,a,a+1);return this},u.prototype.swap32=function(){const s=this.length;if(s%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let a=0;a<s;a+=4)$(this,a,a+3),$(this,a+1,a+2);return this},u.prototype.swap64=function(){const s=this.length;if(s%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let a=0;a<s;a+=8)$(this,a,a+7),$(this,a+1,a+6),$(this,a+2,a+5),$(this,a+3,a+4);return this},u.prototype.toString=function(){const s=this.length;return s===0?"":arguments.length===0?f(this,0,s):z.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(s){if(!u.isBuffer(s))throw new TypeError("Argument must be a Buffer");return this===s?!0:u.compare(this,s)===0},u.prototype.inspect=function(){let s="";const a=r.INSPECT_MAX_BYTES;return s=this.toString("hex",0,a).replace(/(.{2})/g,"$1 ").trim(),this.length>a&&(s+=" ... "),"<Buffer "+s+">"},n&&(u.prototype[n]=u.prototype.inspect),u.prototype.compare=function(s,a,g,S,M){if(Yt(s,Uint8Array)&&(s=u.from(s,s.offset,s.byteLength)),!u.isBuffer(s))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof s);if(a===void 0&&(a=0),g===void 0&&(g=s?s.length:0),S===void 0&&(S=0),M===void 0&&(M=this.length),a<0||g>s.length||S<0||M>this.length)throw new RangeError("out of range index");if(S>=M&&a>=g)return 0;if(S>=M)return-1;if(a>=g)return 1;if(a>>>=0,g>>>=0,S>>>=0,M>>>=0,this===s)return 0;let T=M-S,tt=g-a;const it=Math.min(T,tt),rt=this.slice(S,M),wt=s.slice(a,g);for(let J=0;J<it;++J)if(rt[J]!==wt[J]){T=rt[J],tt=wt[J];break}return T<tt?-1:tt<T?1:0};function N(h,s,a,g,S){if(h.length===0)return-1;if(typeof a=="string"?(g=a,a=0):a>2147483647?a=2147483647:a<-2147483648&&(a=-2147483648),a=+a,Ot(a)&&(a=S?0:h.length-1),a<0&&(a=h.length+a),a>=h.length){if(S)return-1;a=h.length-1}else if(a<0)if(S)a=0;else return-1;if(typeof s=="string"&&(s=u.from(s,g)),u.isBuffer(s))return s.length===0?-1:q(h,s,a,g,S);if(typeof s=="number")return s=s&255,typeof Uint8Array.prototype.indexOf=="function"?S?Uint8Array.prototype.indexOf.call(h,s,a):Uint8Array.prototype.lastIndexOf.call(h,s,a):q(h,[s],a,g,S);throw new TypeError("val must be string, number or Buffer")}function q(h,s,a,g,S){let M=1,T=h.length,tt=s.length;if(g!==void 0&&(g=String(g).toLowerCase(),g==="ucs2"||g==="ucs-2"||g==="utf16le"||g==="utf-16le")){if(h.length<2||s.length<2)return-1;M=2,T/=2,tt/=2,a/=2}function it(wt,J){return M===1?wt[J]:wt.readUInt16BE(J*M)}let rt;if(S){let wt=-1;for(rt=a;rt<T;rt++)if(it(h,rt)===it(s,wt===-1?0:rt-wt)){if(wt===-1&&(wt=rt),rt-wt+1===tt)return wt*M}else wt!==-1&&(rt-=rt-wt),wt=-1}else for(a+tt>T&&(a=T-tt),rt=a;rt>=0;rt--){let wt=!0;for(let J=0;J<tt;J++)if(it(h,rt+J)!==it(s,J)){wt=!1;break}if(wt)return rt}return-1}u.prototype.includes=function(s,a,g){return this.indexOf(s,a,g)!==-1},u.prototype.indexOf=function(s,a,g){return N(this,s,a,g,!0)},u.prototype.lastIndexOf=function(s,a,g){return N(this,s,a,g,!1)};function W(h,s,a,g){a=Number(a)||0;const S=h.length-a;g?(g=Number(g),g>S&&(g=S)):g=S;const M=s.length;g>M/2&&(g=M/2);let T;for(T=0;T<g;++T){const tt=parseInt(s.substr(T*2,2),16);if(Ot(tt))return T;h[a+T]=tt}return T}function et(h,s,a,g){return Ct(Ut(s,h.length-a),h,a,g)}function ht(h,s,a,g){return Ct(qt(s),h,a,g)}function Q(h,s,a,g){return Ct(Ft(s),h,a,g)}function mt(h,s,a,g){return Ct(sr(s,h.length-a),h,a,g)}u.prototype.write=function(s,a,g,S){if(a===void 0)S="utf8",g=this.length,a=0;else if(g===void 0&&typeof a=="string")S=a,g=this.length,a=0;else if(isFinite(a))a=a>>>0,isFinite(g)?(g=g>>>0,S===void 0&&(S="utf8")):(S=g,g=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const M=this.length-a;if((g===void 0||g>M)&&(g=M),s.length>0&&(g<0||a<0)||a>this.length)throw new RangeError("Attempt to write outside buffer bounds");S||(S="utf8");let T=!1;for(;;)switch(S){case"hex":return W(this,s,a,g);case"utf8":case"utf-8":return et(this,s,a,g);case"ascii":case"latin1":case"binary":return ht(this,s,a,g);case"base64":return Q(this,s,a,g);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return mt(this,s,a,g);default:if(T)throw new TypeError("Unknown encoding: "+S);S=(""+S).toLowerCase(),T=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function I(h,s,a){return s===0&&a===h.length?t.fromByteArray(h):t.fromByteArray(h.slice(s,a))}function f(h,s,a){a=Math.min(h.length,a);const g=[];let S=s;for(;S<a;){const M=h[S];let T=null,tt=M>239?4:M>223?3:M>191?2:1;if(S+tt<=a){let it,rt,wt,J;switch(tt){case 1:M<128&&(T=M);break;case 2:it=h[S+1],(it&192)===128&&(J=(M&31)<<6|it&63,J>127&&(T=J));break;case 3:it=h[S+1],rt=h[S+2],(it&192)===128&&(rt&192)===128&&(J=(M&15)<<12|(it&63)<<6|rt&63,J>2047&&(J<55296||J>57343)&&(T=J));break;case 4:it=h[S+1],rt=h[S+2],wt=h[S+3],(it&192)===128&&(rt&192)===128&&(wt&192)===128&&(J=(M&15)<<18|(it&63)<<12|(rt&63)<<6|wt&63,J>65535&&J<1114112&&(T=J))}}T===null?(T=65533,tt=1):T>65535&&(T-=65536,g.push(T>>>10&1023|55296),T=56320|T&1023),g.push(T),S+=tt}return y(g)}const d=4096;function y(h){const s=h.length;if(s<=d)return String.fromCharCode.apply(String,h);let a="",g=0;for(;g<s;)a+=String.fromCharCode.apply(String,h.slice(g,g+=d));return a}function w(h,s,a){let g="";a=Math.min(h.length,a);for(let S=s;S<a;++S)g+=String.fromCharCode(h[S]&127);return g}function v(h,s,a){let g="";a=Math.min(h.length,a);for(let S=s;S<a;++S)g+=String.fromCharCode(h[S]);return g}function x(h,s,a){const g=h.length;(!s||s<0)&&(s=0),(!a||a<0||a>g)&&(a=g);let S="";for(let M=s;M<a;++M)S+=$t[h[M]];return S}function A(h,s,a){const g=h.slice(s,a);let S="";for(let M=0;M<g.length-1;M+=2)S+=String.fromCharCode(g[M]+g[M+1]*256);return S}u.prototype.slice=function(s,a){const g=this.length;s=~~s,a=a===void 0?g:~~a,s<0?(s+=g,s<0&&(s=0)):s>g&&(s=g),a<0?(a+=g,a<0&&(a=0)):a>g&&(a=g),a<s&&(a=s);const S=this.subarray(s,a);return Object.setPrototypeOf(S,u.prototype),S};function m(h,s,a){if(h%1!==0||h<0)throw new RangeError("offset is not uint");if(h+s>a)throw new RangeError("Trying to access beyond buffer length")}u.prototype.readUintLE=u.prototype.readUIntLE=function(s,a,g){s=s>>>0,a=a>>>0,g||m(s,a,this.length);let S=this[s],M=1,T=0;for(;++T<a&&(M*=256);)S+=this[s+T]*M;return S},u.prototype.readUintBE=u.prototype.readUIntBE=function(s,a,g){s=s>>>0,a=a>>>0,g||m(s,a,this.length);let S=this[s+--a],M=1;for(;a>0&&(M*=256);)S+=this[s+--a]*M;return S},u.prototype.readUint8=u.prototype.readUInt8=function(s,a){return s=s>>>0,a||m(s,1,this.length),this[s]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(s,a){return s=s>>>0,a||m(s,2,this.length),this[s]|this[s+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(s,a){return s=s>>>0,a||m(s,2,this.length),this[s]<<8|this[s+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(s,a){return s=s>>>0,a||m(s,4,this.length),(this[s]|this[s+1]<<8|this[s+2]<<16)+this[s+3]*16777216},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(s,a){return s=s>>>0,a||m(s,4,this.length),this[s]*16777216+(this[s+1]<<16|this[s+2]<<8|this[s+3])},u.prototype.readBigUInt64LE=he(function(s){s=s>>>0,Wt(s,"offset");const a=this[s],g=this[s+7];(a===void 0||g===void 0)&&xt(s,this.length-8);const S=a+this[++s]*2**8+this[++s]*2**16+this[++s]*2**24,M=this[++s]+this[++s]*2**8+this[++s]*2**16+g*2**24;return BigInt(S)+(BigInt(M)<<BigInt(32))}),u.prototype.readBigUInt64BE=he(function(s){s=s>>>0,Wt(s,"offset");const a=this[s],g=this[s+7];(a===void 0||g===void 0)&&xt(s,this.length-8);const S=a*2**24+this[++s]*2**16+this[++s]*2**8+this[++s],M=this[++s]*2**24+this[++s]*2**16+this[++s]*2**8+g;return(BigInt(S)<<BigInt(32))+BigInt(M)}),u.prototype.readIntLE=function(s,a,g){s=s>>>0,a=a>>>0,g||m(s,a,this.length);let S=this[s],M=1,T=0;for(;++T<a&&(M*=256);)S+=this[s+T]*M;return M*=128,S>=M&&(S-=Math.pow(2,8*a)),S},u.prototype.readIntBE=function(s,a,g){s=s>>>0,a=a>>>0,g||m(s,a,this.length);let S=a,M=1,T=this[s+--S];for(;S>0&&(M*=256);)T+=this[s+--S]*M;return M*=128,T>=M&&(T-=Math.pow(2,8*a)),T},u.prototype.readInt8=function(s,a){return s=s>>>0,a||m(s,1,this.length),this[s]&128?(255-this[s]+1)*-1:this[s]},u.prototype.readInt16LE=function(s,a){s=s>>>0,a||m(s,2,this.length);const g=this[s]|this[s+1]<<8;return g&32768?g|4294901760:g},u.prototype.readInt16BE=function(s,a){s=s>>>0,a||m(s,2,this.length);const g=this[s+1]|this[s]<<8;return g&32768?g|4294901760:g},u.prototype.readInt32LE=function(s,a){return s=s>>>0,a||m(s,4,this.length),this[s]|this[s+1]<<8|this[s+2]<<16|this[s+3]<<24},u.prototype.readInt32BE=function(s,a){return s=s>>>0,a||m(s,4,this.length),this[s]<<24|this[s+1]<<16|this[s+2]<<8|this[s+3]},u.prototype.readBigInt64LE=he(function(s){s=s>>>0,Wt(s,"offset");const a=this[s],g=this[s+7];(a===void 0||g===void 0)&&xt(s,this.length-8);const S=this[s+4]+this[s+5]*2**8+this[s+6]*2**16+(g<<24);return(BigInt(S)<<BigInt(32))+BigInt(a+this[++s]*2**8+this[++s]*2**16+this[++s]*2**24)}),u.prototype.readBigInt64BE=he(function(s){s=s>>>0,Wt(s,"offset");const a=this[s],g=this[s+7];(a===void 0||g===void 0)&&xt(s,this.length-8);const S=(a<<24)+this[++s]*2**16+this[++s]*2**8+this[++s];return(BigInt(S)<<BigInt(32))+BigInt(this[++s]*2**24+this[++s]*2**16+this[++s]*2**8+g)}),u.prototype.readFloatLE=function(s,a){return s=s>>>0,a||m(s,4,this.length),e.read(this,s,!0,23,4)},u.prototype.readFloatBE=function(s,a){return s=s>>>0,a||m(s,4,this.length),e.read(this,s,!1,23,4)},u.prototype.readDoubleLE=function(s,a){return s=s>>>0,a||m(s,8,this.length),e.read(this,s,!0,52,8)},u.prototype.readDoubleBE=function(s,a){return s=s>>>0,a||m(s,8,this.length),e.read(this,s,!1,52,8)};function l(h,s,a,g,S,M){if(!u.isBuffer(h))throw new TypeError('"buffer" argument must be a Buffer instance');if(s>S||s<M)throw new RangeError('"value" argument is out of bounds');if(a+g>h.length)throw new RangeError("Index out of range")}u.prototype.writeUintLE=u.prototype.writeUIntLE=function(s,a,g,S){if(s=+s,a=a>>>0,g=g>>>0,!S){const tt=Math.pow(2,8*g)-1;l(this,s,a,g,tt,0)}let M=1,T=0;for(this[a]=s&255;++T<g&&(M*=256);)this[a+T]=s/M&255;return a+g},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(s,a,g,S){if(s=+s,a=a>>>0,g=g>>>0,!S){const tt=Math.pow(2,8*g)-1;l(this,s,a,g,tt,0)}let M=g-1,T=1;for(this[a+M]=s&255;--M>=0&&(T*=256);)this[a+M]=s/T&255;return a+g},u.prototype.writeUint8=u.prototype.writeUInt8=function(s,a,g){return s=+s,a=a>>>0,g||l(this,s,a,1,255,0),this[a]=s&255,a+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(s,a,g){return s=+s,a=a>>>0,g||l(this,s,a,2,65535,0),this[a]=s&255,this[a+1]=s>>>8,a+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(s,a,g){return s=+s,a=a>>>0,g||l(this,s,a,2,65535,0),this[a]=s>>>8,this[a+1]=s&255,a+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(s,a,g){return s=+s,a=a>>>0,g||l(this,s,a,4,4294967295,0),this[a+3]=s>>>24,this[a+2]=s>>>16,this[a+1]=s>>>8,this[a]=s&255,a+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(s,a,g){return s=+s,a=a>>>0,g||l(this,s,a,4,4294967295,0),this[a]=s>>>24,this[a+1]=s>>>16,this[a+2]=s>>>8,this[a+3]=s&255,a+4};function E(h,s,a,g,S){_t(s,g,S,h,a,7);let M=Number(s&BigInt(4294967295));h[a++]=M,M=M>>8,h[a++]=M,M=M>>8,h[a++]=M,M=M>>8,h[a++]=M;let T=Number(s>>BigInt(32)&BigInt(4294967295));return h[a++]=T,T=T>>8,h[a++]=T,T=T>>8,h[a++]=T,T=T>>8,h[a++]=T,a}function H(h,s,a,g,S){_t(s,g,S,h,a,7);let M=Number(s&BigInt(4294967295));h[a+7]=M,M=M>>8,h[a+6]=M,M=M>>8,h[a+5]=M,M=M>>8,h[a+4]=M;let T=Number(s>>BigInt(32)&BigInt(4294967295));return h[a+3]=T,T=T>>8,h[a+2]=T,T=T>>8,h[a+1]=T,T=T>>8,h[a]=T,a+8}u.prototype.writeBigUInt64LE=he(function(s,a=0){return E(this,s,a,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeBigUInt64BE=he(function(s,a=0){return H(this,s,a,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeIntLE=function(s,a,g,S){if(s=+s,a=a>>>0,!S){const it=Math.pow(2,8*g-1);l(this,s,a,g,it-1,-it)}let M=0,T=1,tt=0;for(this[a]=s&255;++M<g&&(T*=256);)s<0&&tt===0&&this[a+M-1]!==0&&(tt=1),this[a+M]=(s/T>>0)-tt&255;return a+g},u.prototype.writeIntBE=function(s,a,g,S){if(s=+s,a=a>>>0,!S){const it=Math.pow(2,8*g-1);l(this,s,a,g,it-1,-it)}let M=g-1,T=1,tt=0;for(this[a+M]=s&255;--M>=0&&(T*=256);)s<0&&tt===0&&this[a+M+1]!==0&&(tt=1),this[a+M]=(s/T>>0)-tt&255;return a+g},u.prototype.writeInt8=function(s,a,g){return s=+s,a=a>>>0,g||l(this,s,a,1,127,-128),s<0&&(s=255+s+1),this[a]=s&255,a+1},u.prototype.writeInt16LE=function(s,a,g){return s=+s,a=a>>>0,g||l(this,s,a,2,32767,-32768),this[a]=s&255,this[a+1]=s>>>8,a+2},u.prototype.writeInt16BE=function(s,a,g){return s=+s,a=a>>>0,g||l(this,s,a,2,32767,-32768),this[a]=s>>>8,this[a+1]=s&255,a+2},u.prototype.writeInt32LE=function(s,a,g){return s=+s,a=a>>>0,g||l(this,s,a,4,2147483647,-2147483648),this[a]=s&255,this[a+1]=s>>>8,this[a+2]=s>>>16,this[a+3]=s>>>24,a+4},u.prototype.writeInt32BE=function(s,a,g){return s=+s,a=a>>>0,g||l(this,s,a,4,2147483647,-2147483648),s<0&&(s=4294967295+s+1),this[a]=s>>>24,this[a+1]=s>>>16,this[a+2]=s>>>8,this[a+3]=s&255,a+4},u.prototype.writeBigInt64LE=he(function(s,a=0){return E(this,s,a,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),u.prototype.writeBigInt64BE=he(function(s,a=0){return H(this,s,a,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function K(h,s,a,g,S,M){if(a+g>h.length)throw new RangeError("Index out of range");if(a<0)throw new RangeError("Index out of range")}function G(h,s,a,g,S){return s=+s,a=a>>>0,S||K(h,s,a,4),e.write(h,s,a,g,23,4),a+4}u.prototype.writeFloatLE=function(s,a,g){return G(this,s,a,!0,g)},u.prototype.writeFloatBE=function(s,a,g){return G(this,s,a,!1,g)};function lt(h,s,a,g,S){return s=+s,a=a>>>0,S||K(h,s,a,8),e.write(h,s,a,g,52,8),a+8}u.prototype.writeDoubleLE=function(s,a,g){return lt(this,s,a,!0,g)},u.prototype.writeDoubleBE=function(s,a,g){return lt(this,s,a,!1,g)},u.prototype.copy=function(s,a,g,S){if(!u.isBuffer(s))throw new TypeError("argument should be a Buffer");if(g||(g=0),!S&&S!==0&&(S=this.length),a>=s.length&&(a=s.length),a||(a=0),S>0&&S<g&&(S=g),S===g||s.length===0||this.length===0)return 0;if(a<0)throw new RangeError("targetStart out of bounds");if(g<0||g>=this.length)throw new RangeError("Index out of range");if(S<0)throw new RangeError("sourceEnd out of bounds");S>this.length&&(S=this.length),s.length-a<S-g&&(S=s.length-a+g);const M=S-g;return this===s&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(a,g,S):Uint8Array.prototype.set.call(s,this.subarray(g,S),a),M},u.prototype.fill=function(s,a,g,S){if(typeof s=="string"){if(typeof a=="string"?(S=a,a=0,g=this.length):typeof g=="string"&&(S=g,g=this.length),S!==void 0&&typeof S!="string")throw new TypeError("encoding must be a string");if(typeof S=="string"&&!u.isEncoding(S))throw new TypeError("Unknown encoding: "+S);if(s.length===1){const T=s.charCodeAt(0);(S==="utf8"&&T<128||S==="latin1")&&(s=T)}}else typeof s=="number"?s=s&255:typeof s=="boolean"&&(s=Number(s));if(a<0||this.length<a||this.length<g)throw new RangeError("Out of range index");if(g<=a)return this;a=a>>>0,g=g===void 0?this.length:g>>>0,s||(s=0);let M;if(typeof s=="number")for(M=a;M<g;++M)this[M]=s;else{const T=u.isBuffer(s)?s:u.from(s,S),tt=T.length;if(tt===0)throw new TypeError('The value "'+s+'" is invalid for argument "value"');for(M=0;M<g-a;++M)this[M+a]=T[M%tt]}return this};const ot={};function ft(h,s,a){ot[h]=class extends a{constructor(){super(),Object.defineProperty(this,"message",{value:s.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${h}]`,this.stack,delete this.name}get code(){return h}set code(S){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:S,writable:!0})}toString(){return`${this.name} [${h}]: ${this.message}`}}}ft("ERR_BUFFER_OUT_OF_BOUNDS",function(h){return h?`${h} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ft("ERR_INVALID_ARG_TYPE",function(h,s){return`The "${h}" argument must be of type number. Received type ${typeof s}`},TypeError),ft("ERR_OUT_OF_RANGE",function(h,s,a){let g=`The value of "${h}" is out of range.`,S=a;return Number.isInteger(a)&&Math.abs(a)>2**32?S=Zt(String(a)):typeof a=="bigint"&&(S=String(a),(a>BigInt(2)**BigInt(32)||a<-(BigInt(2)**BigInt(32)))&&(S=Zt(S)),S+="n"),g+=` It must be ${s}. Received ${S}`,g},RangeError);function Zt(h){let s="",a=h.length;const g=h[0]==="-"?1:0;for(;a>=g+4;a-=3)s=`_${h.slice(a-3,a)}${s}`;return`${h.slice(0,a)}${s}`}function Bt(h,s,a){Wt(s,"offset"),(h[s]===void 0||h[s+a]===void 0)&&xt(s,h.length-(a+1))}function _t(h,s,a,g,S,M){if(h>a||h<s){const T=typeof s=="bigint"?"n":"";let tt;throw M>3?s===0||s===BigInt(0)?tt=`>= 0${T} and < 2${T} ** ${(M+1)*8}${T}`:tt=`>= -(2${T} ** ${(M+1)*8-1}${T}) and < 2 ** ${(M+1)*8-1}${T}`:tt=`>= ${s}${T} and <= ${a}${T}`,new ot.ERR_OUT_OF_RANGE("value",tt,h)}Bt(g,S,M)}function Wt(h,s){if(typeof h!="number")throw new ot.ERR_INVALID_ARG_TYPE(s,"number",h)}function xt(h,s,a){throw Math.floor(h)!==h?(Wt(h,a),new ot.ERR_OUT_OF_RANGE(a||"offset","an integer",h)):s<0?new ot.ERR_BUFFER_OUT_OF_BOUNDS:new ot.ERR_OUT_OF_RANGE(a||"offset",`>= ${a?1:0} and <= ${s}`,h)}const Rt=/[^+/0-9A-Za-z-_]/g;function je(h){if(h=h.split("=")[0],h=h.trim().replace(Rt,""),h.length<2)return"";for(;h.length%4!==0;)h=h+"=";return h}function Ut(h,s){s=s||1/0;let a;const g=h.length;let S=null;const M=[];for(let T=0;T<g;++T){if(a=h.charCodeAt(T),a>55295&&a<57344){if(!S){if(a>56319){(s-=3)>-1&&M.push(239,191,189);continue}else if(T+1===g){(s-=3)>-1&&M.push(239,191,189);continue}S=a;continue}if(a<56320){(s-=3)>-1&&M.push(239,191,189),S=a;continue}a=(S-55296<<10|a-56320)+65536}else S&&(s-=3)>-1&&M.push(239,191,189);if(S=null,a<128){if((s-=1)<0)break;M.push(a)}else if(a<2048){if((s-=2)<0)break;M.push(a>>6|192,a&63|128)}else if(a<65536){if((s-=3)<0)break;M.push(a>>12|224,a>>6&63|128,a&63|128)}else if(a<1114112){if((s-=4)<0)break;M.push(a>>18|240,a>>12&63|128,a>>6&63|128,a&63|128)}else throw new Error("Invalid code point")}return M}function qt(h){const s=[];for(let a=0;a<h.length;++a)s.push(h.charCodeAt(a)&255);return s}function sr(h,s){let a,g,S;const M=[];for(let T=0;T<h.length&&!((s-=2)<0);++T)a=h.charCodeAt(T),g=a>>8,S=a%256,M.push(S),M.push(g);return M}function Ft(h){return t.toByteArray(je(h))}function Ct(h,s,a,g){let S;for(S=0;S<g&&!(S+a>=s.length||S>=h.length);++S)s[S+a]=h[S];return S}function Yt(h,s){return h instanceof s||h!=null&&h.constructor!=null&&h.constructor.name!=null&&h.constructor.name===s.name}function Ot(h){return h!==h}const $t=function(){const h="0123456789abcdef",s=new Array(256);for(let a=0;a<16;++a){const g=a*16;for(let S=0;S<16;++S)s[g+S]=h[a]+h[S]}return s}();function he(h){return typeof BigInt>"u"?Nt:h}function Nt(){throw new Error("BigInt not supported")}})(nf);/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(r,t){var e=nf,n=e.Buffer;function o(c,u){for(var p in c)u[p]=c[p]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?r.exports=e:(o(e,t),t.Buffer=i);function i(c,u,p){return n(c,u,p)}i.prototype=Object.create(n.prototype),o(n,i),i.from=function(c,u,p){if(typeof c=="number")throw new TypeError("Argument must not be a number");return n(c,u,p)},i.alloc=function(c,u,p){if(typeof c!="number")throw new TypeError("Argument must be a number");var b=n(c);return u!==void 0?typeof p=="string"?b.fill(u,p):b.fill(u):b.fill(0),b},i.allocUnsafe=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return n(c)},i.allocUnsafeSlow=function(c){if(typeof c!="number")throw new TypeError("Argument must be a number");return e.SlowBuffer(c)}})(rf,rf.exports);var M2=rf.exports,Ra=M2.Buffer;function k2(r){if(r.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),e=0;e<t.length;e++)t[e]=255;for(var n=0;n<r.length;n++){var o=r.charAt(n),i=o.charCodeAt(0);if(t[i]!==255)throw new TypeError(o+" is ambiguous");t[i]=n}var c=r.length,u=r.charAt(0),p=Math.log(c)/Math.log(256),b=Math.log(256)/Math.log(c);function _(k){if((Array.isArray(k)||k instanceof Uint8Array)&&(k=Ra.from(k)),!Ra.isBuffer(k))throw new TypeError("Expected Buffer");if(k.length===0)return"";for(var O=0,U=0,R=0,P=k.length;R!==P&&k[R]===0;)R++,O++;for(var F=(P-R)*b+1>>>0,L=new Uint8Array(F);R!==P;){for(var z=k[R],$=0,N=F-1;(z!==0||$<U)&&N!==-1;N--,$++)z+=256*L[N]>>>0,L[N]=z%c>>>0,z=z/c>>>0;if(z!==0)throw new Error("Non-zero carry");U=$,R++}for(var q=F-U;q!==F&&L[q]===0;)q++;for(var W=u.repeat(O);q<F;++q)W+=r.charAt(L[q]);return W}function B(k){if(typeof k!="string")throw new TypeError("Expected String");if(k.length===0)return Ra.alloc(0);for(var O=0,U=0,R=0;k[O]===u;)U++,O++;for(var P=(k.length-O)*p+1>>>0,F=new Uint8Array(P);k[O];){var L=t[k.charCodeAt(O)];if(L===255)return;for(var z=0,$=P-1;(L!==0||z<R)&&$!==-1;$--,z++)L+=c*F[$]>>>0,F[$]=L%256>>>0,L=L/256>>>0;if(L!==0)throw new Error("Non-zero carry");R=z,O++}for(var N=P-R;N!==P&&F[N]===0;)N++;var q=Ra.allocUnsafe(U+(P-N));q.fill(0,0,U);for(var W=U;N!==P;)q[W++]=F[N++];return q}function C(k){var O=B(k);if(O)return O;throw new Error("Non-base"+c+" character")}return{encode:_,decodeUnsafe:B,decode:C}}var T2=k2,R2=T2,C2="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",Ad=R2(C2);const Id=on(Ad),L2=(r,t,e)=>r&t^~r&e,U2=(r,t,e)=>r&t^r&e^t&e,O2=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),oi=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),si=new Uint32Array(64);class Md extends gd{constructor(){super(64,32,8,!1),this.A=oi[0]|0,this.B=oi[1]|0,this.C=oi[2]|0,this.D=oi[3]|0,this.E=oi[4]|0,this.F=oi[5]|0,this.G=oi[6]|0,this.H=oi[7]|0}get(){const{A:t,B:e,C:n,D:o,E:i,F:c,G:u,H:p}=this;return[t,e,n,o,i,c,u,p]}set(t,e,n,o,i,c,u,p){this.A=t|0,this.B=e|0,this.C=n|0,this.D=o|0,this.E=i|0,this.F=c|0,this.G=u|0,this.H=p|0}process(t,e){for(let B=0;B<16;B++,e+=4)si[B]=t.getUint32(e,!1);for(let B=16;B<64;B++){const C=si[B-15],k=si[B-2],O=Bn(C,7)^Bn(C,18)^C>>>3,U=Bn(k,17)^Bn(k,19)^k>>>10;si[B]=U+si[B-7]+O+si[B-16]|0}let{A:n,B:o,C:i,D:c,E:u,F:p,G:b,H:_}=this;for(let B=0;B<64;B++){const C=Bn(u,6)^Bn(u,11)^Bn(u,25),k=_+C+L2(u,p,b)+O2[B]+si[B]|0,U=(Bn(n,2)^Bn(n,13)^Bn(n,22))+U2(n,o,i)|0;_=b,b=p,p=u,u=c+k|0,c=i,i=o,o=n,n=k+U|0}n=n+this.A|0,o=o+this.B|0,i=i+this.C|0,c=c+this.D|0,u=u+this.E|0,p=p+this.F|0,b=b+this.G|0,_=_+this.H|0,this.set(n,o,i,c,u,p,b,_)}roundClean(){si.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class F2 extends Md{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}const of=$i(()=>new Md);$i(()=>new F2);var dr={};function Dn(r,t,e){return t<=r&&r<=e}function Ca(r){if(r===void 0)return{};if(r===Object(r))return r;throw TypeError("Could not convert argument to dictionary")}function $2(r){for(var t=String(r),e=t.length,n=0,o=[];n<e;){var i=t.charCodeAt(n);if(i<55296||i>57343)o.push(i);else if(56320<=i&&i<=57343)o.push(65533);else if(55296<=i&&i<=56319)if(n===e-1)o.push(65533);else{var c=r.charCodeAt(n+1);if(56320<=c&&c<=57343){var u=i&1023,p=c&1023;o.push(65536+(u<<10)+p),n+=1}else o.push(65533)}n+=1}return o}function N2(r){for(var t="",e=0;e<r.length;++e){var n=r[e];n<=65535?t+=String.fromCharCode(n):(n-=65536,t+=String.fromCharCode((n>>10)+55296,(n&1023)+56320))}return t}var La=-1;function sf(r){this.tokens=[].slice.call(r)}sf.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():La},prepend:function(r){if(Array.isArray(r))for(var t=r;t.length;)this.tokens.unshift(t.pop());else this.tokens.unshift(r)},push:function(r){if(Array.isArray(r))for(var t=r;t.length;)this.tokens.push(t.shift());else this.tokens.push(r)}};var Fo=-1;function af(r,t){if(r)throw TypeError("Decoder error");return t||65533}var Ua="utf-8";function Oa(r,t){if(!(this instanceof Oa))return new Oa(r,t);if(r=r!==void 0?String(r).toLowerCase():Ua,r!==Ua)throw new Error("Encoding not supported. Only utf-8 is supported");t=Ca(t),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!t.fatal,this._ignoreBOM=!!t.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}Oa.prototype={decode:function(t,e){var n;typeof t=="object"&&t instanceof ArrayBuffer?n=new Uint8Array(t):typeof t=="object"&&"buffer"in t&&t.buffer instanceof ArrayBuffer?n=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):n=new Uint8Array(0),e=Ca(e),this._streaming||(this._decoder=new P2({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!e.stream;for(var o=new sf(n),i=[],c;!o.endOfStream()&&(c=this._decoder.handler(o,o.read()),c!==Fo);)c!==null&&(Array.isArray(c)?i.push.apply(i,c):i.push(c));if(!this._streaming){do{if(c=this._decoder.handler(o,o.read()),c===Fo)break;c!==null&&(Array.isArray(c)?i.push.apply(i,c):i.push(c))}while(!o.endOfStream());this._decoder=null}return i.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(i[0]===65279?(this._BOMseen=!0,i.shift()):this._BOMseen=!0),N2(i)}};function Fa(r,t){if(!(this instanceof Fa))return new Fa(r,t);if(r=r!==void 0?String(r).toLowerCase():Ua,r!==Ua)throw new Error("Encoding not supported. Only utf-8 is supported");t=Ca(t),this._streaming=!1,this._encoder=null,this._options={fatal:!!t.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}Fa.prototype={encode:function(t,e){t=t?String(t):"",e=Ca(e),this._streaming||(this._encoder=new D2(this._options)),this._streaming=!!e.stream;for(var n=[],o=new sf($2(t)),i;!o.endOfStream()&&(i=this._encoder.handler(o,o.read()),i!==Fo);)Array.isArray(i)?n.push.apply(n,i):n.push(i);if(!this._streaming){for(;i=this._encoder.handler(o,o.read()),i!==Fo;)Array.isArray(i)?n.push.apply(n,i):n.push(i);this._encoder=null}return new Uint8Array(n)}};function P2(r){var t=r.fatal,e=0,n=0,o=0,i=128,c=191;this.handler=function(u,p){if(p===La&&o!==0)return o=0,af(t);if(p===La)return Fo;if(o===0){if(Dn(p,0,127))return p;if(Dn(p,194,223))o=1,e=p-192;else if(Dn(p,224,239))p===224&&(i=160),p===237&&(c=159),o=2,e=p-224;else if(Dn(p,240,244))p===240&&(i=144),p===244&&(c=143),o=3,e=p-240;else return af(t);return e=e<<6*o,null}if(!Dn(p,i,c))return e=o=n=0,i=128,c=191,u.prepend(p),af(t);if(i=128,c=191,n+=1,e+=p-128<<6*(o-n),n!==o)return null;var b=e;return e=o=n=0,b}}function D2(r){r.fatal,this.handler=function(t,e){if(e===La)return Fo;if(Dn(e,0,127))return e;var n,o;Dn(e,128,2047)?(n=1,o=192):Dn(e,2048,65535)?(n=2,o=224):Dn(e,65536,1114111)&&(n=3,o=240);for(var i=[(e>>6*n)+o];n>0;){var c=e>>6*(n-1);i.push(128|c&63),n-=1}return i}}const z2=yi(Object.freeze(Object.defineProperty({__proto__:null,TextDecoder:Oa,TextEncoder:Fa},Symbol.toStringTag,{value:"Module"})));var q2=qe&&qe.__createBinding||(Object.create?function(r,t,e,n){n===void 0&&(n=e),Object.defineProperty(r,n,{enumerable:!0,get:function(){return t[e]}})}:function(r,t,e,n){n===void 0&&(n=e),r[n]=t[e]}),W2=qe&&qe.__setModuleDefault||(Object.create?function(r,t){Object.defineProperty(r,"default",{enumerable:!0,value:t})}:function(r,t){r.default=t}),In=qe&&qe.__decorate||function(r,t,e,n){var o=arguments.length,i=o<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,t,e,n);else for(var u=r.length-1;u>=0;u--)(c=r[u])&&(i=(o<3?c(i):o>3?c(t,e,i):c(t,e))||i);return o>3&&i&&Object.defineProperty(t,e,i),i},H2=qe&&qe.__importStar||function(r){if(r&&r.__esModule)return r;var t={};if(r!=null)for(var e in r)e!=="default"&&Object.hasOwnProperty.call(r,e)&&q2(t,r,e);return W2(t,r),t},kd=qe&&qe.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(dr,"__esModule",{value:!0});var Td=dr.deserializeUnchecked=Fd=dr.deserialize=Od=dr.serialize=dr.BinaryReader=dr.BinaryWriter=dr.BorshError=dr.baseDecode=dr.baseEncode=void 0;const ai=kd(Sd),Rd=kd(Ad),j2=H2(z2),K2=typeof TextDecoder!="function"?j2.TextDecoder:TextDecoder,G2=new K2("utf-8",{fatal:!0});function V2(r){return typeof r=="string"&&(r=Buffer.from(r,"utf8")),Rd.default.encode(Buffer.from(r))}dr.baseEncode=V2;function Z2(r){return Buffer.from(Rd.default.decode(r))}dr.baseDecode=Z2;const cf=1024;class Mr extends Error{constructor(t){super(t),this.fieldPath=[],this.originalMessage=t}addToFieldPath(t){this.fieldPath.splice(0,0,t),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}dr.BorshError=Mr;class Cd{constructor(){this.buf=Buffer.alloc(cf),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(cf)]))}writeU8(t){this.maybeResize(),this.buf.writeUInt8(t,this.length),this.length+=1}writeU16(t){this.maybeResize(),this.buf.writeUInt16LE(t,this.length),this.length+=2}writeU32(t){this.maybeResize(),this.buf.writeUInt32LE(t,this.length),this.length+=4}writeU64(t){this.maybeResize(),this.writeBuffer(Buffer.from(new ai.default(t).toArray("le",8)))}writeU128(t){this.maybeResize(),this.writeBuffer(Buffer.from(new ai.default(t).toArray("le",16)))}writeU256(t){this.maybeResize(),this.writeBuffer(Buffer.from(new ai.default(t).toArray("le",32)))}writeU512(t){this.maybeResize(),this.writeBuffer(Buffer.from(new ai.default(t).toArray("le",64)))}writeBuffer(t){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),t,Buffer.alloc(cf)]),this.length+=t.length}writeString(t){this.maybeResize();const e=Buffer.from(t,"utf8");this.writeU32(e.length),this.writeBuffer(e)}writeFixedArray(t){this.writeBuffer(Buffer.from(t))}writeArray(t,e){this.maybeResize(),this.writeU32(t.length);for(const n of t)this.maybeResize(),e(n)}toArray(){return this.buf.subarray(0,this.length)}}dr.BinaryWriter=Cd;function Mn(r,t,e){const n=e.value;e.value=function(...o){try{return n.apply(this,o)}catch(i){if(i instanceof RangeError){const c=i.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(c)>=0)throw new Mr("Reached the end of buffer when deserializing")}throw i}}}class Hr{constructor(t){this.buf=t,this.offset=0}readU8(){const t=this.buf.readUInt8(this.offset);return this.offset+=1,t}readU16(){const t=this.buf.readUInt16LE(this.offset);return this.offset+=2,t}readU32(){const t=this.buf.readUInt32LE(this.offset);return this.offset+=4,t}readU64(){const t=this.readBuffer(8);return new ai.default(t,"le")}readU128(){const t=this.readBuffer(16);return new ai.default(t,"le")}readU256(){const t=this.readBuffer(32);return new ai.default(t,"le")}readU512(){const t=this.readBuffer(64);return new ai.default(t,"le")}readBuffer(t){if(this.offset+t>this.buf.length)throw new Mr(`Expected buffer length ${t} isn't within bounds`);const e=this.buf.slice(this.offset,this.offset+t);return this.offset+=t,e}readString(){const t=this.readU32(),e=this.readBuffer(t);try{return G2.decode(e)}catch(n){throw new Mr(`Error decoding UTF-8 string: ${n}`)}}readFixedArray(t){return new Uint8Array(this.readBuffer(t))}readArray(t){const e=this.readU32(),n=Array();for(let o=0;o<e;++o)n.push(t());return n}}In([Mn],Hr.prototype,"readU8",null),In([Mn],Hr.prototype,"readU16",null),In([Mn],Hr.prototype,"readU32",null),In([Mn],Hr.prototype,"readU64",null),In([Mn],Hr.prototype,"readU128",null),In([Mn],Hr.prototype,"readU256",null),In([Mn],Hr.prototype,"readU512",null),In([Mn],Hr.prototype,"readString",null),In([Mn],Hr.prototype,"readFixedArray",null),In([Mn],Hr.prototype,"readArray",null),dr.BinaryReader=Hr;function Ld(r){return r.charAt(0).toUpperCase()+r.slice(1)}function Ni(r,t,e,n,o){try{if(typeof n=="string")o[`write${Ld(n)}`](e);else if(n instanceof Array)if(typeof n[0]=="number"){if(e.length!==n[0])throw new Mr(`Expecting byte array of length ${n[0]}, but got ${e.length} bytes`);o.writeFixedArray(e)}else if(n.length===2&&typeof n[1]=="number"){if(e.length!==n[1])throw new Mr(`Expecting byte array of length ${n[1]}, but got ${e.length} bytes`);for(let i=0;i<n[1];i++)Ni(r,null,e[i],n[0],o)}else o.writeArray(e,i=>{Ni(r,t,i,n[0],o)});else if(n.kind!==void 0)switch(n.kind){case"option":{e==null?o.writeU8(0):(o.writeU8(1),Ni(r,t,e,n.type,o));break}case"map":{o.writeU32(e.size),e.forEach((i,c)=>{Ni(r,t,c,n.key,o),Ni(r,t,i,n.value,o)});break}default:throw new Mr(`FieldType ${n} unrecognized`)}else Ud(r,e,o)}catch(i){throw i instanceof Mr&&i.addToFieldPath(t),i}}function Ud(r,t,e){if(typeof t.borshSerialize=="function"){t.borshSerialize(e);return}const n=r.get(t.constructor);if(!n)throw new Mr(`Class ${t.constructor.name} is missing in schema`);if(n.kind==="struct")n.fields.map(([o,i])=>{Ni(r,o,t[o],i,e)});else if(n.kind==="enum"){const o=t[n.field];for(let i=0;i<n.values.length;++i){const[c,u]=n.values[i];if(c===o){e.writeU8(i),Ni(r,c,t[c],u,e);break}}}else throw new Mr(`Unexpected schema kind: ${n.kind} for ${t.constructor.name}`)}function Y2(r,t,e=Cd){const n=new e;return Ud(r,t,n),n.toArray()}var Od=dr.serialize=Y2;function Pi(r,t,e,n){try{if(typeof e=="string")return n[`read${Ld(e)}`]();if(e instanceof Array){if(typeof e[0]=="number")return n.readFixedArray(e[0]);if(typeof e[1]=="number"){const o=[];for(let i=0;i<e[1];i++)o.push(Pi(r,null,e[0],n));return o}else return n.readArray(()=>Pi(r,t,e[0],n))}if(e.kind==="option")return n.readU8()?Pi(r,t,e.type,n):void 0;if(e.kind==="map"){let o=new Map;const i=n.readU32();for(let c=0;c<i;c++){const u=Pi(r,t,e.key,n),p=Pi(r,t,e.value,n);o.set(u,p)}return o}return uf(r,e,n)}catch(o){throw o instanceof Mr&&o.addToFieldPath(t),o}}function uf(r,t,e){if(typeof t.borshDeserialize=="function")return t.borshDeserialize(e);const n=r.get(t);if(!n)throw new Mr(`Class ${t.name} is missing in schema`);if(n.kind==="struct"){const o={};for(const[i,c]of r.get(t).fields)o[i]=Pi(r,i,c,e);return new t(o)}if(n.kind==="enum"){const o=e.readU8();if(o>=n.values.length)throw new Mr(`Enum index: ${o} is out of range`);const[i,c]=n.values[o],u=Pi(r,i,c,e);return new t({[i]:u})}throw new Mr(`Unexpected schema kind: ${n.kind} for ${t.constructor.name}`)}function X2(r,t,e,n=Hr){const o=new n(e),i=uf(r,t,o);if(o.offset<e.length)throw new Mr(`Unexpected ${e.length-o.offset} bytes after deserialized data`);return i}var Fd=dr.deserialize=X2;function J2(r,t,e,n=Hr){const o=new n(e);return uf(r,t,o)}Td=dr.deserializeUnchecked=J2;var Y={};Object.defineProperty(Y,"__esModule",{value:!0}),Y.s16=Y.s8=Y.nu64be=Y.u48be=Y.u40be=Y.u32be=Y.u24be=Y.u16be=pr=Y.nu64=Y.u48=Y.u40=Dt=Y.u32=Y.u24=rn=Y.u16=Xe=Y.u8=zi=Y.offset=Y.greedy=Y.Constant=Y.UTF8=Y.CString=Y.Blob=Y.Boolean=Y.BitField=Y.BitStructure=Y.VariantLayout=Y.Union=Y.UnionLayoutDiscriminator=Y.UnionDiscriminator=Y.Structure=Y.Sequence=Y.DoubleBE=Y.Double=Y.FloatBE=Y.Float=Y.NearInt64BE=Y.NearInt64=Y.NearUInt64BE=Y.NearUInt64=Y.IntBE=Y.Int=Y.UIntBE=Y.UInt=Y.OffsetLayout=Y.GreedyCount=Y.ExternalLayout=Y.bindConstructorLayout=Y.nameWithProperty=Y.Layout=Y.uint8ArrayToBuffer=Y.checkUint8Array=void 0,Y.constant=Y.utf8=Y.cstr=Do=Y.blob=Y.unionLayoutDiscriminator=Y.union=qi=Y.seq=Y.bits=zt=Y.struct=Y.f64be=Y.f64=Y.f32be=Y.f32=Y.ns64be=Y.s48be=Y.s40be=Y.s32be=Y.s24be=Y.s16be=jr=Y.ns64=Y.s48=Y.s40=Y.s32=Y.s24=void 0;const ff=nf;function $o(r){if(!(r instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}Y.checkUint8Array=$o;function ve(r){return $o(r),ff.Buffer.from(r.buffer,r.byteOffset,r.length)}Y.uint8ArrayToBuffer=ve;class Ae{constructor(t,e){if(!Number.isInteger(t))throw new TypeError("span must be an integer");this.span=t,this.property=e}makeDestinationObject(){return{}}getSpan(t,e){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(t){const e=Object.create(this.constructor.prototype);return Object.assign(e,this),e.property=t,e}fromArray(t){}}Y.Layout=Ae;function lf(r,t){return t.property?r+"["+t.property+"]":r}Y.nameWithProperty=lf;function Q2(r,t){if(typeof r!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(r,"layout_"))throw new Error("Class is already bound to a layout");if(!(t&&t instanceof Ae))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(t,"boundConstructor_"))throw new Error("layout is already bound to a constructor");r.layout_=t,t.boundConstructor_=r,t.makeDestinationObject=()=>new r,Object.defineProperty(r.prototype,"encode",{value(e,n){return t.encode(this,e,n)},writable:!0}),Object.defineProperty(r,"decode",{value(e,n){return t.decode(e,n)},writable:!0})}Y.bindConstructorLayout=Q2;class Lr extends Ae{isCount(){throw new Error("ExternalLayout is abstract")}}Y.ExternalLayout=Lr;class $d extends Lr{constructor(t=1,e){if(!Number.isInteger(t)||0>=t)throw new TypeError("elementSpan must be a (positive) integer");super(-1,e),this.elementSpan=t}isCount(){return!0}decode(t,e=0){$o(t);const n=t.length-e;return Math.floor(n/this.elementSpan)}encode(t,e,n){return 0}}Y.GreedyCount=$d;class hf extends Lr{constructor(t,e=0,n){if(!(t instanceof Ae))throw new TypeError("layout must be a Layout");if(!Number.isInteger(e))throw new TypeError("offset must be integer or undefined");super(t.span,n||t.property),this.layout=t,this.offset=e}isCount(){return this.layout instanceof en||this.layout instanceof ln}decode(t,e=0){return this.layout.decode(t,e+this.offset)}encode(t,e,n=0){return this.layout.encode(t,e,n+this.offset)}}Y.OffsetLayout=hf;class en extends Ae{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return ve(t).readUIntLE(e,this.span)}encode(t,e,n=0){return ve(e).writeUIntLE(t,n,this.span),this.span}}Y.UInt=en;class ln extends Ae{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return ve(t).readUIntBE(e,this.span)}encode(t,e,n=0){return ve(e).writeUIntBE(t,n,this.span),this.span}}Y.UIntBE=ln;class Di extends Ae{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return ve(t).readIntLE(e,this.span)}encode(t,e,n=0){return ve(e).writeIntLE(t,n,this.span),this.span}}Y.Int=Di;class No extends Ae{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return ve(t).readIntBE(e,this.span)}encode(t,e,n=0){return ve(e).writeIntBE(t,n,this.span),this.span}}Y.IntBE=No;const df=Math.pow(2,32);function $a(r){const t=Math.floor(r/df),e=r-t*df;return{hi32:t,lo32:e}}function Na(r,t){return r*df+t}class Nd extends Ae{constructor(t){super(8,t)}decode(t,e=0){const n=ve(t),o=n.readUInt32LE(e),i=n.readUInt32LE(e+4);return Na(i,o)}encode(t,e,n=0){const o=$a(t),i=ve(e);return i.writeUInt32LE(o.lo32,n),i.writeUInt32LE(o.hi32,n+4),8}}Y.NearUInt64=Nd;class Pd extends Ae{constructor(t){super(8,t)}decode(t,e=0){const n=ve(t),o=n.readUInt32BE(e),i=n.readUInt32BE(e+4);return Na(o,i)}encode(t,e,n=0){const o=$a(t),i=ve(e);return i.writeUInt32BE(o.hi32,n),i.writeUInt32BE(o.lo32,n+4),8}}Y.NearUInt64BE=Pd;class Dd extends Ae{constructor(t){super(8,t)}decode(t,e=0){const n=ve(t),o=n.readUInt32LE(e),i=n.readInt32LE(e+4);return Na(i,o)}encode(t,e,n=0){const o=$a(t),i=ve(e);return i.writeUInt32LE(o.lo32,n),i.writeInt32LE(o.hi32,n+4),8}}Y.NearInt64=Dd;class zd extends Ae{constructor(t){super(8,t)}decode(t,e=0){const n=ve(t),o=n.readInt32BE(e),i=n.readUInt32BE(e+4);return Na(o,i)}encode(t,e,n=0){const o=$a(t),i=ve(e);return i.writeInt32BE(o.hi32,n),i.writeUInt32BE(o.lo32,n+4),8}}Y.NearInt64BE=zd;class qd extends Ae{constructor(t){super(4,t)}decode(t,e=0){return ve(t).readFloatLE(e)}encode(t,e,n=0){return ve(e).writeFloatLE(t,n),4}}Y.Float=qd;class Wd extends Ae{constructor(t){super(4,t)}decode(t,e=0){return ve(t).readFloatBE(e)}encode(t,e,n=0){return ve(e).writeFloatBE(t,n),4}}Y.FloatBE=Wd;class Hd extends Ae{constructor(t){super(8,t)}decode(t,e=0){return ve(t).readDoubleLE(e)}encode(t,e,n=0){return ve(e).writeDoubleLE(t,n),8}}Y.Double=Hd;class jd extends Ae{constructor(t){super(8,t)}decode(t,e=0){return ve(t).readDoubleBE(e)}encode(t,e,n=0){return ve(e).writeDoubleBE(t,n),8}}Y.DoubleBE=jd;class Kd extends Ae{constructor(t,e,n){if(!(t instanceof Ae))throw new TypeError("elementLayout must be a Layout");if(!(e instanceof Lr&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let o=-1;!(e instanceof Lr)&&0<t.span&&(o=e*t.span),super(o,n),this.elementLayout=t,this.count=e}getSpan(t,e=0){if(0<=this.span)return this.span;let n=0,o=this.count;if(o instanceof Lr&&(o=o.decode(t,e)),0<this.elementLayout.span)n=o*this.elementLayout.span;else{let i=0;for(;i<o;)n+=this.elementLayout.getSpan(t,e+n),++i}return n}decode(t,e=0){const n=[];let o=0,i=this.count;for(i instanceof Lr&&(i=i.decode(t,e));o<i;)n.push(this.elementLayout.decode(t,e)),e+=this.elementLayout.getSpan(t,e),o+=1;return n}encode(t,e,n=0){const o=this.elementLayout,i=t.reduce((c,u)=>c+o.encode(u,e,n+c),0);return this.count instanceof Lr&&this.count.encode(t.length,e,n),i}}Y.Sequence=Kd;class Gd extends Ae{constructor(t,e,n){if(!(Array.isArray(t)&&t.reduce((i,c)=>i&&c instanceof Ae,!0)))throw new TypeError("fields must be array of Layout instances");typeof e=="boolean"&&n===void 0&&(n=e,e=void 0);for(const i of t)if(0>i.span&&i.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let o=-1;try{o=t.reduce((i,c)=>i+c.getSpan(),0)}catch{}super(o,e),this.fields=t,this.decodePrefixes=!!n}getSpan(t,e=0){if(0<=this.span)return this.span;let n=0;try{n=this.fields.reduce((o,i)=>{const c=i.getSpan(t,e);return e+=c,o+c},0)}catch{throw new RangeError("indeterminate span")}return n}decode(t,e=0){$o(t);const n=this.makeDestinationObject();for(const o of this.fields)if(o.property!==void 0&&(n[o.property]=o.decode(t,e)),e+=o.getSpan(t,e),this.decodePrefixes&&t.length===e)break;return n}encode(t,e,n=0){const o=n;let i=0,c=0;for(const u of this.fields){let p=u.span;if(c=0<p?p:0,u.property!==void 0){const b=t[u.property];b!==void 0&&(c=u.encode(b,e,n),0>p&&(p=u.getSpan(e,n)))}i=n,n+=p}return i+c-o}fromArray(t){const e=this.makeDestinationObject();for(const n of this.fields)n.property!==void 0&&0<t.length&&(e[n.property]=t.shift());return e}layoutFor(t){if(typeof t!="string")throw new TypeError("property must be string");for(const e of this.fields)if(e.property===t)return e}offsetOf(t){if(typeof t!="string")throw new TypeError("property must be string");let e=0;for(const n of this.fields){if(n.property===t)return e;0>n.span?e=-1:0<=e&&(e+=n.span)}}}Y.Structure=Gd;class pf{constructor(t){this.property=t}decode(t,e){throw new Error("UnionDiscriminator is abstract")}encode(t,e,n){throw new Error("UnionDiscriminator is abstract")}}Y.UnionDiscriminator=pf;class Pa extends pf{constructor(t,e){if(!(t instanceof Lr&&t.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(e||t.property||"variant"),this.layout=t}decode(t,e){return this.layout.decode(t,e)}encode(t,e,n){return this.layout.encode(t,e,n)}}Y.UnionLayoutDiscriminator=Pa;class gf extends Ae{constructor(t,e,n){let o;if(t instanceof en||t instanceof ln)o=new Pa(new hf(t));else if(t instanceof Lr&&t.isCount())o=new Pa(t);else if(t instanceof pf)o=t;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(e===void 0&&(e=null),!(e===null||e instanceof Ae))throw new TypeError("defaultLayout must be null or a Layout");if(e!==null){if(0>e.span)throw new Error("defaultLayout must have constant span");e.property===void 0&&(e=e.replicate("content"))}let i=-1;e&&(i=e.span,0<=i&&(t instanceof en||t instanceof ln)&&(i+=o.layout.span)),super(i,n),this.discriminator=o,this.usesPrefixDiscriminator=t instanceof en||t instanceof ln,this.defaultLayout=e,this.registry={};let c=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(u){return c(u)},this.configGetSourceVariant=function(u){c=u.bind(this)}}getSpan(t,e=0){if(0<=this.span)return this.span;const n=this.getVariant(t,e);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(t,e)}defaultGetSourceVariant(t){if(Object.prototype.hasOwnProperty.call(t,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(t,this.defaultLayout.property))return;const e=this.registry[t[this.discriminator.property]];if(e&&(!e.layout||e.property&&Object.prototype.hasOwnProperty.call(t,e.property)))return e}else for(const e in this.registry){const n=this.registry[e];if(n.property&&Object.prototype.hasOwnProperty.call(t,n.property))return n}throw new Error("unable to infer src variant")}decode(t,e=0){let n;const o=this.discriminator,i=o.decode(t,e),c=this.registry[i];if(c===void 0){const u=this.defaultLayout;let p=0;this.usesPrefixDiscriminator&&(p=o.layout.span),n=this.makeDestinationObject(),n[o.property]=i,n[u.property]=u.decode(t,e+p)}else n=c.decode(t,e);return n}encode(t,e,n=0){const o=this.getSourceVariant(t);if(o===void 0){const i=this.discriminator,c=this.defaultLayout;let u=0;return this.usesPrefixDiscriminator&&(u=i.layout.span),i.encode(t[i.property],e,n),u+c.encode(t[c.property],e,n+u)}return o.encode(t,e,n)}addVariant(t,e,n){const o=new Vd(this,t,e,n);return this.registry[t]=o,o}getVariant(t,e=0){let n;return t instanceof Uint8Array?n=this.discriminator.decode(t,e):n=t,this.registry[n]}}Y.Union=gf;class Vd extends Ae{constructor(t,e,n,o){if(!(t instanceof gf))throw new TypeError("union must be a Union");if(!Number.isInteger(e)||0>e)throw new TypeError("variant must be a (non-negative) integer");if(typeof n=="string"&&o===void 0&&(o=n,n=null),n){if(!(n instanceof Ae))throw new TypeError("layout must be a Layout");if(t.defaultLayout!==null&&0<=n.span&&n.span>t.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof o!="string")throw new TypeError("variant must have a String property")}let i=t.span;0>t.span&&(i=n?n.span:0,0<=i&&t.usesPrefixDiscriminator&&(i+=t.discriminator.layout.span)),super(i,o),this.union=t,this.variant=e,this.layout=n||null}getSpan(t,e=0){if(0<=this.span)return this.span;let n=0;this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span);let o=0;return this.layout&&(o=this.layout.getSpan(t,e+n)),n+o}decode(t,e=0){const n=this.makeDestinationObject();if(this!==this.union.getVariant(t,e))throw new Error("variant mismatch");let o=0;return this.union.usesPrefixDiscriminator&&(o=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(t,e+o):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(t,e,n=0){let o=0;if(this.union.usesPrefixDiscriminator&&(o=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(t,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,e,n);let i=o;if(this.layout&&(this.layout.encode(t[this.property],e,n+o),i+=this.layout.getSpan(e,n+o),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(t){if(this.layout)return this.layout.fromArray(t)}}Y.VariantLayout=Vd;function Po(r){return 0>r&&(r+=4294967296),r}class yf extends Ae{constructor(t,e,n){if(!(t instanceof en||t instanceof ln))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof e=="string"&&n===void 0&&(n=e,e=!1),4<t.span)throw new RangeError("word cannot exceed 32 bits");super(t.span,n),this.word=t,this.msb=!!e,this.fields=[];let o=0;this._packedSetValue=function(i){return o=Po(i),this},this._packedGetValue=function(){return o}}decode(t,e=0){const n=this.makeDestinationObject(),o=this.word.decode(t,e);this._packedSetValue(o);for(const i of this.fields)i.property!==void 0&&(n[i.property]=i.decode(t));return n}encode(t,e,n=0){const o=this.word.decode(e,n);this._packedSetValue(o);for(const i of this.fields)if(i.property!==void 0){const c=t[i.property];c!==void 0&&i.encode(c)}return this.word.encode(this._packedGetValue(),e,n)}addField(t,e){const n=new mf(this,t,e);return this.fields.push(n),n}addBoolean(t){const e=new Zd(this,t);return this.fields.push(e),e}fieldFor(t){if(typeof t!="string")throw new TypeError("property must be string");for(const e of this.fields)if(e.property===t)return e}}Y.BitStructure=yf;class mf{constructor(t,e,n){if(!(t instanceof yf))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(e)||0>=e)throw new TypeError("bits must be positive integer");const o=8*t.span,i=t.fields.reduce((c,u)=>c+u.bits,0);if(e+i>o)throw new Error("bits too long for span remainder ("+(o-i)+" of "+o+" remain)");this.container=t,this.bits=e,this.valueMask=(1<<e)-1,e===32&&(this.valueMask=4294967295),this.start=i,this.container.msb&&(this.start=o-i-e),this.wordMask=Po(this.valueMask<<this.start),this.property=n}decode(t,e){const n=this.container._packedGetValue();return Po(n&this.wordMask)>>>this.start}encode(t){if(typeof t!="number"||!Number.isInteger(t)||t!==Po(t&this.valueMask))throw new TypeError(lf("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const e=this.container._packedGetValue(),n=Po(t<<this.start);this.container._packedSetValue(Po(e&~this.wordMask)|n)}}Y.BitField=mf;let Zd=class extends mf{constructor(t,e){super(t,1,e)}decode(t,e){return!!super.decode(t,e)}encode(t){typeof t=="boolean"&&(t=+t),super.encode(t)}};Y.Boolean=Zd;class Yd extends Ae{constructor(t,e){if(!(t instanceof Lr&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;t instanceof Lr||(n=t),super(n,e),this.length=t}getSpan(t,e){let n=this.span;return 0>n&&(n=this.length.decode(t,e)),n}decode(t,e=0){let n=this.span;return 0>n&&(n=this.length.decode(t,e)),ve(t).slice(e,e+n)}encode(t,e,n){let o=this.length;if(this.length instanceof Lr&&(o=t.length),!(t instanceof Uint8Array&&o===t.length))throw new TypeError(lf("Blob.encode",this)+" requires (length "+o+") Uint8Array as src");if(n+o>e.length)throw new RangeError("encoding overruns Uint8Array");const i=ve(t);return ve(e).write(i.toString("hex"),n,o,"hex"),this.length instanceof Lr&&this.length.encode(o,e,n),o}}Y.Blob=Yd;class Xd extends Ae{constructor(t){super(-1,t)}getSpan(t,e=0){$o(t);let n=e;for(;n<t.length&&t[n]!==0;)n+=1;return 1+n-e}decode(t,e=0){const n=this.getSpan(t,e);return ve(t).slice(e,e+n-1).toString("utf-8")}encode(t,e,n=0){typeof t!="string"&&(t=String(t));const o=ff.Buffer.from(t,"utf8"),i=o.length;if(n+i>e.length)throw new RangeError("encoding overruns Buffer");const c=ve(e);return o.copy(c,n),c[n+i]=0,i+1}}Y.CString=Xd;class Jd extends Ae{constructor(t,e){if(typeof t=="string"&&e===void 0&&(e=t,t=void 0),t===void 0)t=-1;else if(!Number.isInteger(t))throw new TypeError("maxSpan must be an integer");super(-1,e),this.maxSpan=t}getSpan(t,e=0){return $o(t),t.length-e}decode(t,e=0){const n=this.getSpan(t,e);if(0<=this.maxSpan&&this.maxSpan<n)throw new RangeError("text length exceeds maxSpan");return ve(t).slice(e,e+n).toString("utf-8")}encode(t,e,n=0){typeof t!="string"&&(t=String(t));const o=ff.Buffer.from(t,"utf8"),i=o.length;if(0<=this.maxSpan&&this.maxSpan<i)throw new RangeError("text length exceeds maxSpan");if(n+i>e.length)throw new RangeError("encoding overruns Buffer");return o.copy(ve(e),n),i}}Y.UTF8=Jd;class Qd extends Ae{constructor(t,e){super(0,e),this.value=t}decode(t,e){return this.value}encode(t,e,n){return 0}}Y.Constant=Qd,Y.greedy=(r,t)=>new $d(r,t);var zi=Y.offset=(r,t,e)=>new hf(r,t,e),Xe=Y.u8=r=>new en(1,r),rn=Y.u16=r=>new en(2,r);Y.u24=r=>new en(3,r);var Dt=Y.u32=r=>new en(4,r);Y.u40=r=>new en(5,r),Y.u48=r=>new en(6,r);var pr=Y.nu64=r=>new Nd(r);Y.u16be=r=>new ln(2,r),Y.u24be=r=>new ln(3,r),Y.u32be=r=>new ln(4,r),Y.u40be=r=>new ln(5,r),Y.u48be=r=>new ln(6,r),Y.nu64be=r=>new Pd(r),Y.s8=r=>new Di(1,r),Y.s16=r=>new Di(2,r),Y.s24=r=>new Di(3,r),Y.s32=r=>new Di(4,r),Y.s40=r=>new Di(5,r),Y.s48=r=>new Di(6,r);var jr=Y.ns64=r=>new Dd(r);Y.s16be=r=>new No(2,r),Y.s24be=r=>new No(3,r),Y.s32be=r=>new No(4,r),Y.s40be=r=>new No(5,r),Y.s48be=r=>new No(6,r),Y.ns64be=r=>new zd(r),Y.f32=r=>new qd(r),Y.f32be=r=>new Wd(r),Y.f64=r=>new Hd(r),Y.f64be=r=>new jd(r);var zt=Y.struct=(r,t,e)=>new Gd(r,t,e);Y.bits=(r,t,e)=>new yf(r,t,e);var qi=Y.seq=(r,t,e)=>new Kd(r,t,e);Y.union=(r,t,e)=>new gf(r,t,e),Y.unionLayoutDiscriminator=(r,t)=>new Pa(r,t);var Do=Y.blob=(r,t)=>new Yd(r,t);Y.cstr=r=>new Xd(r),Y.utf8=(r,t)=>new Jd(r,t),Y.constant=(r,t)=>new Qd(r,t);var Bs={};Object.defineProperty(Bs,"__esModule",{value:!0});function tE(r){{const t=Buffer.from(r);t.reverse();const e=t.toString("hex");return e.length===0?BigInt(0):BigInt(`0x${e}`)}}var eE=Bs.toBigIntLE=tE;function rE(r){{const t=r.toString("hex");return t.length===0?BigInt(0):BigInt(`0x${t}`)}}Bs.toBigIntBE=rE;function nE(r,t){{const e=r.toString(16),n=Buffer.from(e.padStart(t*2,"0").slice(0,t*2),"hex");return n.reverse(),n}}var iE=Bs.toBufferLE=nE;function oE(r,t){{const e=r.toString(16);return Buffer.from(e.padStart(t*2,"0").slice(0,t*2),"hex")}}Bs.toBufferBE=oE;class sE extends TypeError{constructor(t,e){let n;const{message:o,...i}=t,{path:c}=t,u=c.length===0?o:"At path: "+c.join(".")+" -- "+o;super(u),Object.assign(this,i),this.name=this.constructor.name,this.failures=()=>{var p;return(p=n)!=null?p:n=[t,...e()]}}}function aE(r){return ci(r)&&typeof r[Symbol.iterator]=="function"}function ci(r){return typeof r=="object"&&r!=null}function hn(r){return typeof r=="string"?JSON.stringify(r):""+r}function cE(r){const{done:t,value:e}=r.next();return t?void 0:e}function uE(r,t,e,n){if(r===!0)return;r===!1?r={}:typeof r=="string"&&(r={message:r});const{path:o,branch:i}=t,{type:c}=e,{refinement:u,message:p="Expected a value of type `"+c+"`"+(u?" with refinement `"+u+"`":"")+", but received: `"+hn(n)+"`"}=r;return{value:n,type:c,refinement:u,key:o[o.length-1],path:o,branch:i,...r,message:p}}function*tp(r,t,e,n){aE(r)||(r=[r]);for(const o of r){const i=uE(o,t,e,n);i&&(yield i)}}function*wf(r,t,e={}){const{path:n=[],branch:o=[r],coerce:i=!1,mask:c=!1}=e,u={path:n,branch:o};if(i&&(r=t.coercer(r,u),c&&t.type!=="type"&&ci(t.schema)&&ci(r)&&!Array.isArray(r)))for(const b in r)t.schema[b]===void 0&&delete r[b];let p=!0;for(const b of t.validator(r,u))p=!1,yield[b,void 0];for(let[b,_,B]of t.entries(r,u)){const C=wf(_,B,{path:b===void 0?n:[...n,b],branch:b===void 0?o:[...o,_],coerce:i,mask:c});for(const k of C)k[0]?(p=!1,yield[k[0],void 0]):i&&(_=k[1],b===void 0?r=_:r instanceof Map?r.set(b,_):r instanceof Set?r.add(_):ci(r)&&(r[b]=_))}if(p)for(const b of t.refiner(r,u))p=!1,yield[b,void 0];p&&(yield[void 0,r])}let kn=class{constructor(t){const{type:e,schema:n,validator:o,refiner:i,coercer:c=p=>p,entries:u=function*(){}}=t;this.type=e,this.schema=n,this.entries=u,this.coercer=c,o?this.validator=(p,b)=>{const _=o(p,b);return tp(_,b,this,p)}:this.validator=()=>[],i?this.refiner=(p,b)=>{const _=i(p,b);return tp(_,b,this,p)}:this.refiner=()=>[]}assert(t){return fE(t,this)}create(t){return As(t,this)}is(t){return ep(t,this)}mask(t){return lE(t,this)}validate(t,e={}){return Is(t,this,e)}};function fE(r,t){const e=Is(r,t);if(e[0])throw e[0]}function As(r,t){const e=Is(r,t,{coerce:!0});if(e[0])throw e[0];return e[1]}function lE(r,t){const e=Is(r,t,{coerce:!0,mask:!0});if(e[0])throw e[0];return e[1]}function ep(r,t){return!Is(r,t)[0]}function Is(r,t,e={}){const n=wf(r,t,e),o=cE(n);return o[0]?[new sE(o[0],function*(){for(const c of n)c[0]&&(yield c[0])}),void 0]:[void 0,o[1]]}function Wi(r,t){return new kn({type:r,schema:null,validator:t})}function hE(){return Wi("any",()=>!0)}function It(r){return new kn({type:"array",schema:r,*entries(t){if(r&&Array.isArray(t))for(const[e,n]of t.entries())yield[e,n,r]},coercer(t){return Array.isArray(t)?t.slice():t},validator(t){return Array.isArray(t)||"Expected an array value, but received: "+hn(t)}})}function zn(){return Wi("boolean",r=>typeof r=="boolean")}function bf(r){return Wi("instance",t=>t instanceof r||"Expected a `"+r.name+"` instance, but received: "+hn(t))}function Pe(r){const t=hn(r),e=typeof r;return new kn({type:"literal",schema:e==="string"||e==="number"||e==="boolean"?r:null,validator(n){return n===r||"Expected the literal `"+t+"`, but received: "+hn(n)}})}function dE(){return Wi("never",()=>!1)}function At(r){return new kn({...r,validator:(t,e)=>t===null||r.validator(t,e),refiner:(t,e)=>t===null||r.refiner(t,e)})}function X(){return Wi("number",r=>typeof r=="number"&&!isNaN(r)||"Expected a number, but received: "+hn(r))}function jt(r){return new kn({...r,validator:(t,e)=>t===void 0||r.validator(t,e),refiner:(t,e)=>t===void 0||r.refiner(t,e)})}function rp(r,t){return new kn({type:"record",schema:null,*entries(e){if(ci(e))for(const n in e){const o=e[n];yield[n,n,r],yield[n,o,t]}},validator(e){return ci(e)||"Expected an object, but received: "+hn(e)}})}function yt(){return Wi("string",r=>typeof r=="string"||"Expected a string, but received: "+hn(r))}function vf(r){const t=dE();return new kn({type:"tuple",schema:null,*entries(e){if(Array.isArray(e)){const n=Math.max(r.length,e.length);for(let o=0;o<n;o++)yield[o,e[o],r[o]||t]}},validator(e){return Array.isArray(e)||"Expected an array, but received: "+hn(e)}})}function ut(r){const t=Object.keys(r);return new kn({type:"type",schema:r,*entries(e){if(ci(e))for(const n of t)yield[n,e[n],r[n]]},validator(e){return ci(e)||"Expected an object, but received: "+hn(e)}})}function Ur(r){const t=r.map(e=>e.type).join(" | ");return new kn({type:"union",schema:null,validator(e,n){const o=[];for(const i of r){const[...c]=wf(e,i,n),[u]=c;if(u[0])for(const[p]of c)p&&o.push(p);else return[]}return["Expected the value to satisfy a union of `"+t+"`, but received: "+hn(e),...o]}})}function Ms(){return Wi("unknown",()=>!0)}function ks(r,t,e){return new kn({...r,coercer:(n,o)=>ep(n,t)?r.coercer(e(n,o),o):r.coercer(n,o)})}var xf={},np={exports:{}};(function(r){function t(e){return e&&e.__esModule?e:{default:e}}r.exports=t,r.exports.__esModule=!0,r.exports.default=r.exports})(np);var Ef=np.exports,_f={exports:{}},Sf={exports:{}},Bf={exports:{}},ip;function Da(){return ip||(ip=1,function(r){function t(e){"@babel/helpers - typeof";return r.exports=t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},r.exports.__esModule=!0,r.exports.default=r.exports,t(e)}r.exports=t,r.exports.__esModule=!0,r.exports.default=r.exports}(Bf)),Bf.exports}var Af={exports:{}},op;function pE(){return op||(op=1,function(r){var t=Da().default;function e(n,o){if(t(n)!=="object"||n===null)return n;var i=n[Symbol.toPrimitive];if(i!==void 0){var c=i.call(n,o||"default");if(t(c)!=="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(n)}r.exports=e,r.exports.__esModule=!0,r.exports.default=r.exports}(Af)),Af.exports}var sp;function gE(){return sp||(sp=1,function(r){var t=Da().default,e=pE();function n(o){var i=e(o,"string");return t(i)==="symbol"?i:String(i)}r.exports=n,r.exports.__esModule=!0,r.exports.default=r.exports}(Sf)),Sf.exports}var ap;function If(){return ap||(ap=1,function(r){var t=gE();function e(o,i){for(var c=0;c<i.length;c++){var u=i[c];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(o,t(u.key),u)}}function n(o,i,c){return i&&e(o.prototype,i),c&&e(o,c),Object.defineProperty(o,"prototype",{writable:!1}),o}r.exports=n,r.exports.__esModule=!0,r.exports.default=r.exports}(_f)),_f.exports}var Mf={exports:{}},cp;function kf(){return cp||(cp=1,function(r){function t(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}r.exports=t,r.exports.__esModule=!0,r.exports.default=r.exports}(Mf)),Mf.exports}var Tf={exports:{}},Rf={exports:{}},up;function yE(){return up||(up=1,function(r){function t(e,n){return r.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,c){return i.__proto__=c,i},r.exports.__esModule=!0,r.exports.default=r.exports,t(e,n)}r.exports=t,r.exports.__esModule=!0,r.exports.default=r.exports}(Rf)),Rf.exports}var fp;function Cf(){return fp||(fp=1,function(r){var t=yE();function e(n,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(o&&o.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),o&&t(n,o)}r.exports=e,r.exports.__esModule=!0,r.exports.default=r.exports}(Tf)),Tf.exports}var Lf={exports:{}},Uf={exports:{}},lp;function mE(){return lp||(lp=1,function(r){function t(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}r.exports=t,r.exports.__esModule=!0,r.exports.default=r.exports}(Uf)),Uf.exports}var hp;function Of(){return hp||(hp=1,function(r){var t=Da().default,e=mE();function n(o,i){if(i&&(t(i)==="object"||typeof i=="function"))return i;if(i!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return e(o)}r.exports=n,r.exports.__esModule=!0,r.exports.default=r.exports}(Lf)),Lf.exports}var Ff={exports:{}},dp;function $f(){return dp||(dp=1,function(r){function t(e){return r.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o){return o.__proto__||Object.getPrototypeOf(o)},r.exports.__esModule=!0,r.exports.default=r.exports,t(e)}r.exports=t,r.exports.__esModule=!0,r.exports.default=r.exports}(Ff)),Ff.exports}var Nf={},pp;function wE(){return pp||(pp=1,function(r){var t=Ef;Object.defineProperty(r,"__esModule",{value:!0}),r.default=B;var e=t(kf()),n=t(If()),o=t(Cf()),i=t(Of()),c=t($f()),u=Du;function p(C){var k=b();return function(){var U=(0,c.default)(C),R;if(k){var P=(0,c.default)(this).constructor;R=Reflect.construct(U,arguments,P)}else R=U.apply(this,arguments);return(0,i.default)(this,R)}}function b(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var _=function(C){(0,o.default)(O,C);var k=p(O);function O(U,R,P){var F;return(0,e.default)(this,O),F=k.call(this),F.socket=new window.WebSocket(U,P),F.socket.onopen=function(){return F.emit("open")},F.socket.onmessage=function(L){return F.emit("message",L.data)},F.socket.onerror=function(L){return F.emit("error",L)},F.socket.onclose=function(L){F.emit("close",L.code,L.reason)},F}return(0,n.default)(O,[{key:"send",value:function(R,P,F){var L=F||P;try{this.socket.send(R),L()}catch(z){L(z)}}},{key:"close",value:function(R,P){this.socket.close(R,P)}},{key:"addEventListener",value:function(R,P,F){this.socket.addEventListener(R,P,F)}}]),O}(u.EventEmitter);function B(C,k){return new _(C,k)}}(Nf)),Nf}var Pf={},Df={exports:{}},gp;function bE(){return gp||(gp=1,function(r){var t=Da().default;function e(){r.exports=e=function(){return n},r.exports.__esModule=!0,r.exports.default=r.exports;var n={},o=Object.prototype,i=o.hasOwnProperty,c=Object.defineProperty||function(d,y,w){d[y]=w.value},u=typeof Symbol=="function"?Symbol:{},p=u.iterator||"@@iterator",b=u.asyncIterator||"@@asyncIterator",_=u.toStringTag||"@@toStringTag";function B(d,y,w){return Object.defineProperty(d,y,{value:w,enumerable:!0,configurable:!0,writable:!0}),d[y]}try{B({},"")}catch{B=function(w,v,x){return w[v]=x}}function C(d,y,w,v){var x=y&&y.prototype instanceof U?y:U,A=Object.create(x.prototype),m=new mt(v||[]);return c(A,"_invoke",{value:W(d,w,m)}),A}function k(d,y,w){try{return{type:"normal",arg:d.call(y,w)}}catch(v){return{type:"throw",arg:v}}}n.wrap=C;var O={};function U(){}function R(){}function P(){}var F={};B(F,p,function(){return this});var L=Object.getPrototypeOf,z=L&&L(L(I([])));z&&z!==o&&i.call(z,p)&&(F=z);var $=P.prototype=U.prototype=Object.create(F);function N(d){["next","throw","return"].forEach(function(y){B(d,y,function(w){return this._invoke(y,w)})})}function q(d,y){function w(x,A,m,l){var E=k(d[x],d,A);if(E.type!=="throw"){var H=E.arg,K=H.value;return K&&t(K)=="object"&&i.call(K,"__await")?y.resolve(K.__await).then(function(G){w("next",G,m,l)},function(G){w("throw",G,m,l)}):y.resolve(K).then(function(G){H.value=G,m(H)},function(G){return w("throw",G,m,l)})}l(E.arg)}var v;c(this,"_invoke",{value:function(A,m){function l(){return new y(function(E,H){w(A,m,E,H)})}return v=v?v.then(l,l):l()}})}function W(d,y,w){var v="suspendedStart";return function(x,A){if(v==="executing")throw new Error("Generator is already running");if(v==="completed"){if(x==="throw")throw A;return f()}for(w.method=x,w.arg=A;;){var m=w.delegate;if(m){var l=et(m,w);if(l){if(l===O)continue;return l}}if(w.method==="next")w.sent=w._sent=w.arg;else if(w.method==="throw"){if(v==="suspendedStart")throw v="completed",w.arg;w.dispatchException(w.arg)}else w.method==="return"&&w.abrupt("return",w.arg);v="executing";var E=k(d,y,w);if(E.type==="normal"){if(v=w.done?"completed":"suspendedYield",E.arg===O)continue;return{value:E.arg,done:w.done}}E.type==="throw"&&(v="completed",w.method="throw",w.arg=E.arg)}}}function et(d,y){var w=y.method,v=d.iterator[w];if(v===void 0)return y.delegate=null,w==="throw"&&d.iterator.return&&(y.method="return",y.arg=void 0,et(d,y),y.method==="throw")||w!=="return"&&(y.method="throw",y.arg=new TypeError("The iterator does not provide a '"+w+"' method")),O;var x=k(v,d.iterator,y.arg);if(x.type==="throw")return y.method="throw",y.arg=x.arg,y.delegate=null,O;var A=x.arg;return A?A.done?(y[d.resultName]=A.value,y.next=d.nextLoc,y.method!=="return"&&(y.method="next",y.arg=void 0),y.delegate=null,O):A:(y.method="throw",y.arg=new TypeError("iterator result is not an object"),y.delegate=null,O)}function ht(d){var y={tryLoc:d[0]};1 in d&&(y.catchLoc=d[1]),2 in d&&(y.finallyLoc=d[2],y.afterLoc=d[3]),this.tryEntries.push(y)}function Q(d){var y=d.completion||{};y.type="normal",delete y.arg,d.completion=y}function mt(d){this.tryEntries=[{tryLoc:"root"}],d.forEach(ht,this),this.reset(!0)}function I(d){if(d){var y=d[p];if(y)return y.call(d);if(typeof d.next=="function")return d;if(!isNaN(d.length)){var w=-1,v=function x(){for(;++w<d.length;)if(i.call(d,w))return x.value=d[w],x.done=!1,x;return x.value=void 0,x.done=!0,x};return v.next=v}}return{next:f}}function f(){return{value:void 0,done:!0}}return R.prototype=P,c($,"constructor",{value:P,configurable:!0}),c(P,"constructor",{value:R,configurable:!0}),R.displayName=B(P,_,"GeneratorFunction"),n.isGeneratorFunction=function(d){var y=typeof d=="function"&&d.constructor;return!!y&&(y===R||(y.displayName||y.name)==="GeneratorFunction")},n.mark=function(d){return Object.setPrototypeOf?Object.setPrototypeOf(d,P):(d.__proto__=P,B(d,_,"GeneratorFunction")),d.prototype=Object.create($),d},n.awrap=function(d){return{__await:d}},N(q.prototype),B(q.prototype,b,function(){return this}),n.AsyncIterator=q,n.async=function(d,y,w,v,x){x===void 0&&(x=Promise);var A=new q(C(d,y,w,v),x);return n.isGeneratorFunction(y)?A:A.next().then(function(m){return m.done?m.value:A.next()})},N($),B($,_,"Generator"),B($,p,function(){return this}),B($,"toString",function(){return"[object Generator]"}),n.keys=function(d){var y=Object(d),w=[];for(var v in y)w.push(v);return w.reverse(),function x(){for(;w.length;){var A=w.pop();if(A in y)return x.value=A,x.done=!1,x}return x.done=!0,x}},n.values=I,mt.prototype={constructor:mt,reset:function(y){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(Q),!y)for(var w in this)w.charAt(0)==="t"&&i.call(this,w)&&!isNaN(+w.slice(1))&&(this[w]=void 0)},stop:function(){this.done=!0;var y=this.tryEntries[0].completion;if(y.type==="throw")throw y.arg;return this.rval},dispatchException:function(y){if(this.done)throw y;var w=this;function v(H,K){return m.type="throw",m.arg=y,w.next=H,K&&(w.method="next",w.arg=void 0),!!K}for(var x=this.tryEntries.length-1;x>=0;--x){var A=this.tryEntries[x],m=A.completion;if(A.tryLoc==="root")return v("end");if(A.tryLoc<=this.prev){var l=i.call(A,"catchLoc"),E=i.call(A,"finallyLoc");if(l&&E){if(this.prev<A.catchLoc)return v(A.catchLoc,!0);if(this.prev<A.finallyLoc)return v(A.finallyLoc)}else if(l){if(this.prev<A.catchLoc)return v(A.catchLoc,!0)}else{if(!E)throw new Error("try statement without catch or finally");if(this.prev<A.finallyLoc)return v(A.finallyLoc)}}}},abrupt:function(y,w){for(var v=this.tryEntries.length-1;v>=0;--v){var x=this.tryEntries[v];if(x.tryLoc<=this.prev&&i.call(x,"finallyLoc")&&this.prev<x.finallyLoc){var A=x;break}}A&&(y==="break"||y==="continue")&&A.tryLoc<=w&&w<=A.finallyLoc&&(A=null);var m=A?A.completion:{};return m.type=y,m.arg=w,A?(this.method="next",this.next=A.finallyLoc,O):this.complete(m)},complete:function(y,w){if(y.type==="throw")throw y.arg;return y.type==="break"||y.type==="continue"?this.next=y.arg:y.type==="return"?(this.rval=this.arg=y.arg,this.method="return",this.next="end"):y.type==="normal"&&w&&(this.next=w),O},finish:function(y){for(var w=this.tryEntries.length-1;w>=0;--w){var v=this.tryEntries[w];if(v.finallyLoc===y)return this.complete(v.completion,v.afterLoc),Q(v),O}},catch:function(y){for(var w=this.tryEntries.length-1;w>=0;--w){var v=this.tryEntries[w];if(v.tryLoc===y){var x=v.completion;if(x.type==="throw"){var A=x.arg;Q(v)}return A}}throw new Error("illegal catch attempt")},delegateYield:function(y,w,v){return this.delegate={iterator:I(y),resultName:w,nextLoc:v},this.method==="next"&&(this.arg=void 0),O}},n}r.exports=e,r.exports.__esModule=!0,r.exports.default=r.exports}(Df)),Df.exports}var zf,yp;function vE(){if(yp)return zf;yp=1;var r=bE()();zf=r;try{regeneratorRuntime=r}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}return zf}function mp(r,t,e,n,o,i,c){try{var u=r[i](c),p=u.value}catch(b){e(b);return}u.done?t(p):Promise.resolve(p).then(n,o)}function xE(r){return function(){var t=this,e=arguments;return new Promise(function(n,o){var i=r.apply(t,e);function c(p){mp(i,n,o,c,u,"next",p)}function u(p){mp(i,n,o,c,u,"throw",p)}c(void 0)})}}const EE=yi(Object.freeze(Object.defineProperty({__proto__:null,default:xE},Symbol.toStringTag,{value:"Module"})));function qf(r){"@babel/helpers - typeof";return qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qf(r)}const _E=yi(Object.freeze(Object.defineProperty({__proto__:null,default:qf},Symbol.toStringTag,{value:"Module"})));var wp;function SE(){return wp||(wp=1,function(r){var t=Ef;Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var e=t(vE()),n=t(EE),o=t(_E),i=t(kf()),c=t(If()),u=t(Cf()),p=t(Of()),b=t($f()),_=Du;function B(U){var R=C();return function(){var F=(0,b.default)(U),L;if(R){var z=(0,b.default)(this).constructor;L=Reflect.construct(F,arguments,z)}else L=F.apply(this,arguments);return(0,p.default)(this,L)}}function C(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var k=function(U,R){var P={};for(var F in U)Object.prototype.hasOwnProperty.call(U,F)&&R.indexOf(F)<0&&(P[F]=U[F]);if(U!=null&&typeof Object.getOwnPropertySymbols=="function")for(var L=0,F=Object.getOwnPropertySymbols(U);L<F.length;L++)R.indexOf(F[L])<0&&Object.prototype.propertyIsEnumerable.call(U,F[L])&&(P[F[L]]=U[F[L]]);return P},O=function(U){(0,u.default)(P,U);var R=B(P);function P(F){var L,z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"ws://localhost:8080",$=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},N=arguments.length>3?arguments[3]:void 0;(0,i.default)(this,P);var q=$.autoconnect,W=q===void 0?!0:q,et=$.reconnect,ht=et===void 0?!0:et,Q=$.reconnect_interval,mt=Q===void 0?1e3:Q,I=$.max_reconnects,f=I===void 0?5:I,d=k($,["autoconnect","reconnect","reconnect_interval","max_reconnects"]);return L=R.call(this),L.webSocketFactory=F,L.queue={},L.rpc_id=0,L.address=z,L.autoconnect=W,L.ready=!1,L.reconnect=ht,L.reconnect_interval=mt,L.max_reconnects=f,L.rest_options=d,L.current_reconnects=0,L.generate_request_id=N||function(){return++L.rpc_id},L.autoconnect&&L._connect(L.address,Object.assign({autoconnect:L.autoconnect,reconnect:L.reconnect,reconnect_interval:L.reconnect_interval,max_reconnects:L.max_reconnects},L.rest_options)),L}return(0,c.default)(P,[{key:"connect",value:function(){this.socket||this._connect(this.address,Object.assign({autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects},this.rest_options))}},{key:"call",value:function(L,z,$,N){var q=this;return!N&&(0,o.default)($)==="object"&&(N=$,$=null),new Promise(function(W,et){if(!q.ready)return et(new Error("socket not ready"));var ht=q.generate_request_id(L,z),Q={jsonrpc:"2.0",method:L,params:z||null,id:ht};q.socket.send(JSON.stringify(Q),N,function(mt){if(mt)return et(mt);q.queue[ht]={promise:[W,et]},$&&(q.queue[ht].timeout=setTimeout(function(){delete q.queue[ht],et(new Error("reply timeout"))},$))})})}},{key:"login",value:function(){var F=(0,n.default)(e.default.mark(function z($){var N;return e.default.wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return W.next=2,this.call("rpc.login",$);case 2:if(N=W.sent,N){W.next=5;break}throw new Error("authentication failed");case 5:return W.abrupt("return",N);case 6:case"end":return W.stop()}},z,this)}));function L(z){return F.apply(this,arguments)}return L}()},{key:"listMethods",value:function(){var F=(0,n.default)(e.default.mark(function z(){return e.default.wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return N.next=2,this.call("__listMethods");case 2:return N.abrupt("return",N.sent);case 3:case"end":return N.stop()}},z,this)}));function L(){return F.apply(this,arguments)}return L}()},{key:"notify",value:function(L,z){var $=this;return new Promise(function(N,q){if(!$.ready)return q(new Error("socket not ready"));var W={jsonrpc:"2.0",method:L,params:z||null};$.socket.send(JSON.stringify(W),function(et){if(et)return q(et);N()})})}},{key:"subscribe",value:function(){var F=(0,n.default)(e.default.mark(function z($){var N;return e.default.wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return typeof $=="string"&&($=[$]),W.next=3,this.call("rpc.on",$);case 3:if(N=W.sent,!(typeof $=="string"&&N[$]!=="ok")){W.next=6;break}throw new Error("Failed subscribing to an event '"+$+"' with: "+N[$]);case 6:return W.abrupt("return",N);case 7:case"end":return W.stop()}},z,this)}));function L(z){return F.apply(this,arguments)}return L}()},{key:"unsubscribe",value:function(){var F=(0,n.default)(e.default.mark(function z($){var N;return e.default.wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return typeof $=="string"&&($=[$]),W.next=3,this.call("rpc.off",$);case 3:if(N=W.sent,!(typeof $=="string"&&N[$]!=="ok")){W.next=6;break}throw new Error("Failed unsubscribing from an event with: "+N);case 6:return W.abrupt("return",N);case 7:case"end":return W.stop()}},z,this)}));function L(z){return F.apply(this,arguments)}return L}()},{key:"close",value:function(L,z){this.socket.close(L||1e3,z)}},{key:"_connect",value:function(L,z){var $=this;this.socket=this.webSocketFactory(L,z),this.socket.addEventListener("open",function(){$.ready=!0,$.emit("open"),$.current_reconnects=0}),this.socket.addEventListener("message",function(N){var q=N.data;q instanceof ArrayBuffer&&(q=Buffer.from(q).toString());try{q=JSON.parse(q)}catch{return}if(q.notification&&$.listeners(q.notification).length){if(!Object.keys(q.params).length)return $.emit(q.notification);var W=[q.notification];if(q.params.constructor===Object)W.push(q.params);else for(var et=0;et<q.params.length;et++)W.push(q.params[et]);return Promise.resolve().then(function(){$.emit.apply($,W)})}if(!$.queue[q.id])return q.method&&q.params?Promise.resolve().then(function(){$.emit(q.method,q.params)}):void 0;"error"in q=="result"in q&&$.queue[q.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),$.queue[q.id].timeout&&clearTimeout($.queue[q.id].timeout),q.error?$.queue[q.id].promise[1](q.error):$.queue[q.id].promise[0](q.result),delete $.queue[q.id]}),this.socket.addEventListener("error",function(N){return $.emit("error",N)}),this.socket.addEventListener("close",function(N){var q=N.code,W=N.reason;$.ready&&setTimeout(function(){return $.emit("close",q,W)},0),$.ready=!1,$.socket=void 0,q!==1e3&&($.current_reconnects++,$.reconnect&&($.max_reconnects>$.current_reconnects||$.max_reconnects===0)&&setTimeout(function(){return $._connect(L,z)},$.reconnect_interval))})}}]),P}(_.EventEmitter);r.default=O}(Pf)),Pf}var Hi=Ef;Object.defineProperty(xf,"__esModule",{value:!0}),xf.Client=void 0;var BE=Hi(If()),AE=Hi(kf()),IE=Hi(Cf()),ME=Hi(Of()),bp=Hi($f()),kE=Hi(wE()),TE=Hi(SE());function RE(r){var t=CE();return function(){var n=(0,bp.default)(r),o;if(t){var i=(0,bp.default)(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return(0,ME.default)(this,o)}}function CE(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var LE=function(r){(0,IE.default)(e,r);var t=RE(e);function e(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"ws://localhost:8080",o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=o.autoconnect,c=i===void 0?!0:i,u=o.reconnect,p=u===void 0?!0:u,b=o.reconnect_interval,_=b===void 0?1e3:b,B=o.max_reconnects,C=B===void 0?5:B,k=arguments.length>2?arguments[2]:void 0;return(0,AE.default)(this,e),t.call(this,kE.default,n,{autoconnect:c,reconnect:p,reconnect_interval:_,max_reconnects:C},k)}return(0,BE.default)(e)}(TE.default);xf.Client=LE;var za,UE=new Uint8Array(16);function vp(){if(!za&&(za=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!za))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return za(UE)}const OE=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function qa(r){return typeof r=="string"&&OE.test(r)}for(var gr=[],Wf=0;Wf<256;++Wf)gr.push((Wf+256).toString(16).substr(1));function Wa(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,e=(gr[r[t+0]]+gr[r[t+1]]+gr[r[t+2]]+gr[r[t+3]]+"-"+gr[r[t+4]]+gr[r[t+5]]+"-"+gr[r[t+6]]+gr[r[t+7]]+"-"+gr[r[t+8]]+gr[r[t+9]]+"-"+gr[r[t+10]]+gr[r[t+11]]+gr[r[t+12]]+gr[r[t+13]]+gr[r[t+14]]+gr[r[t+15]]).toLowerCase();if(!qa(e))throw TypeError("Stringified UUID is invalid");return e}var xp,Hf,jf=0,Kf=0;function FE(r,t,e){var n=t&&e||0,o=t||new Array(16);r=r||{};var i=r.node||xp,c=r.clockseq!==void 0?r.clockseq:Hf;if(i==null||c==null){var u=r.random||(r.rng||vp)();i==null&&(i=xp=[u[0]|1,u[1],u[2],u[3],u[4],u[5]]),c==null&&(c=Hf=(u[6]<<8|u[7])&16383)}var p=r.msecs!==void 0?r.msecs:Date.now(),b=r.nsecs!==void 0?r.nsecs:Kf+1,_=p-jf+(b-Kf)/1e4;if(_<0&&r.clockseq===void 0&&(c=c+1&16383),(_<0||p>jf)&&r.nsecs===void 0&&(b=0),b>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");jf=p,Kf=b,Hf=c,p+=122192928e5;var B=((p&268435455)*1e4+b)%4294967296;o[n++]=B>>>24&255,o[n++]=B>>>16&255,o[n++]=B>>>8&255,o[n++]=B&255;var C=p/4294967296*1e4&268435455;o[n++]=C>>>8&255,o[n++]=C&255,o[n++]=C>>>24&15|16,o[n++]=C>>>16&255,o[n++]=c>>>8|128,o[n++]=c&255;for(var k=0;k<6;++k)o[n+k]=i[k];return t||Wa(o)}function Ep(r){if(!qa(r))throw TypeError("Invalid UUID");var t,e=new Uint8Array(16);return e[0]=(t=parseInt(r.slice(0,8),16))>>>24,e[1]=t>>>16&255,e[2]=t>>>8&255,e[3]=t&255,e[4]=(t=parseInt(r.slice(9,13),16))>>>8,e[5]=t&255,e[6]=(t=parseInt(r.slice(14,18),16))>>>8,e[7]=t&255,e[8]=(t=parseInt(r.slice(19,23),16))>>>8,e[9]=t&255,e[10]=(t=parseInt(r.slice(24,36),16))/1099511627776&255,e[11]=t/4294967296&255,e[12]=t>>>24&255,e[13]=t>>>16&255,e[14]=t>>>8&255,e[15]=t&255,e}function $E(r){r=unescape(encodeURIComponent(r));for(var t=[],e=0;e<r.length;++e)t.push(r.charCodeAt(e));return t}var NE="6ba7b810-9dad-11d1-80b4-00c04fd430c8",PE="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function _p(r,t,e){function n(o,i,c,u){if(typeof o=="string"&&(o=$E(o)),typeof i=="string"&&(i=Ep(i)),i.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var p=new Uint8Array(16+o.length);if(p.set(i),p.set(o,i.length),p=e(p),p[6]=p[6]&15|t,p[8]=p[8]&63|128,c){u=u||0;for(var b=0;b<16;++b)c[u+b]=p[b];return c}return Wa(p)}try{n.name=r}catch{}return n.DNS=NE,n.URL=PE,n}function DE(r){if(typeof r=="string"){var t=unescape(encodeURIComponent(r));r=new Uint8Array(t.length);for(var e=0;e<t.length;++e)r[e]=t.charCodeAt(e)}return zE(qE(WE(r),r.length*8))}function zE(r){for(var t=[],e=r.length*32,n="0123456789abcdef",o=0;o<e;o+=8){var i=r[o>>5]>>>o%32&255,c=parseInt(n.charAt(i>>>4&15)+n.charAt(i&15),16);t.push(c)}return t}function Sp(r){return(r+64>>>9<<4)+14+1}function qE(r,t){r[t>>5]|=128<<t%32,r[Sp(t)-1]=t;for(var e=1732584193,n=-271733879,o=-1732584194,i=271733878,c=0;c<r.length;c+=16){var u=e,p=n,b=o,_=i;e=Er(e,n,o,i,r[c],7,-680876936),i=Er(i,e,n,o,r[c+1],12,-389564586),o=Er(o,i,e,n,r[c+2],17,606105819),n=Er(n,o,i,e,r[c+3],22,-1044525330),e=Er(e,n,o,i,r[c+4],7,-176418897),i=Er(i,e,n,o,r[c+5],12,1200080426),o=Er(o,i,e,n,r[c+6],17,-1473231341),n=Er(n,o,i,e,r[c+7],22,-45705983),e=Er(e,n,o,i,r[c+8],7,1770035416),i=Er(i,e,n,o,r[c+9],12,-1958414417),o=Er(o,i,e,n,r[c+10],17,-42063),n=Er(n,o,i,e,r[c+11],22,-1990404162),e=Er(e,n,o,i,r[c+12],7,1804603682),i=Er(i,e,n,o,r[c+13],12,-40341101),o=Er(o,i,e,n,r[c+14],17,-1502002290),n=Er(n,o,i,e,r[c+15],22,1236535329),e=_r(e,n,o,i,r[c+1],5,-165796510),i=_r(i,e,n,o,r[c+6],9,-1069501632),o=_r(o,i,e,n,r[c+11],14,643717713),n=_r(n,o,i,e,r[c],20,-373897302),e=_r(e,n,o,i,r[c+5],5,-701558691),i=_r(i,e,n,o,r[c+10],9,38016083),o=_r(o,i,e,n,r[c+15],14,-660478335),n=_r(n,o,i,e,r[c+4],20,-405537848),e=_r(e,n,o,i,r[c+9],5,568446438),i=_r(i,e,n,o,r[c+14],9,-1019803690),o=_r(o,i,e,n,r[c+3],14,-187363961),n=_r(n,o,i,e,r[c+8],20,1163531501),e=_r(e,n,o,i,r[c+13],5,-1444681467),i=_r(i,e,n,o,r[c+2],9,-51403784),o=_r(o,i,e,n,r[c+7],14,1735328473),n=_r(n,o,i,e,r[c+12],20,-1926607734),e=Sr(e,n,o,i,r[c+5],4,-378558),i=Sr(i,e,n,o,r[c+8],11,-2022574463),o=Sr(o,i,e,n,r[c+11],16,1839030562),n=Sr(n,o,i,e,r[c+14],23,-35309556),e=Sr(e,n,o,i,r[c+1],4,-1530992060),i=Sr(i,e,n,o,r[c+4],11,1272893353),o=Sr(o,i,e,n,r[c+7],16,-155497632),n=Sr(n,o,i,e,r[c+10],23,-1094730640),e=Sr(e,n,o,i,r[c+13],4,681279174),i=Sr(i,e,n,o,r[c],11,-358537222),o=Sr(o,i,e,n,r[c+3],16,-722521979),n=Sr(n,o,i,e,r[c+6],23,76029189),e=Sr(e,n,o,i,r[c+9],4,-640364487),i=Sr(i,e,n,o,r[c+12],11,-421815835),o=Sr(o,i,e,n,r[c+15],16,530742520),n=Sr(n,o,i,e,r[c+2],23,-995338651),e=Br(e,n,o,i,r[c],6,-198630844),i=Br(i,e,n,o,r[c+7],10,1126891415),o=Br(o,i,e,n,r[c+14],15,-1416354905),n=Br(n,o,i,e,r[c+5],21,-57434055),e=Br(e,n,o,i,r[c+12],6,1700485571),i=Br(i,e,n,o,r[c+3],10,-1894986606),o=Br(o,i,e,n,r[c+10],15,-1051523),n=Br(n,o,i,e,r[c+1],21,-2054922799),e=Br(e,n,o,i,r[c+8],6,1873313359),i=Br(i,e,n,o,r[c+15],10,-30611744),o=Br(o,i,e,n,r[c+6],15,-1560198380),n=Br(n,o,i,e,r[c+13],21,1309151649),e=Br(e,n,o,i,r[c+4],6,-145523070),i=Br(i,e,n,o,r[c+11],10,-1120210379),o=Br(o,i,e,n,r[c+2],15,718787259),n=Br(n,o,i,e,r[c+9],21,-343485551),e=ui(e,u),n=ui(n,p),o=ui(o,b),i=ui(i,_)}return[e,n,o,i]}function WE(r){if(r.length===0)return[];for(var t=r.length*8,e=new Uint32Array(Sp(t)),n=0;n<t;n+=8)e[n>>5]|=(r[n/8]&255)<<n%32;return e}function ui(r,t){var e=(r&65535)+(t&65535),n=(r>>16)+(t>>16)+(e>>16);return n<<16|e&65535}function HE(r,t){return r<<t|r>>>32-t}function Ha(r,t,e,n,o,i){return ui(HE(ui(ui(t,r),ui(n,i)),o),e)}function Er(r,t,e,n,o,i,c){return Ha(t&e|~t&n,r,t,o,i,c)}function _r(r,t,e,n,o,i,c){return Ha(t&n|e&~n,r,t,o,i,c)}function Sr(r,t,e,n,o,i,c){return Ha(t^e^n,r,t,o,i,c)}function Br(r,t,e,n,o,i,c){return Ha(e^(t|~n),r,t,o,i,c)}var jE=_p("v3",48,DE);const KE=jE;function GE(r,t,e){r=r||{};var n=r.random||(r.rng||vp)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){e=e||0;for(var o=0;o<16;++o)t[e+o]=n[o];return t}return Wa(n)}function VE(r,t,e,n){switch(r){case 0:return t&e^~t&n;case 1:return t^e^n;case 2:return t&e^t&n^e&n;case 3:return t^e^n}}function Gf(r,t){return r<<t|r>>>32-t}function ZE(r){var t=[1518500249,1859775393,2400959708,3395469782],e=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof r=="string"){var n=unescape(encodeURIComponent(r));r=[];for(var o=0;o<n.length;++o)r.push(n.charCodeAt(o))}else Array.isArray(r)||(r=Array.prototype.slice.call(r));r.push(128);for(var i=r.length/4+2,c=Math.ceil(i/16),u=new Array(c),p=0;p<c;++p){for(var b=new Uint32Array(16),_=0;_<16;++_)b[_]=r[p*64+_*4]<<24|r[p*64+_*4+1]<<16|r[p*64+_*4+2]<<8|r[p*64+_*4+3];u[p]=b}u[c-1][14]=(r.length-1)*8/Math.pow(2,32),u[c-1][14]=Math.floor(u[c-1][14]),u[c-1][15]=(r.length-1)*8&4294967295;for(var B=0;B<c;++B){for(var C=new Uint32Array(80),k=0;k<16;++k)C[k]=u[B][k];for(var O=16;O<80;++O)C[O]=Gf(C[O-3]^C[O-8]^C[O-14]^C[O-16],1);for(var U=e[0],R=e[1],P=e[2],F=e[3],L=e[4],z=0;z<80;++z){var $=Math.floor(z/20),N=Gf(U,5)+VE($,R,P,F)+L+t[$]+C[z]>>>0;L=F,F=P,P=Gf(R,30)>>>0,R=U,U=N}e[0]=e[0]+U>>>0,e[1]=e[1]+R>>>0,e[2]=e[2]+P>>>0,e[3]=e[3]+F>>>0,e[4]=e[4]+L>>>0}return[e[0]>>24&255,e[0]>>16&255,e[0]>>8&255,e[0]&255,e[1]>>24&255,e[1]>>16&255,e[1]>>8&255,e[1]&255,e[2]>>24&255,e[2]>>16&255,e[2]>>8&255,e[2]&255,e[3]>>24&255,e[3]>>16&255,e[3]>>8&255,e[3]&255,e[4]>>24&255,e[4]>>16&255,e[4]>>8&255,e[4]&255]}var YE=_p("v5",80,ZE);const XE=YE,JE="00000000-0000-0000-0000-000000000000";function QE(r){if(!qa(r))throw TypeError("Invalid UUID");return parseInt(r.substr(14,1),16)}const Bp=yi(Object.freeze(Object.defineProperty({__proto__:null,NIL:JE,parse:Ep,stringify:Wa,v1:FE,v3:KE,v4:GE,v5:XE,validate:qa,version:QE},Symbol.toStringTag,{value:"Module"}))),t_=Bp.v4;var e_=function(r,t,e,n){if(typeof r!="string")throw new TypeError(r+" must be a string");n=n||{};const o=typeof n.version=="number"?n.version:2;if(o!==1&&o!==2)throw new TypeError(o+" must be 1 or 2");const i={method:r};if(o===2&&(i.jsonrpc="2.0"),t){if(typeof t!="object"&&!Array.isArray(t))throw new TypeError(t+" must be an object, array or omitted");i.params=t}if(typeof e>"u"){const c=typeof n.generator=="function"?n.generator:function(){return t_()};i.id=c(i,n)}else o===2&&e===null?n.notificationIdNull&&(i.id=null):i.id=e;return i};const r_=Bp.v4,n_=e_,ja=function(r,t){if(!(this instanceof ja))return new ja(r,t);t||(t={}),this.options={reviver:typeof t.reviver<"u"?t.reviver:null,replacer:typeof t.replacer<"u"?t.replacer:null,generator:typeof t.generator<"u"?t.generator:function(){return r_()},version:typeof t.version<"u"?t.version:2,notificationIdNull:typeof t.notificationIdNull=="boolean"?t.notificationIdNull:!1},this.callServer=r};ja.prototype.request=function(r,t,e,n){const o=this;let i=null;const c=Array.isArray(r)&&typeof t=="function";if(this.options.version===1&&c)throw new TypeError("JSON-RPC 1.0 does not support batching");if(c||!c&&r&&typeof r=="object"&&typeof t=="function")n=t,i=r;else{typeof e=="function"&&(n=e,e=void 0);const b=typeof n=="function";try{i=n_(r,t,e,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(_){if(b)return n(_);throw _}if(!b)return i}let p;try{p=JSON.stringify(i,this.options.replacer)}catch(b){return n(b)}return this.callServer(p,function(b,_){o._parseResponse(b,_,n)}),i},ja.prototype._parseResponse=function(r,t,e){if(r){e(r);return}if(!t)return e();let n;try{n=JSON.parse(t,this.options.reviver)}catch(o){return e(o)}if(e.length===3)if(Array.isArray(n)){const o=function(c){return typeof c.error<"u"},i=function(c){return!o(c)};return e(null,n.filter(o),n.filter(i))}else return e(null,n.error,n.result);e(null,n)};const[Ap,Ip,Mp]=[[],[],[]],i_=BigInt(0),Ts=BigInt(1),o_=BigInt(2),s_=BigInt(7),a_=BigInt(256),c_=BigInt(113);for(let r=0,t=Ts,e=1,n=0;r<24;r++){[e,n]=[n,(2*e+3*n)%5],Ap.push(2*(5*n+e)),Ip.push((r+1)*(r+2)/2%64);let o=i_;for(let i=0;i<7;i++)t=(t<<Ts^(t>>s_)*c_)%a_,t&o_&&(o^=Ts<<(Ts<<BigInt(i))-Ts);Mp.push(o)}const[u_,f_]=Vt.split(Mp,!0),kp=(r,t,e)=>e>32?Vt.rotlBH(r,t,e):Vt.rotlSH(r,t,e),Tp=(r,t,e)=>e>32?Vt.rotlBL(r,t,e):Vt.rotlSL(r,t,e);function l_(r,t=24){const e=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let c=0;c<10;c++)e[c]=r[c]^r[c+10]^r[c+20]^r[c+30]^r[c+40];for(let c=0;c<10;c+=2){const u=(c+8)%10,p=(c+2)%10,b=e[p],_=e[p+1],B=kp(b,_,1)^e[u],C=Tp(b,_,1)^e[u+1];for(let k=0;k<50;k+=10)r[c+k]^=B,r[c+k+1]^=C}let o=r[2],i=r[3];for(let c=0;c<24;c++){const u=Ip[c],p=kp(o,i,u),b=Tp(o,i,u),_=Ap[c];o=r[_],i=r[_+1],r[_]=p,r[_+1]=b}for(let c=0;c<50;c+=10){for(let u=0;u<10;u++)e[u]=r[c+u];for(let u=0;u<10;u++)r[c+u]^=~e[(u+2)%10]&e[(u+4)%10]}r[0]^=u_[n],r[1]^=f_[n]}e.fill(0)}class Ka extends ju{constructor(t,e,n,o=!1,i=24){if(super(),this.blockLen=t,this.suffix=e,this.outputLen=n,this.enableXOF=o,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Wr.number(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=Hx(this.state)}keccak(){l_(this.state32,this.rounds),this.posOut=0,this.pos=0}update(t){Wr.exists(this);const{blockLen:e,state:n}=this;t=Es(t);const o=t.length;for(let i=0;i<o;){const c=Math.min(e-this.pos,o-i);for(let u=0;u<c;u++)n[this.pos++]^=t[i++];this.pos===e&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:e,pos:n,blockLen:o}=this;t[n]^=e,e&128&&n===o-1&&this.keccak(),t[o-1]^=128,this.keccak()}writeInto(t){Wr.exists(this,!1),Wr.bytes(t),this.finish();const e=this.state,{blockLen:n}=this;for(let o=0,i=t.length;o<i;){this.posOut>=n&&this.keccak();const c=Math.min(n-this.posOut,i-o);t.set(e.subarray(this.posOut,this.posOut+c),o),this.posOut+=c,o+=c}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return Wr.number(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(Wr.output(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:e,suffix:n,outputLen:o,rounds:i,enableXOF:c}=this;return t||(t=new Ka(e,n,o,c,i)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=i,t.suffix=n,t.outputLen=o,t.enableXOF=c,t.destroyed=this.destroyed,t}}const fi=(r,t,e)=>$i(()=>new Ka(t,r,e));fi(6,144,224/8),fi(6,136,256/8),fi(6,104,384/8),fi(6,72,512/8),fi(1,144,224/8),fi(1,136,256/8),fi(1,104,384/8),fi(1,72,512/8);const Rp=(r,t,e)=>Kx((n={})=>new Ka(t,r,n.dkLen===void 0?e:n.dkLen,!0));Rp(31,168,128/8),Rp(31,136,256/8);class Cp extends ju{constructor(t,e){super(),this.finished=!1,this.destroyed=!1,Wr.hash(t);const n=Es(e);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const o=this.blockLen,i=new Uint8Array(o);i.set(n.length>o?t.create().update(n).digest():n);for(let c=0;c<i.length;c++)i[c]^=54;this.iHash.update(i),this.oHash=t.create();for(let c=0;c<i.length;c++)i[c]^=106;this.oHash.update(i),i.fill(0)}update(t){return Wr.exists(this),this.iHash.update(t),this}digestInto(t){Wr.exists(this),Wr.bytes(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:e,iHash:n,finished:o,destroyed:i,blockLen:c,outputLen:u}=this;return t=t,t.finished=o,t.destroyed=i,t.blockLen=c,t.outputLen=u,t.oHash=e._cloneInto(t.oHash),t.iHash=n._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Lp=(r,t,e)=>new Cp(r,t).update(e).digest();Lp.create=(r,t)=>new Cp(r,t);/*! noble-secp256k1 - MIT License (c) 2019 Paul Miller (paulmillr.com) */const Se=BigInt(0),De=BigInt(1),li=BigInt(2),Rs=BigInt(3),Up=BigInt(8),er=Object.freeze({a:Se,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:De,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")}),Op=(r,t)=>(r+t/li)/t,Ga={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar(r){const{n:t}=er,e=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-De*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),o=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=e,c=BigInt("0x100000000000000000000000000000000"),u=Op(i*r,t),p=Op(-n*r,t);let b=Mt(r-u*e-p*o,t),_=Mt(-u*n-p*i,t);const B=b>c,C=_>c;if(B&&(b=t-b),C&&(_=t-_),b>c||_>c)throw new Error("splitScalarEndo: Endomorphism failed, k="+r);return{k1neg:B,k1:b,k2neg:C,k2:_}}},zo=32,Cs=32,Fp=zo+1,$p=2*zo+1;function Np(r){const{a:t,b:e}=er,n=Mt(r*r),o=Mt(n*r);return Mt(o+t*r+e)}const Va=er.a===Se;class h_ extends Error{constructor(t){super(t)}}function Pp(r){if(!(r instanceof Ee))throw new TypeError("JacobianPoint expected")}class Ee{constructor(t,e,n){this.x=t,this.y=e,this.z=n}static fromAffine(t){if(!(t instanceof Ve))throw new TypeError("JacobianPoint#fromAffine: expected Point");return t.equals(Ve.ZERO)?Ee.ZERO:new Ee(t.x,t.y,De)}static toAffineBatch(t){const e=m_(t.map(n=>n.z));return t.map((n,o)=>n.toAffine(e[o]))}static normalizeZ(t){return Ee.toAffineBatch(t).map(Ee.fromAffine)}equals(t){Pp(t);const{x:e,y:n,z:o}=this,{x:i,y:c,z:u}=t,p=Mt(o*o),b=Mt(u*u),_=Mt(e*b),B=Mt(i*p),C=Mt(Mt(n*u)*b),k=Mt(Mt(c*o)*p);return _===B&&C===k}negate(){return new Ee(this.x,Mt(-this.y),this.z)}double(){const{x:t,y:e,z:n}=this,o=Mt(t*t),i=Mt(e*e),c=Mt(i*i),u=t+i,p=Mt(li*(Mt(u*u)-o-c)),b=Mt(Rs*o),_=Mt(b*b),B=Mt(_-li*p),C=Mt(b*(p-B)-Up*c),k=Mt(li*e*n);return new Ee(B,C,k)}add(t){Pp(t);const{x:e,y:n,z:o}=this,{x:i,y:c,z:u}=t;if(i===Se||c===Se)return this;if(e===Se||n===Se)return t;const p=Mt(o*o),b=Mt(u*u),_=Mt(e*b),B=Mt(i*p),C=Mt(Mt(n*u)*b),k=Mt(Mt(c*o)*p),O=Mt(B-_),U=Mt(k-C);if(O===Se)return U===Se?this.double():Ee.ZERO;const R=Mt(O*O),P=Mt(O*R),F=Mt(_*R),L=Mt(U*U-P-li*F),z=Mt(U*(F-L)-C*P),$=Mt(o*u*O);return new Ee(L,z,$)}subtract(t){return this.add(t.negate())}multiplyUnsafe(t){const e=Ee.ZERO;if(typeof t=="bigint"&&t===Se)return e;let n=Wp(t);if(n===De)return this;if(!Va){let B=e,C=this;for(;n>Se;)n&De&&(B=B.add(C)),C=C.double(),n>>=De;return B}let{k1neg:o,k1:i,k2neg:c,k2:u}=Ga.splitScalar(n),p=e,b=e,_=this;for(;i>Se||u>Se;)i&De&&(p=p.add(_)),u&De&&(b=b.add(_)),_=_.double(),i>>=De,u>>=De;return o&&(p=p.negate()),c&&(b=b.negate()),b=new Ee(Mt(b.x*Ga.beta),b.y,b.z),p.add(b)}precomputeWindow(t){const e=Va?128/t+1:256/t+1,n=[];let o=this,i=o;for(let c=0;c<e;c++){i=o,n.push(i);for(let u=1;u<2**(t-1);u++)i=i.add(o),n.push(i);o=i.double()}return n}wNAF(t,e){!e&&this.equals(Ee.BASE)&&(e=Ve.BASE);const n=e&&e._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let o=e&&Vf.get(e);o||(o=this.precomputeWindow(n),e&&n!==1&&(o=Ee.normalizeZ(o),Vf.set(e,o)));let i=Ee.ZERO,c=Ee.BASE;const u=1+(Va?128/n:256/n),p=2**(n-1),b=BigInt(2**n-1),_=2**n,B=BigInt(n);for(let C=0;C<u;C++){const k=C*p;let O=Number(t&b);t>>=B,O>p&&(O-=_,t+=De);const U=k,R=k+Math.abs(O)-1,P=C%2!==0,F=O<0;O===0?c=c.add(Za(P,o[U])):i=i.add(Za(F,o[R]))}return{p:i,f:c}}multiply(t,e){let n=Wp(t),o,i;if(Va){const{k1neg:c,k1:u,k2neg:p,k2:b}=Ga.splitScalar(n);let{p:_,f:B}=this.wNAF(u,e),{p:C,f:k}=this.wNAF(b,e);_=Za(c,_),C=Za(p,C),C=new Ee(Mt(C.x*Ga.beta),C.y,C.z),o=_.add(C),i=B.add(k)}else{const{p:c,f:u}=this.wNAF(n,e);o=c,i=u}return Ee.normalizeZ([o,i])[0]}toAffine(t){const{x:e,y:n,z:o}=this,i=this.equals(Ee.ZERO);t==null&&(t=i?Up:Xa(o));const c=t,u=Mt(c*c),p=Mt(u*c),b=Mt(e*u),_=Mt(n*p),B=Mt(o*c);if(i)return Ve.ZERO;if(B!==De)throw new Error("invZ was invalid");return new Ve(b,_)}}Ee.BASE=new Ee(er.Gx,er.Gy,De),Ee.ZERO=new Ee(Se,De,Se);function Za(r,t){const e=t.negate();return r?e:t}const Vf=new WeakMap;class Ve{constructor(t,e){this.x=t,this.y=e}_setWindowSize(t){this._WINDOW_SIZE=t,Vf.delete(this)}hasEvenY(){return this.y%li===Se}static fromCompressedHex(t){const e=t.length===32,n=Gi(e?t:t.subarray(1));if(!Xf(n))throw new Error("Point is not on curve");const o=Np(n);let i=y_(o);const c=(i&De)===De;e?c&&(i=Mt(-i)):(t[0]&1)===1!==c&&(i=Mt(-i));const u=new Ve(n,i);return u.assertValidity(),u}static fromUncompressedHex(t){const e=Gi(t.subarray(1,zo+1)),n=Gi(t.subarray(zo+1,zo*2+1)),o=new Ve(e,n);return o.assertValidity(),o}static fromHex(t){const e=Zf(t),n=e.length,o=e[0];if(n===zo)return this.fromCompressedHex(e);if(n===Fp&&(o===2||o===3))return this.fromCompressedHex(e);if(n===$p&&o===4)return this.fromUncompressedHex(e);throw new Error(`Point.fromHex: received invalid point. Expected 32-${Fp} compressed bytes or ${$p} uncompressed bytes, not ${n}`)}static fromPrivateKey(t){return Ve.BASE.multiply(Jf(t))}static fromSignature(t,e,n){const{r:o,s:i}=v_(e);if(![0,1,2,3].includes(n))throw new Error("Cannot recover: invalid recovery bit");const c=b_(Zf(t)),{n:u}=er,p=n===2||n===3?o+u:o,b=Xa(p,u),_=Mt(-c*b,u),B=Mt(i*b,u),C=n&1?"03":"02",k=Ve.fromHex(C+Wo(p)),O=Ve.BASE.multiplyAndAddUnsafe(k,_,B);if(!O)throw new Error("Cannot recover signature: point at infinify");return O.assertValidity(),O}toRawBytes(t=!1){return Ki(this.toHex(t))}toHex(t=!1){const e=Wo(this.x);return t?`${this.hasEvenY()?"02":"03"}${e}`:`04${e}${Wo(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){const t="Point is not on elliptic curve",{x:e,y:n}=this;if(!Xf(e)||!Xf(n))throw new Error(t);const o=Mt(n*n),i=Np(e);if(Mt(o-i)!==Se)throw new Error(t)}equals(t){return this.x===t.x&&this.y===t.y}negate(){return new Ve(this.x,Mt(-this.y))}double(){return Ee.fromAffine(this).double().toAffine()}add(t){return Ee.fromAffine(this).add(Ee.fromAffine(t)).toAffine()}subtract(t){return this.add(t.negate())}multiply(t){return Ee.fromAffine(this).multiply(t,this).toAffine()}multiplyAndAddUnsafe(t,e,n){const o=Ee.fromAffine(this),i=e===Se||e===De||this!==Ve.BASE?o.multiplyUnsafe(e):o.multiply(e),c=Ee.fromAffine(t).multiplyUnsafe(n),u=i.add(c);return u.equals(Ee.ZERO)?void 0:u.toAffine()}}Ve.BASE=new Ve(er.Gx,er.Gy),Ve.ZERO=new Ve(Se,Se);function Dp(r){return Number.parseInt(r[0],16)>=8?"00"+r:r}function zp(r){if(r.length<2||r[0]!==2)throw new Error(`Invalid signature integer tag: ${qo(r)}`);const t=r[1],e=r.subarray(2,t+2);if(!t||e.length!==t)throw new Error("Invalid signature integer: wrong length");if(e[0]===0&&e[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:Gi(e),left:r.subarray(t+2)}}function d_(r){if(r.length<2||r[0]!=48)throw new Error(`Invalid signature tag: ${qo(r)}`);if(r[1]!==r.length-2)throw new Error("Invalid signature: incorrect length");const{data:t,left:e}=zp(r.subarray(2)),{data:n,left:o}=zp(e);if(o.length)throw new Error(`Invalid signature: left bytes after parsing: ${qo(o)}`);return{r:t,s:n}}class ji{constructor(t,e){this.r=t,this.s=e,this.assertValidity()}static fromCompact(t){const e=t instanceof Uint8Array,n="Signature.fromCompact";if(typeof t!="string"&&!e)throw new TypeError(`${n}: Expected string or Uint8Array`);const o=e?qo(t):t;if(o.length!==128)throw new Error(`${n}: Expected 64-byte hex`);return new ji(Ya(o.slice(0,64)),Ya(o.slice(64,128)))}static fromDER(t){const e=t instanceof Uint8Array;if(typeof t!="string"&&!e)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");const{r:n,s:o}=d_(e?t:Ki(t));return new ji(n,o)}static fromHex(t){return this.fromDER(t)}assertValidity(){const{r:t,s:e}=this;if(!Ja(t))throw new Error("Invalid Signature: r must be 0 < r < n");if(!Ja(e))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){const t=er.n>>De;return this.s>t}normalizeS(){return this.hasHighS()?new ji(this.r,Mt(-this.s,er.n)):this}toDERRawBytes(){return Ki(this.toDERHex())}toDERHex(){const t=Dp(Us(this.s)),e=Dp(Us(this.r)),n=t.length/2,o=e.length/2,i=Us(n),c=Us(o);return`30${Us(o+n+4)}02${c}${e}02${i}${t}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return Ki(this.toCompactHex())}toCompactHex(){return Wo(this.r)+Wo(this.s)}}function Ls(...r){if(!r.every(n=>n instanceof Uint8Array))throw new Error("Uint8Array list expected");if(r.length===1)return r[0];const t=r.reduce((n,o)=>n+o.length,0),e=new Uint8Array(t);for(let n=0,o=0;n<r.length;n++){const i=r[n];e.set(i,o),o+=i.length}return e}const p_=Array.from({length:256},(r,t)=>t.toString(16).padStart(2,"0"));function qo(r){if(!(r instanceof Uint8Array))throw new Error("Expected Uint8Array");let t="";for(let e=0;e<r.length;e++)t+=p_[r[e]];return t}const g_=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function Wo(r){if(typeof r!="bigint")throw new Error("Expected bigint");if(!(Se<=r&&r<g_))throw new Error("Expected number 0 <= n < 2^256");return r.toString(16).padStart(64,"0")}function qp(r){const t=Ki(Wo(r));if(t.length!==32)throw new Error("Error: expected 32 bytes");return t}function Us(r){const t=r.toString(16);return t.length&1?`0${t}`:t}function Ya(r){if(typeof r!="string")throw new TypeError("hexToNumber: expected string, got "+typeof r);return BigInt(`0x${r}`)}function Ki(r){if(typeof r!="string")throw new TypeError("hexToBytes: expected string, got "+typeof r);if(r.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+r.length);const t=new Uint8Array(r.length/2);for(let e=0;e<t.length;e++){const n=e*2,o=r.slice(n,n+2),i=Number.parseInt(o,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");t[e]=i}return t}function Gi(r){return Ya(qo(r))}function Zf(r){return r instanceof Uint8Array?Uint8Array.from(r):Ki(r)}function Wp(r){if(typeof r=="number"&&Number.isSafeInteger(r)&&r>0)return BigInt(r);if(typeof r=="bigint"&&Ja(r))return r;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function Mt(r,t=er.P){const e=r%t;return e>=Se?e:t+e}function nn(r,t){const{P:e}=er;let n=r;for(;t-- >Se;)n*=n,n%=e;return n}function y_(r){const{P:t}=er,e=BigInt(6),n=BigInt(11),o=BigInt(22),i=BigInt(23),c=BigInt(44),u=BigInt(88),p=r*r*r%t,b=p*p*r%t,_=nn(b,Rs)*b%t,B=nn(_,Rs)*b%t,C=nn(B,li)*p%t,k=nn(C,n)*C%t,O=nn(k,o)*k%t,U=nn(O,c)*O%t,R=nn(U,u)*U%t,P=nn(R,c)*O%t,F=nn(P,Rs)*b%t,L=nn(F,i)*k%t,z=nn(L,e)*p%t,$=nn(z,li);if($*$%t!==r)throw new Error("Cannot find square root");return $}function Xa(r,t=er.P){if(r===Se||t<=Se)throw new Error(`invert: expected positive integers, got n=${r} mod=${t}`);let e=Mt(r,t),n=t,o=Se,i=De;for(;e!==Se;){const u=n/e,p=n%e,b=o-i*u;n=e,e=p,o=i,i=b}if(n!==De)throw new Error("invert: does not exist");return Mt(o,t)}function m_(r,t=er.P){const e=new Array(r.length),n=r.reduce((i,c,u)=>c===Se?i:(e[u]=i,Mt(i*c,t)),De),o=Xa(n,t);return r.reduceRight((i,c,u)=>c===Se?i:(e[u]=Mt(i*e[u],t),Mt(i*c,t)),o),e}function w_(r){const t=r.length*8-Cs*8,e=Gi(r);return t>0?e>>BigInt(t):e}function b_(r,t=!1){const e=w_(r);if(t)return e;const{n}=er;return e>=n?e-n:e}let Ho,Yf;function Ja(r){return Se<r&&r<er.n}function Xf(r){return Se<r&&r<er.P}function Jf(r){let t;if(typeof r=="bigint")t=r;else if(typeof r=="number"&&Number.isSafeInteger(r)&&r>0)t=BigInt(r);else if(typeof r=="string"){if(r.length!==2*Cs)throw new Error("Expected 32 bytes of private key");t=Ya(r)}else if(r instanceof Uint8Array){if(r.length!==Cs)throw new Error("Expected 32 bytes of private key");t=Gi(r)}else throw new TypeError("Expected valid private key");if(!Ja(t))throw new Error("Expected private key: 0 < key < n");return t}function v_(r){if(r instanceof ji)return r.assertValidity(),r;try{return ji.fromDER(r)}catch{return ji.fromCompact(r)}}Ve.BASE._setWindowSize(8);const Kr={node:xc,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},Qa={},Vi={bytesToHex:qo,hexToBytes:Ki,concatBytes:Ls,mod:Mt,invert:Xa,isValidPrivateKey(r){try{return Jf(r),!0}catch{return!1}},_bigintTo32Bytes:qp,_normalizePrivateKey:Jf,hashToPrivateKey:r=>{r=Zf(r);const t=Cs+8;if(r.length<t||r.length>1024)throw new Error("Expected valid bytes of private key as per FIPS 186");const e=Mt(Gi(r),er.n-De)+De;return qp(e)},randomBytes:(r=32)=>{if(Kr.web)return Kr.web.getRandomValues(new Uint8Array(r));if(Kr.node){const{randomBytes:t}=Kr.node;return Uint8Array.from(t(r))}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>Vi.hashToPrivateKey(Vi.randomBytes(Cs+8)),precompute(r=8,t=Ve.BASE){const e=t===Ve.BASE?t:new Ve(t.x,t.y);return e._setWindowSize(r),e.multiply(Rs),e},sha256:async(...r)=>{if(Kr.web){const t=await Kr.web.subtle.digest("SHA-256",Ls(...r));return new Uint8Array(t)}else if(Kr.node){const{createHash:t}=Kr.node,e=t("sha256");return r.forEach(n=>e.update(n)),Uint8Array.from(e.digest())}else throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(r,...t)=>{if(Kr.web){const e=await Kr.web.subtle.importKey("raw",r,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),n=Ls(...t),o=await Kr.web.subtle.sign("HMAC",e,n);return new Uint8Array(o)}else if(Kr.node){const{createHmac:e}=Kr.node,n=e("sha256",r);return t.forEach(o=>n.update(o)),Uint8Array.from(n.digest())}else throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async(r,...t)=>{let e=Qa[r];if(e===void 0){const n=await Vi.sha256(Uint8Array.from(r,o=>o.charCodeAt(0)));e=Ls(n,n),Qa[r]=e}return Vi.sha256(e,...t)},taggedHashSync:(r,...t)=>{if(typeof Ho!="function")throw new h_("sha256Sync is undefined, you need to set it");let e=Qa[r];if(e===void 0){const n=Ho(Uint8Array.from(r,o=>o.charCodeAt(0)));e=Ls(n,n),Qa[r]=e}return Ho(e,...t)},_JacobianPoint:Ee};Object.defineProperties(Vi,{sha256Sync:{configurable:!1,get(){return Ho},set(r){Ho||(Ho=r)}},hmacSha256Sync:{configurable:!1,get(){return Yf},set(r){Yf||(Yf=r)}}}),Oo.sha512Sync=(...r)=>p2(Oo.concatBytes(...r)),Oo.randomPrivateKey;function Hp(r){try{return Cr.fromHex(r,!0),!0}catch{return!1}}const x_=r=>Ke.Buffer.isBuffer(r)?r:r instanceof Uint8Array?Ke.Buffer.from(r.buffer,r.byteOffset,r.byteLength):Ke.Buffer.from(r);class E_{constructor(t){Object.assign(this,t)}encode(){return Ke.Buffer.from(Od(tc,this))}static decode(t){return Fd(tc,this,t)}static decodeUnchecked(t){return Td(tc,this,t)}}const tc=new Map;let jp;const __=32,Qf=32;function S_(r){return r._bn!==void 0}let Kp=1;jp=Symbol.toStringTag;class ge extends E_{constructor(t){if(super({}),this._bn=void 0,S_(t))this._bn=t._bn;else{if(typeof t=="string"){const e=Id.decode(t);if(e.length!=Qf)throw new Error("Invalid public key input");this._bn=new Bd(e)}else this._bn=new Bd(t);if(this._bn.byteLength()>Qf)throw new Error("Invalid public key input")}}static unique(){const t=new ge(Kp);return Kp+=1,new ge(t.toBuffer())}equals(t){return this._bn.eq(t._bn)}toBase58(){return Id.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const t=this.toBuffer();return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}toBuffer(){const t=this._bn.toArrayLike(Ke.Buffer);if(t.length===Qf)return t;const e=Ke.Buffer.alloc(32);return t.copy(e,32-t.length),e}get[jp](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(t,e,n){const o=Ke.Buffer.concat([t.toBuffer(),Ke.Buffer.from(e),n.toBuffer()]),i=of(o);return new ge(i)}static createProgramAddressSync(t,e){let n=Ke.Buffer.alloc(0);t.forEach(function(i){if(i.length>__)throw new TypeError("Max seed length exceeded");n=Ke.Buffer.concat([n,x_(i)])}),n=Ke.Buffer.concat([n,e.toBuffer(),Ke.Buffer.from("ProgramDerivedAddress")]);const o=of(n);if(Hp(o))throw new Error("Invalid seeds, address must fall off the curve");return new ge(o)}static async createProgramAddress(t,e){return this.createProgramAddressSync(t,e)}static findProgramAddressSync(t,e){let n=255,o;for(;n!=0;){try{const i=t.concat(Ke.Buffer.from([n]));o=this.createProgramAddressSync(i,e)}catch(i){if(i instanceof TypeError)throw i;n--;continue}return[o,n]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(t,e){return this.findProgramAddressSync(t,e)}static isOnCurve(t){const e=new ge(t);return Hp(e.toBytes())}}ge.default=new ge("11111111111111111111111111111111"),tc.set(ge,{kind:"struct",fields:[["_bn","u256"]]}),new ge("BPFLoader1111111111111111111111111111111111");const B_=64,_e=(r="publicKey")=>Do(32,r),jo=(r="string")=>{const t=zt([Dt("length"),Dt("lengthPadding"),Do(zi(Dt(),-8),"chars")],r),e=t.decode.bind(t),n=t.encode.bind(t),o=t;return o.decode=(i,c)=>e(i,c).chars.toString(),o.encode=(i,c,u)=>{const p={chars:Ke.Buffer.from(i,"utf8")};return n(p,c,u)},o.alloc=i=>Dt().span+Dt().span+Ke.Buffer.from(i,"utf8").length,o},A_=(r="authorized")=>zt([_e("staker"),_e("withdrawer")],r),I_=(r="lockup")=>zt([jr("unixTimestamp"),jr("epoch"),_e("custodian")],r),M_=(r="voteInit")=>zt([_e("nodePubkey"),_e("authorizedVoter"),_e("authorizedWithdrawer"),Xe("commission")],r),k_=(r="voteAuthorizeWithSeedArgs")=>zt([Dt("voteAuthorizationType"),_e("currentAuthorityDerivedKeyOwnerPubkey"),jo("currentAuthorityDerivedKeySeed"),_e("newAuthorized")],r);let Gp;(function(r){r[r.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",r[r.PROCESSED=1]="PROCESSED",r[r.TIMED_OUT=2]="TIMED_OUT",r[r.NONCE_INVALID=3]="NONCE_INVALID"})(Gp||(Gp={})),Ke.Buffer.alloc(B_).fill(0),new ge("SysvarC1ock11111111111111111111111111111111"),new ge("SysvarEpochSchedu1e111111111111111111111111"),new ge("Sysvar1nstructions1111111111111111111111111"),new ge("SysvarRecentB1ockHashes11111111111111111111"),new ge("SysvarRent111111111111111111111111111111111"),new ge("SysvarRewards111111111111111111111111111111"),new ge("SysvarS1otHashes111111111111111111111111111"),new ge("SysvarS1otHistory11111111111111111111111111"),new ge("SysvarStakeHistory1111111111111111111111111");const T_=pr("lamportsPerSignature");zt([Dt("version"),Dt("state"),_e("authorizedPubkey"),_e("nonce"),zt([T_],"feeCalculator")]).span;const R_=r=>{const t=r.decode.bind(r),e=r.encode.bind(r);return{decode:t,encode:e}},Ko=(r=>t=>{const e=Do(r,t),{encode:n,decode:o}=R_(e),i=e;return i.decode=(c,u)=>{const p=o(c,u);return eE(Ke.Buffer.from(p))},i.encode=(c,u,p)=>{const b=iE(c,r);return n(b,u,p)},i})(8);Object.freeze({Create:{index:0,layout:zt([Dt("instruction"),jr("lamports"),jr("space"),_e("programId")])},Assign:{index:1,layout:zt([Dt("instruction"),_e("programId")])},Transfer:{index:2,layout:zt([Dt("instruction"),Ko("lamports")])},CreateWithSeed:{index:3,layout:zt([Dt("instruction"),_e("base"),jo("seed"),jr("lamports"),jr("space"),_e("programId")])},AdvanceNonceAccount:{index:4,layout:zt([Dt("instruction")])},WithdrawNonceAccount:{index:5,layout:zt([Dt("instruction"),jr("lamports")])},InitializeNonceAccount:{index:6,layout:zt([Dt("instruction"),_e("authorized")])},AuthorizeNonceAccount:{index:7,layout:zt([Dt("instruction"),_e("authorized")])},Allocate:{index:8,layout:zt([Dt("instruction"),jr("space")])},AllocateWithSeed:{index:9,layout:zt([Dt("instruction"),_e("base"),jo("seed"),jr("space"),_e("programId")])},AssignWithSeed:{index:10,layout:zt([Dt("instruction"),_e("base"),jo("seed"),_e("programId")])},TransferWithSeed:{index:11,layout:zt([Dt("instruction"),Ko("lamports"),jo("seed"),_e("programId")])},UpgradeNonceAccount:{index:12,layout:zt([Dt("instruction")])}}),new ge("11111111111111111111111111111111"),new ge("BPFLoader2111111111111111111111111111111111"),zt([Dt("typeIndex"),Ko("deactivationSlot"),pr("lastExtendedSlot"),Xe("lastExtendedStartIndex"),Xe(),qi(_e(),zi(Xe(),-1),"authority")]);const rr=ks(bf(ge),yt(),r=>new ge(r)),Vp=vf([yt(),Pe("base64")]),tl=ks(bf(Ke.Buffer),Vp,r=>Ke.Buffer.from(r[0],"base64"));function Zp(r){return Ur([ut({jsonrpc:Pe("2.0"),id:yt(),result:r}),ut({jsonrpc:Pe("2.0"),id:yt(),error:ut({code:Ms(),message:yt(),data:jt(hE())})})])}const C_=Zp(Ms());function Ce(r){return ks(Zp(r),C_,t=>"error"in t?t:{...t,result:As(t.result,r)})}function dn(r){return Ce(ut({context:ut({slot:X()}),value:r}))}function ec(r){return ut({context:ut({slot:X()}),value:r})}const L_=ut({foundation:X(),foundationTerm:X(),initial:X(),taper:X(),terminal:X()});Ce(It(At(ut({epoch:X(),effectiveSlot:X(),amount:X(),postBalance:X(),commission:jt(At(X()))}))));const U_=ut({total:X(),validator:X(),foundation:X(),epoch:X()}),O_=ut({epoch:X(),slotIndex:X(),slotsInEpoch:X(),absoluteSlot:X(),blockHeight:jt(X()),transactionCount:jt(X())}),F_=ut({slotsPerEpoch:X(),leaderScheduleSlotOffset:X(),warmup:zn(),firstNormalEpoch:X(),firstNormalSlot:X()}),$_=rp(yt(),It(X())),Zi=At(Ur([ut({}),yt()])),N_=ut({err:Zi}),P_=Pe("receivedSignature");ut({"solana-core":yt(),"feature-set":jt(X())}),dn(ut({err:At(Ur([ut({}),yt()])),logs:At(It(yt())),accounts:jt(At(It(At(ut({executable:zn(),owner:yt(),lamports:X(),data:It(yt()),rentEpoch:jt(X())}))))),unitsConsumed:jt(X()),returnData:jt(At(ut({programId:yt(),data:vf([yt(),Pe("base64")])})))})),dn(ut({byIdentity:rp(yt(),It(X())),range:ut({firstSlot:X(),lastSlot:X()})})),Ce(L_),Ce(U_),Ce(O_),Ce(F_),Ce($_),Ce(X()),dn(ut({total:X(),circulating:X(),nonCirculating:X(),nonCirculatingAccounts:It(rr)}));const D_=ut({amount:yt(),uiAmount:At(X()),decimals:X(),uiAmountString:jt(yt())});dn(It(ut({address:rr,amount:yt(),uiAmount:At(X()),decimals:X(),uiAmountString:jt(yt())}))),dn(It(ut({pubkey:rr,account:ut({executable:zn(),owner:rr,lamports:X(),data:tl,rentEpoch:X()})})));const el=ut({program:yt(),parsed:Ms(),space:X()});dn(It(ut({pubkey:rr,account:ut({executable:zn(),owner:rr,lamports:X(),data:el,rentEpoch:X()})}))),dn(It(ut({lamports:X(),address:rr})));const rl=ut({executable:zn(),owner:rr,lamports:X(),data:tl,rentEpoch:X()});ut({pubkey:rr,account:rl});const z_=ks(Ur([bf(Ke.Buffer),el]),Ur([Vp,el]),r=>Array.isArray(r)?As(r,tl):r),q_=ut({executable:zn(),owner:rr,lamports:X(),data:z_,rentEpoch:X()});ut({pubkey:rr,account:q_}),ut({state:Ur([Pe("active"),Pe("inactive"),Pe("activating"),Pe("deactivating")]),active:X(),inactive:X()}),Ce(It(ut({signature:yt(),slot:X(),err:Zi,memo:At(yt()),blockTime:jt(At(X()))}))),Ce(It(ut({signature:yt(),slot:X(),err:Zi,memo:At(yt()),blockTime:jt(At(X()))}))),ut({subscription:X(),result:ec(rl)});const W_=ut({pubkey:rr,account:rl});ut({subscription:X(),result:ec(W_)});const H_=ut({parent:X(),slot:X(),root:X()});ut({subscription:X(),result:H_});const j_=Ur([ut({type:Ur([Pe("firstShredReceived"),Pe("completed"),Pe("optimisticConfirmation"),Pe("root")]),slot:X(),timestamp:X()}),ut({type:Pe("createdBank"),parent:X(),slot:X(),timestamp:X()}),ut({type:Pe("frozen"),slot:X(),timestamp:X(),stats:ut({numTransactionEntries:X(),numSuccessfulTransactions:X(),numFailedTransactions:X(),maxTransactionsPerEntry:X()})}),ut({type:Pe("dead"),slot:X(),timestamp:X(),err:yt()})]);ut({subscription:X(),result:j_}),ut({subscription:X(),result:ec(Ur([N_,P_]))}),ut({subscription:X(),result:X()}),ut({pubkey:yt(),gossip:At(yt()),tpu:At(yt()),rpc:At(yt()),version:At(yt())});const Yp=ut({votePubkey:yt(),nodePubkey:yt(),activatedStake:X(),epochVoteAccount:zn(),epochCredits:It(vf([X(),X(),X()])),commission:X(),lastVote:X(),rootSlot:At(X())});Ce(ut({current:It(Yp),delinquent:It(Yp)}));const K_=Ur([Pe("processed"),Pe("confirmed"),Pe("finalized")]),G_=ut({slot:X(),confirmations:At(X()),err:Zi,confirmationStatus:jt(K_)});dn(It(At(G_))),Ce(X());const Xp=ut({accountKey:rr,writableIndexes:It(X()),readonlyIndexes:It(X())}),nl=ut({signatures:It(yt()),message:ut({accountKeys:It(yt()),header:ut({numRequiredSignatures:X(),numReadonlySignedAccounts:X(),numReadonlyUnsignedAccounts:X()}),instructions:It(ut({accounts:It(X()),data:yt(),programIdIndex:X()})),recentBlockhash:yt(),addressTableLookups:jt(It(Xp))})}),Jp=ut({pubkey:rr,signer:zn(),writable:zn(),source:jt(Ur([Pe("transaction"),Pe("lookupTable")]))}),Qp=ut({accountKeys:It(Jp),signatures:It(yt())}),t1=ut({parsed:Ms(),program:yt(),programId:rr}),e1=ut({accounts:It(rr),data:yt(),programId:rr}),V_=Ur([e1,t1]),Z_=Ur([ut({parsed:Ms(),program:yt(),programId:yt()}),ut({accounts:It(yt()),data:yt(),programId:yt()})]),r1=ks(V_,Z_,r=>"accounts"in r?As(r,e1):As(r,t1)),n1=ut({signatures:It(yt()),message:ut({accountKeys:It(Jp),instructions:It(r1),recentBlockhash:yt(),addressTableLookups:jt(At(It(Xp)))})}),rc=ut({accountIndex:X(),mint:yt(),owner:jt(yt()),uiTokenAmount:D_}),i1=ut({writable:It(rr),readonly:It(rr)}),nc=ut({err:Zi,fee:X(),innerInstructions:jt(At(It(ut({index:X(),instructions:It(ut({accounts:It(X()),data:yt(),programIdIndex:X()}))})))),preBalances:It(X()),postBalances:It(X()),logMessages:jt(At(It(yt()))),preTokenBalances:jt(At(It(rc))),postTokenBalances:jt(At(It(rc))),loadedAddresses:jt(i1),computeUnitsConsumed:jt(X())}),il=ut({err:Zi,fee:X(),innerInstructions:jt(At(It(ut({index:X(),instructions:It(r1)})))),preBalances:It(X()),postBalances:It(X()),logMessages:jt(At(It(yt()))),preTokenBalances:jt(At(It(rc))),postTokenBalances:jt(At(It(rc))),loadedAddresses:jt(i1),computeUnitsConsumed:jt(X())}),Go=Ur([Pe(0),Pe("legacy")]),Yi=ut({pubkey:yt(),lamports:X(),postBalance:At(X()),rewardType:At(yt()),commission:jt(At(X()))});Ce(At(ut({blockhash:yt(),previousBlockhash:yt(),parentSlot:X(),transactions:It(ut({transaction:nl,meta:At(nc),version:jt(Go)})),rewards:jt(It(Yi)),blockTime:At(X()),blockHeight:At(X())}))),Ce(At(ut({blockhash:yt(),previousBlockhash:yt(),parentSlot:X(),rewards:jt(It(Yi)),blockTime:At(X()),blockHeight:At(X())}))),Ce(At(ut({blockhash:yt(),previousBlockhash:yt(),parentSlot:X(),transactions:It(ut({transaction:Qp,meta:At(nc),version:jt(Go)})),rewards:jt(It(Yi)),blockTime:At(X()),blockHeight:At(X())}))),Ce(At(ut({blockhash:yt(),previousBlockhash:yt(),parentSlot:X(),transactions:It(ut({transaction:n1,meta:At(il),version:jt(Go)})),rewards:jt(It(Yi)),blockTime:At(X()),blockHeight:At(X())}))),Ce(At(ut({blockhash:yt(),previousBlockhash:yt(),parentSlot:X(),transactions:It(ut({transaction:Qp,meta:At(il),version:jt(Go)})),rewards:jt(It(Yi)),blockTime:At(X()),blockHeight:At(X())}))),Ce(At(ut({blockhash:yt(),previousBlockhash:yt(),parentSlot:X(),rewards:jt(It(Yi)),blockTime:At(X()),blockHeight:At(X())}))),Ce(At(ut({blockhash:yt(),previousBlockhash:yt(),parentSlot:X(),transactions:It(ut({transaction:nl,meta:At(nc)})),rewards:jt(It(Yi)),blockTime:At(X())}))),Ce(At(ut({blockhash:yt(),previousBlockhash:yt(),parentSlot:X(),signatures:It(yt()),blockTime:At(X())}))),Ce(At(ut({slot:X(),meta:nc,blockTime:jt(At(X())),transaction:nl,version:jt(Go)}))),Ce(At(ut({slot:X(),transaction:n1,meta:At(il),blockTime:jt(At(X())),version:jt(Go)}))),dn(ut({blockhash:yt(),feeCalculator:ut({lamportsPerSignature:X()})})),dn(ut({blockhash:yt(),lastValidBlockHeight:X()}));const Y_=ut({slot:X(),numTransactions:X(),numSlots:X(),samplePeriodSecs:X()});Ce(It(Y_)),dn(At(ut({feeCalculator:ut({lamportsPerSignature:X()})}))),Ce(yt()),Ce(yt());const X_=ut({err:Zi,logs:It(yt()),signature:yt()});ut({result:ec(X_),subscription:X()}),Object.freeze({CreateLookupTable:{index:0,layout:zt([Dt("instruction"),Ko("recentSlot"),Xe("bumpSeed")])},FreezeLookupTable:{index:1,layout:zt([Dt("instruction")])},ExtendLookupTable:{index:2,layout:zt([Dt("instruction"),Ko(),qi(_e(),zi(Dt(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:zt([Dt("instruction")])},CloseLookupTable:{index:4,layout:zt([Dt("instruction")])}}),new ge("AddressLookupTab1e1111111111111111111111111"),Object.freeze({RequestUnits:{index:0,layout:zt([Xe("instruction"),Dt("units"),Dt("additionalFee")])},RequestHeapFrame:{index:1,layout:zt([Xe("instruction"),Dt("bytes")])},SetComputeUnitLimit:{index:2,layout:zt([Xe("instruction"),Dt("units")])},SetComputeUnitPrice:{index:3,layout:zt([Xe("instruction"),Ko("microLamports")])}}),new ge("ComputeBudget111111111111111111111111111111"),zt([Xe("numSignatures"),Xe("padding"),rn("signatureOffset"),rn("signatureInstructionIndex"),rn("publicKeyOffset"),rn("publicKeyInstructionIndex"),rn("messageDataOffset"),rn("messageDataSize"),rn("messageInstructionIndex")]),new ge("Ed25519SigVerify111111111111111111111111111"),Vi.hmacSha256Sync=(r,...t)=>{const e=Lp.create(of,r);return t.forEach(n=>e.update(n)),e.digest()},Vi.isValidPrivateKey,zt([Xe("numSignatures"),rn("signatureOffset"),Xe("signatureInstructionIndex"),rn("ethAddressOffset"),Xe("ethAddressInstructionIndex"),rn("messageDataOffset"),rn("messageDataSize"),Xe("messageInstructionIndex"),Do(20,"ethAddress"),Do(64,"signature"),Xe("recoveryId")]),new ge("KeccakSecp256k11111111111111111111111111111"),new ge("StakeConfig11111111111111111111111111111111");class o1{constructor(t,e,n){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=t,this.epoch=e,this.custodian=n}}o1.default=new o1(0,0,ge.default),Object.freeze({Initialize:{index:0,layout:zt([Dt("instruction"),A_(),I_()])},Authorize:{index:1,layout:zt([Dt("instruction"),_e("newAuthorized"),Dt("stakeAuthorizationType")])},Delegate:{index:2,layout:zt([Dt("instruction")])},Split:{index:3,layout:zt([Dt("instruction"),jr("lamports")])},Withdraw:{index:4,layout:zt([Dt("instruction"),jr("lamports")])},Deactivate:{index:5,layout:zt([Dt("instruction")])},Merge:{index:7,layout:zt([Dt("instruction")])},AuthorizeWithSeed:{index:8,layout:zt([Dt("instruction"),_e("newAuthorized"),Dt("stakeAuthorizationType"),jo("authoritySeed"),_e("authorityOwner")])}}),new ge("Stake11111111111111111111111111111111111111"),Object.freeze({InitializeAccount:{index:0,layout:zt([Dt("instruction"),M_()])},Authorize:{index:1,layout:zt([Dt("instruction"),_e("newAuthorized"),Dt("voteAuthorizationType")])},Withdraw:{index:3,layout:zt([Dt("instruction"),jr("lamports")])},AuthorizeWithSeed:{index:10,layout:zt([Dt("instruction"),k_()])}}),new ge("Vote111111111111111111111111111111111111111"),new ge("Va1idator1nfo111111111111111111111111111111"),ut({name:yt(),website:jt(yt()),details:jt(yt()),keybaseUsername:jt(yt())}),new ge("Vote111111111111111111111111111111111111111"),zt([_e("nodePubkey"),_e("authorizedWithdrawer"),Xe("commission"),pr(),qi(zt([pr("slot"),Dt("confirmationCount")]),zi(Dt(),-8),"votes"),Xe("rootSlotValid"),pr("rootSlot"),pr(),qi(zt([pr("epoch"),_e("authorizedVoter")]),zi(Dt(),-8),"authorizedVoters"),zt([qi(zt([_e("authorizedPubkey"),pr("epochOfLastAuthorizedSwitch"),pr("targetEpoch")]),32,"buf"),pr("idx"),Xe("isEmpty")],"priorVoters"),pr(),qi(zt([pr("epoch"),pr("credits"),pr("prevCredits")]),zi(Dt(),-8),"epochCredits"),zt([pr("slot"),pr("timestamp")],"lastTimestamp")]);const J_="Phantom";class Q_ extends Rx{constructor(t={}){super(),this.name=J_,this.url="https://phantom.app",this.icon="data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjM0IiB3aWR0aD0iMzQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGxpbmVhckdyYWRpZW50IGlkPSJhIiB4MT0iLjUiIHgyPSIuNSIgeTE9IjAiIHkyPSIxIj48c3RvcCBvZmZzZXQ9IjAiIHN0b3AtY29sb3I9IiM1MzRiYjEiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiM1NTFiZjkiLz48L2xpbmVhckdyYWRpZW50PjxsaW5lYXJHcmFkaWVudCBpZD0iYiIgeDE9Ii41IiB4Mj0iLjUiIHkxPSIwIiB5Mj0iMSI+PHN0b3Agb2Zmc2V0PSIwIiBzdG9wLWNvbG9yPSIjZmZmIi8+PHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjZmZmIiBzdG9wLW9wYWNpdHk9Ii44MiIvPjwvbGluZWFyR3JhZGllbnQ+PGNpcmNsZSBjeD0iMTciIGN5PSIxNyIgZmlsbD0idXJsKCNhKSIgcj0iMTciLz48cGF0aCBkPSJtMjkuMTcwMiAxNy4yMDcxaC0yLjk5NjljMC02LjEwNzQtNC45NjgzLTExLjA1ODE3LTExLjA5NzUtMTEuMDU4MTctNi4wNTMyNSAwLTEwLjk3NDYzIDQuODI5NTctMTEuMDk1MDggMTAuODMyMzctLjEyNDYxIDYuMjA1IDUuNzE3NTIgMTEuNTkzMiAxMS45NDUzOCAxMS41OTMyaC43ODM0YzUuNDkwNiAwIDEyLjg0OTctNC4yODI5IDEzLjk5OTUtOS41MDEzLjIxMjMtLjk2MTktLjU1MDItMS44NjYxLTEuNTM4OC0xLjg2NjF6bS0xOC41NDc5LjI3MjFjMCAuODE2Ny0uNjcwMzggMS40ODQ3LTEuNDkwMDEgMS40ODQ3LS44MTk2NCAwLTEuNDg5OTgtLjY2ODMtMS40ODk5OC0xLjQ4NDd2LTIuNDAxOWMwLS44MTY3LjY3MDM0LTEuNDg0NyAxLjQ4OTk4LTEuNDg0Ny44MTk2MyAwIDEuNDkwMDEuNjY4IDEuNDkwMDEgMS40ODQ3em01LjE3MzggMGMwIC44MTY3LS42NzAzIDEuNDg0Ny0xLjQ4OTkgMS40ODQ3LS44MTk3IDAtMS40OS0uNjY4My0xLjQ5LTEuNDg0N3YtMi40MDE5YzAtLjgxNjcuNjcwNi0xLjQ4NDcgMS40OS0xLjQ4NDcuODE5NiAwIDEuNDg5OS42NjggMS40ODk5IDEuNDg0N3oiIGZpbGw9InVybCgjYikiLz48L3N2Zz4K",this.supportedTransactionVersions=new Set(["legacy",0]),this._readyState=typeof window>"u"||typeof document>"u"?_n.Unsupported:_n.NotDetected,this._disconnected=()=>{const e=this._wallet;e&&(e.off("disconnect",this._disconnected),e.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null,this.emit("error",new _x),this.emit("disconnect"))},this._accountChanged=e=>{const n=this._publicKey;if(n){try{e=new ge(e.toBytes())}catch(o){this.emit("error",new ld(o==null?void 0:o.message,o));return}n.equals(e)||(this._publicKey=e,this.emit("connect",e))}},this._connecting=!1,this._wallet=null,this._publicKey=null,this._readyState!==_n.Unsupported&&(kx()?(this._readyState=_n.Loadable,this.emit("readyStateChange",this._readyState)):Mx(()=>{var e,n,o;return(n=(e=window.phantom)==null?void 0:e.solana)!=null&&n.isPhantom||(o=window.solana)!=null&&o.isPhantom?(this._readyState=_n.Installed,this.emit("readyStateChange",this._readyState),!0):!1}))}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get connected(){var t;return!!((t=this._wallet)!=null&&t.isConnected)}get readyState(){return this._readyState}async autoConnect(){this.readyState===_n.Installed&&await this.connect()}async connect(){var t;try{if(this.connected||this.connecting)return;if(this.readyState===_n.Loadable){const o=encodeURI(window.location.href),i=encodeURI(window.location.origin);window.location.href=`https://phantom.app/ul/browse/${o}?ref=${i}`;return}if(this.readyState!==_n.Installed)throw new xx;this._connecting=!0;const e=((t=window.phantom)==null?void 0:t.solana)||window.solana;if(!e.isConnected)try{await e.connect()}catch(o){throw new Ex(o==null?void 0:o.message,o)}if(!e.publicKey)throw new Bx;let n;try{n=new ge(e.publicKey.toBytes())}catch(o){throw new ld(o==null?void 0:o.message,o)}e.on("disconnect",this._disconnected),e.on("accountChanged",this._accountChanged),this._wallet=e,this._publicKey=n,this.emit("connect",n)}catch(e){throw this.emit("error",e),e}finally{this._connecting=!1}}async disconnect(){const t=this._wallet;if(t){t.off("disconnect",this._disconnected),t.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null;try{await t.disconnect()}catch(e){this.emit("error",new Sx(e==null?void 0:e.message,e))}}this.emit("disconnect")}async sendTransaction(t,e,n={}){try{const o=this._wallet;if(!o)throw new bs;try{const{signers:i,...c}=n;zu(t)?i!=null&&i.length&&t.sign(i):(t=await this.prepareTransaction(t,e,c),i!=null&&i.length&&t.partialSign(...i)),c.preflightCommitment=c.preflightCommitment||e.commitment;const{signature:u}=await o.signAndSendTransaction(t,c);return u}catch(i){throw i instanceof fn?i:new vs(i==null?void 0:i.message,i)}}catch(o){throw this.emit("error",o),o}}async signTransaction(t){try{const e=this._wallet;if(!e)throw new bs;try{return await e.signTransaction(t)||t}catch(n){throw new Co(n==null?void 0:n.message,n)}}catch(e){throw this.emit("error",e),e}}async signAllTransactions(t){try{const e=this._wallet;if(!e)throw new bs;try{return await e.signAllTransactions(t)||t}catch(n){throw new Co(n==null?void 0:n.message,n)}}catch(e){throw this.emit("error",e),e}}async signMessage(t){try{const e=this._wallet;if(!e)throw new bs;try{const{signature:n}=await e.signMessage(t);return n}catch(n){throw new Ax(n==null?void 0:n.message,n)}}catch(e){throw this.emit("error",e),e}}}const F3="";function t3({wallets:r,children:t}){const e=j.useCallback(n=>{console.error(n)},[]);return Le.jsx(bv,{wallets:r,autoConnect:!0,onError:e,children:Le.jsx(nd,{children:t})})}function e3({children:r}){const t=j.useMemo(()=>[new Q_],[]);return Le.jsx(Gw,{endpoint:wx,children:Le.jsx(t3,{wallets:t,children:Le.jsxs(nd,{children:[Le.jsx(mx,{position:"bottom-right",reverseOrder:!0}),r]})})})}Gr.Button=vv,Gr.Form=bx,Gr.Wrapper=e3,Gr.fetcher=_a,Gr.useCreateTxHook=ud,Object.defineProperty(Gr,Symbol.toStringTag,{value:"Module"})});
